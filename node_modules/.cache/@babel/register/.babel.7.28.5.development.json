{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst process = require('process');\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(__dirname + '/../config/config.js')[env];\nconst db = {};\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\nfs.readdirSync(__dirname).filter(file => {\n  return file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js' && file.indexOf('.test.js') === -1;\n}).forEach(file => {\n  const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n  db[model.name] = model;\n});\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiU2VxdWVsaXplIiwicHJvY2VzcyIsImJhc2VuYW1lIiwiX19maWxlbmFtZSIsImVudiIsIk5PREVfRU5WIiwiY29uZmlnIiwiX19kaXJuYW1lIiwiZGIiLCJzZXF1ZWxpemUiLCJ1c2VfZW52X3ZhcmlhYmxlIiwiZGF0YWJhc2UiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicmVhZGRpclN5bmMiLCJmaWx0ZXIiLCJmaWxlIiwiaW5kZXhPZiIsInNsaWNlIiwiZm9yRWFjaCIsIm1vZGVsIiwiam9pbiIsIkRhdGFUeXBlcyIsIm5hbWUiLCJPYmplY3QiLCJrZXlzIiwibW9kZWxOYW1lIiwiYXNzb2NpYXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgU2VxdWVsaXplID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XG5jb25zdCBwcm9jZXNzID0gcmVxdWlyZSgncHJvY2VzcycpO1xuY29uc3QgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lKF9fZmlsZW5hbWUpO1xuY29uc3QgZW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ2RldmVsb3BtZW50JztcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoX19kaXJuYW1lICsgJy8uLi9jb25maWcvY29uZmlnLmpzJylbZW52XTtcbmNvbnN0IGRiID0ge307XG5cbmxldCBzZXF1ZWxpemU7XG5pZiAoY29uZmlnLnVzZV9lbnZfdmFyaWFibGUpIHtcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShwcm9jZXNzLmVudltjb25maWcudXNlX2Vudl92YXJpYWJsZV0sIGNvbmZpZyk7XG59IGVsc2Uge1xuICBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKGNvbmZpZy5kYXRhYmFzZSwgY29uZmlnLnVzZXJuYW1lLCBjb25maWcucGFzc3dvcmQsIGNvbmZpZyk7XG59XG5cbmZzXG4gIC5yZWFkZGlyU3luYyhfX2Rpcm5hbWUpXG4gIC5maWx0ZXIoZmlsZSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIGZpbGUuaW5kZXhPZignLicpICE9PSAwICYmXG4gICAgICBmaWxlICE9PSBiYXNlbmFtZSAmJlxuICAgICAgZmlsZS5zbGljZSgtMykgPT09ICcuanMnICYmXG4gICAgICBmaWxlLmluZGV4T2YoJy50ZXN0LmpzJykgPT09IC0xXG4gICAgKTtcbiAgfSlcbiAgLmZvckVhY2goZmlsZSA9PiB7XG4gICAgY29uc3QgbW9kZWwgPSByZXF1aXJlKHBhdGguam9pbihfX2Rpcm5hbWUsIGZpbGUpKShzZXF1ZWxpemUsIFNlcXVlbGl6ZS5EYXRhVHlwZXMpO1xuICAgIGRiW21vZGVsLm5hbWVdID0gbW9kZWw7XG4gIH0pO1xuXG5PYmplY3Qua2V5cyhkYikuZm9yRWFjaChtb2RlbE5hbWUgPT4ge1xuICBpZiAoZGJbbW9kZWxOYW1lXS5hc3NvY2lhdGUpIHtcbiAgICBkYlttb2RlbE5hbWVdLmFzc29jaWF0ZShkYik7XG4gIH1cbn0pO1xuXG5kYi5zZXF1ZWxpemUgPSBzZXF1ZWxpemU7XG5kYi5TZXF1ZWxpemUgPSBTZXF1ZWxpemU7XG5cbm1vZHVsZS5leHBvcnRzID0gZGI7Il0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaLE1BQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLElBQUksQ0FBQztBQUN4QixNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsTUFBTUUsU0FBUyxHQUFHRixPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3RDLE1BQU1HLE9BQU8sR0FBR0gsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNSSxRQUFRLEdBQUdILElBQUksQ0FBQ0csUUFBUSxDQUFDQyxVQUFVLENBQUM7QUFDMUMsTUFBTUMsR0FBRyxHQUFHSCxPQUFPLENBQUNHLEdBQUcsQ0FBQ0MsUUFBUSxJQUFJLGFBQWE7QUFDakQsTUFBTUMsTUFBTSxHQUFHUixPQUFPLENBQUNTLFNBQVMsR0FBRyxzQkFBc0IsQ0FBQyxDQUFDSCxHQUFHLENBQUM7QUFDL0QsTUFBTUksRUFBRSxHQUFHLENBQUMsQ0FBQztBQUViLElBQUlDLFNBQVM7QUFDYixJQUFJSCxNQUFNLENBQUNJLGdCQUFnQixFQUFFO0VBQzNCRCxTQUFTLEdBQUcsSUFBSVQsU0FBUyxDQUFDQyxPQUFPLENBQUNHLEdBQUcsQ0FBQ0UsTUFBTSxDQUFDSSxnQkFBZ0IsQ0FBQyxFQUFFSixNQUFNLENBQUM7QUFDekUsQ0FBQyxNQUFNO0VBQ0xHLFNBQVMsR0FBRyxJQUFJVCxTQUFTLENBQUNNLE1BQU0sQ0FBQ0ssUUFBUSxFQUFFTCxNQUFNLENBQUNNLFFBQVEsRUFBRU4sTUFBTSxDQUFDTyxRQUFRLEVBQUVQLE1BQU0sQ0FBQztBQUN0RjtBQUVBVCxFQUFFLENBQ0NpQixXQUFXLENBQUNQLFNBQVMsQ0FBQyxDQUN0QlEsTUFBTSxDQUFDQyxJQUFJLElBQUk7RUFDZCxPQUNFQSxJQUFJLENBQUNDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQ3ZCRCxJQUFJLEtBQUtkLFFBQVEsSUFDakJjLElBQUksQ0FBQ0UsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxJQUN4QkYsSUFBSSxDQUFDQyxPQUFPLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBRW5DLENBQUMsQ0FBQyxDQUNERSxPQUFPLENBQUNILElBQUksSUFBSTtFQUNmLE1BQU1JLEtBQUssR0FBR3RCLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDc0IsSUFBSSxDQUFDZCxTQUFTLEVBQUVTLElBQUksQ0FBQyxDQUFDLENBQUNQLFNBQVMsRUFBRVQsU0FBUyxDQUFDc0IsU0FBUyxDQUFDO0VBQ2pGZCxFQUFFLENBQUNZLEtBQUssQ0FBQ0csSUFBSSxDQUFDLEdBQUdILEtBQUs7QUFDeEIsQ0FBQyxDQUFDO0FBRUpJLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDakIsRUFBRSxDQUFDLENBQUNXLE9BQU8sQ0FBQ08sU0FBUyxJQUFJO0VBQ25DLElBQUlsQixFQUFFLENBQUNrQixTQUFTLENBQUMsQ0FBQ0MsU0FBUyxFQUFFO0lBQzNCbkIsRUFBRSxDQUFDa0IsU0FBUyxDQUFDLENBQUNDLFNBQVMsQ0FBQ25CLEVBQUUsQ0FBQztFQUM3QjtBQUNGLENBQUMsQ0FBQztBQUVGQSxFQUFFLENBQUNDLFNBQVMsR0FBR0EsU0FBUztBQUN4QkQsRUFBRSxDQUFDUixTQUFTLEdBQUdBLFNBQVM7QUFFeEI0QixNQUFNLENBQUNDLE9BQU8sR0FBR3JCLEVBQUUiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["fs","require","path","Sequelize","process","basename","__filename","env","NODE_ENV","config","__dirname","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["index.js"],"sourcesContent":["'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst process = require('process');\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(__dirname + '/../config/config.js')[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => {\n    return (\n      file.indexOf('.') !== 0 &&\n      file !== basename &&\n      file.slice(-3) === '.js' &&\n      file.indexOf('.test.js') === -1\n    );\n  })\n  .forEach(file => {\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;AACxB,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAW,CAAC;AACtC,MAAMG,OAAO,GAAGH,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMI,QAAQ,GAAGH,IAAI,CAACG,QAAQ,CAACC,UAAU,CAAC;AAC1C,MAAMC,GAAG,GAAGH,OAAO,CAACG,GAAG,CAACC,QAAQ,IAAI,aAAa;AACjD,MAAMC,MAAM,GAAGR,OAAO,CAACS,SAAS,GAAG,sBAAsB,CAAC,CAACH,GAAG,CAAC;AAC/D,MAAMI,EAAE,GAAG,CAAC,CAAC;AAEb,IAAIC,SAAS;AACb,IAAIH,MAAM,CAACI,gBAAgB,EAAE;EAC3BD,SAAS,GAAG,IAAIT,SAAS,CAACC,OAAO,CAACG,GAAG,CAACE,MAAM,CAACI,gBAAgB,CAAC,EAAEJ,MAAM,CAAC;AACzE,CAAC,MAAM;EACLG,SAAS,GAAG,IAAIT,SAAS,CAACM,MAAM,CAACK,QAAQ,EAAEL,MAAM,CAACM,QAAQ,EAAEN,MAAM,CAACO,QAAQ,EAAEP,MAAM,CAAC;AACtF;AAEAT,EAAE,CACCiB,WAAW,CAACP,SAAS,CAAC,CACtBQ,MAAM,CAACC,IAAI,IAAI;EACd,OACEA,IAAI,CAACC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IACvBD,IAAI,KAAKd,QAAQ,IACjBc,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,IACxBF,IAAI,CAACC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAEnC,CAAC,CAAC,CACDE,OAAO,CAACH,IAAI,IAAI;EACf,MAAMI,KAAK,GAAGtB,OAAO,CAACC,IAAI,CAACsB,IAAI,CAACd,SAAS,EAAES,IAAI,CAAC,CAAC,CAACP,SAAS,EAAET,SAAS,CAACsB,SAAS,CAAC;EACjFd,EAAE,CAACY,KAAK,CAACG,IAAI,CAAC,GAAGH,KAAK;AACxB,CAAC,CAAC;AAEJI,MAAM,CAACC,IAAI,CAACjB,EAAE,CAAC,CAACW,OAAO,CAACO,SAAS,IAAI;EACnC,IAAIlB,EAAE,CAACkB,SAAS,CAAC,CAACC,SAAS,EAAE;IAC3BnB,EAAE,CAACkB,SAAS,CAAC,CAACC,SAAS,CAACnB,EAAE,CAAC;EAC7B;AACF,CAAC,CAAC;AAEFA,EAAE,CAACC,SAAS,GAAGA,SAAS;AACxBD,EAAE,CAACR,SAAS,GAAGA,SAAS;AAExB4B,MAAM,CAACC,OAAO,GAAGrB,EAAE","ignoreList":[]}},"mtime":1757221101138},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\config\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\config\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"require('dotenv').config();\nmodule.exports = {\n  \"development\": {\n    \"username\": process.env.DB_USER,\n    \"password\": process.env.DB_PASS,\n    \"database\": process.env.DB_NAME,\n    \"host\": process.env.DB_HOST,\n    \"dialect\": \"mysql\",\n    \"logging\": false\n  },\n  \"test\": {\n    \"username\": process.env.DB_USER,\n    \"password\": process.env.DB_PASS,\n    \"database\": process.env.DB_NAME,\n    \"host\": process.env.DB_HOST,\n    \"dialect\": \"mysql\",\n    \"logging\": false\n  },\n  \"production\": {\n    \"username\": process.env.DB_USER,\n    \"password\": process.env.DB_PASS,\n    \"database\": process.env.DB_NAME,\n    \"host\": process.env.DB_HOST,\n    \"dialect\": \"mysql\",\n    \"logging\": false\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInByb2Nlc3MiLCJlbnYiLCJEQl9VU0VSIiwiREJfUEFTUyIsIkRCX05BTUUiLCJEQl9IT1NUIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG9yb2RyXFx3b3Jrc3BhY2VcXEFQSXNcXGFwaS1lY29tbWVyY2VcXGNvbmZpZ1xcIiwic291cmNlcyI6WyJjb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBcImRldmVsb3BtZW50XCI6IHtcclxuICAgIFwidXNlcm5hbWVcIjogcHJvY2Vzcy5lbnYuREJfVVNFUixcclxuICAgIFwicGFzc3dvcmRcIjogcHJvY2Vzcy5lbnYuREJfUEFTUyxcclxuICAgIFwiZGF0YWJhc2VcIjogcHJvY2Vzcy5lbnYuREJfTkFNRSxcclxuICAgIFwiaG9zdFwiOiBwcm9jZXNzLmVudi5EQl9IT1NULFxyXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIixcclxuICAgIFwibG9nZ2luZ1wiOiBmYWxzZVxyXG4gIH0sXHJcbiAgXCJ0ZXN0XCI6IHtcclxuICAgIFwidXNlcm5hbWVcIjogcHJvY2Vzcy5lbnYuREJfVVNFUixcclxuICAgIFwicGFzc3dvcmRcIjogcHJvY2Vzcy5lbnYuREJfUEFTUyxcclxuICAgIFwiZGF0YWJhc2VcIjogcHJvY2Vzcy5lbnYuREJfTkFNRSxcclxuICAgIFwiaG9zdFwiOiBwcm9jZXNzLmVudi5EQl9IT1NULFxyXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIixcclxuICAgIFwibG9nZ2luZ1wiOiBmYWxzZVxyXG4gIH0sXHJcbiAgXCJwcm9kdWN0aW9uXCI6IHtcclxuICAgIFwidXNlcm5hbWVcIjogcHJvY2Vzcy5lbnYuREJfVVNFUixcclxuICAgIFwicGFzc3dvcmRcIjogcHJvY2Vzcy5lbnYuREJfUEFTUyxcclxuICAgIFwiZGF0YWJhc2VcIjogcHJvY2Vzcy5lbnYuREJfTkFNRSxcclxuICAgIFwiaG9zdFwiOiBwcm9jZXNzLmVudi5EQl9IT1NULFxyXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIixcclxuICAgIFwibG9nZ2luZ1wiOiBmYWxzZVxyXG4gIH1cclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUUxQkMsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDZixhQUFhLEVBQUU7SUFDYixVQUFVLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxPQUFPO0lBQy9CLFVBQVUsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNFLE9BQU87SUFDL0IsVUFBVSxFQUFFSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csT0FBTztJQUMvQixNQUFNLEVBQUVKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSSxPQUFPO0lBQzNCLFNBQVMsRUFBRSxPQUFPO0lBQ2xCLFNBQVMsRUFBRTtFQUNiLENBQUM7RUFDRCxNQUFNLEVBQUU7SUFDTixVQUFVLEVBQUVMLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxPQUFPO0lBQy9CLFVBQVUsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNFLE9BQU87SUFDL0IsVUFBVSxFQUFFSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csT0FBTztJQUMvQixNQUFNLEVBQUVKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSSxPQUFPO0lBQzNCLFNBQVMsRUFBRSxPQUFPO0lBQ2xCLFNBQVMsRUFBRTtFQUNiLENBQUM7RUFDRCxZQUFZLEVBQUU7SUFDWixVQUFVLEVBQUVMLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxPQUFPO0lBQy9CLFVBQVUsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNFLE9BQU87SUFDL0IsVUFBVSxFQUFFSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csT0FBTztJQUMvQixNQUFNLEVBQUVKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSSxPQUFPO0lBQzNCLFNBQVMsRUFBRSxPQUFPO0lBQ2xCLFNBQVMsRUFBRTtFQUNiO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["require","config","module","exports","process","env","DB_USER","DB_PASS","DB_NAME","DB_HOST"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\config\\","sources":["config.js"],"sourcesContent":["require('dotenv').config();\r\n\r\nmodule.exports = {\r\n  \"development\": {\r\n    \"username\": process.env.DB_USER,\r\n    \"password\": process.env.DB_PASS,\r\n    \"database\": process.env.DB_NAME,\r\n    \"host\": process.env.DB_HOST,\r\n    \"dialect\": \"mysql\",\r\n    \"logging\": false\r\n  },\r\n  \"test\": {\r\n    \"username\": process.env.DB_USER,\r\n    \"password\": process.env.DB_PASS,\r\n    \"database\": process.env.DB_NAME,\r\n    \"host\": process.env.DB_HOST,\r\n    \"dialect\": \"mysql\",\r\n    \"logging\": false\r\n  },\r\n  \"production\": {\r\n    \"username\": process.env.DB_USER,\r\n    \"password\": process.env.DB_PASS,\r\n    \"database\": process.env.DB_NAME,\r\n    \"host\": process.env.DB_HOST,\r\n    \"dialect\": \"mysql\",\r\n    \"logging\": false\r\n  }\r\n};\r\n"],"mappings":"AAAAA,OAAO,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAAC;AAE1BC,MAAM,CAACC,OAAO,GAAG;EACf,aAAa,EAAE;IACb,UAAU,EAAEC,OAAO,CAACC,GAAG,CAACC,OAAO;IAC/B,UAAU,EAAEF,OAAO,CAACC,GAAG,CAACE,OAAO;IAC/B,UAAU,EAAEH,OAAO,CAACC,GAAG,CAACG,OAAO;IAC/B,MAAM,EAAEJ,OAAO,CAACC,GAAG,CAACI,OAAO;IAC3B,SAAS,EAAE,OAAO;IAClB,SAAS,EAAE;EACb,CAAC;EACD,MAAM,EAAE;IACN,UAAU,EAAEL,OAAO,CAACC,GAAG,CAACC,OAAO;IAC/B,UAAU,EAAEF,OAAO,CAACC,GAAG,CAACE,OAAO;IAC/B,UAAU,EAAEH,OAAO,CAACC,GAAG,CAACG,OAAO;IAC/B,MAAM,EAAEJ,OAAO,CAACC,GAAG,CAACI,OAAO;IAC3B,SAAS,EAAE,OAAO;IAClB,SAAS,EAAE;EACb,CAAC;EACD,YAAY,EAAE;IACZ,UAAU,EAAEL,OAAO,CAACC,GAAG,CAACC,OAAO;IAC/B,UAAU,EAAEF,OAAO,CAACC,GAAG,CAACE,OAAO;IAC/B,UAAU,EAAEH,OAAO,CAACC,GAAG,CAACG,OAAO;IAC/B,MAAM,EAAEJ,OAAO,CAACC,GAAG,CAACI,OAAO;IAC3B,SAAS,EAAE,OAAO;IAClB,SAAS,EAAE;EACb;AACF,CAAC","ignoreList":[]}},"mtime":1761465278438},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\carrito.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Carrito extends Model {\n    static associate(models) {}\n  }\n  Carrito.init({\n    id: {\n      type: DataTypes.INTEGER,\n      autoIncrement: true,\n      primaryKey: true\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    clave: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    descripcion: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    cantidad: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    precio: {\n      type: DataTypes.DECIMAL(10, 2),\n      allowNull: true\n    },\n    fecha: {\n      type: DataTypes.DATE,\n      allowNull: false\n    }\n  }, {\n    sequelize,\n    modelName: 'Carrito',\n    tableName: 'Carritos'\n  });\n  return Carrito;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiQ2Fycml0byIsImFzc29jaWF0ZSIsIm1vZGVscyIsImluaXQiLCJpZCIsInR5cGUiLCJJTlRFR0VSIiwiYXV0b0luY3JlbWVudCIsInByaW1hcnlLZXkiLCJlbWFpbCIsIlNUUklORyIsImFsbG93TnVsbCIsImNsYXZlIiwiZGVzY3JpcGNpb24iLCJURVhUIiwiY2FudGlkYWQiLCJwcmVjaW8iLCJERUNJTUFMIiwiZmVjaGEiLCJEQVRFIiwibW9kZWxOYW1lIiwidGFibGVOYW1lIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG9yb2RyXFx3b3Jrc3BhY2VcXEFQSXNcXGFwaS1lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJjYXJyaXRvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuY29uc3Qge1xyXG4gIE1vZGVsXHJcbn0gPSByZXF1aXJlKCdzZXF1ZWxpemUnKTtcclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICBjbGFzcyBDYXJyaXRvIGV4dGVuZHMgTW9kZWwge1xyXG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcclxuICAgIH1cclxuICB9XHJcbiAgQ2Fycml0by5pbml0KHtcclxuICAgIGlkOiB7XHJcbiAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcclxuICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXHJcbiAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gIH0sXHJcbiAgICBlbWFpbDogIHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcclxuICAgIH0sXHJcbiAgICBjbGF2ZTogIHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXHJcbiAgICB9LFxyXG4gICAgZGVzY3JpcGNpb246IHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgY2FudGlkYWQ6ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxyXG4gICAgfSxcclxuICAgIHByZWNpbzoge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuREVDSU1BTCgxMCwyKSxcclxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcclxuICAgIH0sXHJcbiAgICBmZWNoYTogIHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxyXG4gICAgfSxcclxuICB9LCB7XHJcbiAgICBzZXF1ZWxpemUsXHJcbiAgICBtb2RlbE5hbWU6ICdDYXJyaXRvJyxcclxuICAgIHRhYmxlTmFtZTogJ0NhcnJpdG9zJ1xyXG4gIH0pO1xyXG4gIHJldHVybiBDYXJyaXRvO1xyXG59OyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFDWixNQUFNO0VBQ0pBO0FBQ0YsQ0FBQyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3hCQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxDQUFDQyxTQUFTLEVBQUVDLFNBQVMsS0FBSztFQUN6QyxNQUFNQyxPQUFPLFNBQVNOLEtBQUssQ0FBQztJQUMxQixPQUFPTyxTQUFTQSxDQUFDQyxNQUFNLEVBQUUsQ0FDekI7RUFDRjtFQUNBRixPQUFPLENBQUNHLElBQUksQ0FBQztJQUNYQyxFQUFFLEVBQUU7TUFDSkMsSUFBSSxFQUFFTixTQUFTLENBQUNPLE9BQU87TUFDdkJDLGFBQWEsRUFBRSxJQUFJO01BQ25CQyxVQUFVLEVBQUU7SUFDZCxDQUFDO0lBQ0NDLEtBQUssRUFBRztNQUNOSixJQUFJLEVBQUVOLFNBQVMsQ0FBQ1csTUFBTTtNQUN0QkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNEQyxLQUFLLEVBQUc7TUFDTlAsSUFBSSxFQUFFTixTQUFTLENBQUNXLE1BQU07TUFDdEJDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREUsV0FBVyxFQUFFO01BQ1hSLElBQUksRUFBRU4sU0FBUyxDQUFDZSxJQUFJO01BQ3BCSCxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RJLFFBQVEsRUFBRztNQUNUVixJQUFJLEVBQUVOLFNBQVMsQ0FBQ1csTUFBTTtNQUN0QkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNESyxNQUFNLEVBQUU7TUFDTlgsSUFBSSxFQUFFTixTQUFTLENBQUNrQixPQUFPLENBQUMsRUFBRSxFQUFDLENBQUMsQ0FBQztNQUM3Qk4sU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNETyxLQUFLLEVBQUc7TUFDTmIsSUFBSSxFQUFFTixTQUFTLENBQUNvQixJQUFJO01BQ3BCUixTQUFTLEVBQUU7SUFDYjtFQUNGLENBQUMsRUFBRTtJQUNEYixTQUFTO0lBQ1RzQixTQUFTLEVBQUUsU0FBUztJQUNwQkMsU0FBUyxFQUFFO0VBQ2IsQ0FBQyxDQUFDO0VBQ0YsT0FBT3JCLE9BQU87QUFDaEIsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Carrito","associate","models","init","id","type","INTEGER","autoIncrement","primaryKey","email","STRING","allowNull","clave","descripcion","TEXT","cantidad","precio","DECIMAL","fecha","DATE","modelName","tableName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["carrito.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Carrito extends Model {\r\n    static associate(models) {\r\n    }\r\n  }\r\n  Carrito.init({\r\n    id: {\r\n    type: DataTypes.INTEGER,\r\n    autoIncrement: true,\r\n    primaryKey: true,\r\n  },\r\n    email:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    clave:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n    descripcion: {\r\n      type: DataTypes.TEXT,\r\n      allowNull: false,\r\n    },\r\n    cantidad:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n    precio: {\r\n      type: DataTypes.DECIMAL(10,2),\r\n      allowNull: true, \r\n    },\r\n    fecha:  {\r\n      type: DataTypes.DATE,\r\n      allowNull: false, \r\n    },\r\n  }, {\r\n    sequelize,\r\n    modelName: 'Carrito',\r\n    tableName: 'Carritos'\r\n  });\r\n  return Carrito;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,OAAO,SAASN,KAAK,CAAC;IAC1B,OAAOO,SAASA,CAACC,MAAM,EAAE,CACzB;EACF;EACAF,OAAO,CAACG,IAAI,CAAC;IACXC,EAAE,EAAE;MACJC,IAAI,EAAEN,SAAS,CAACO,OAAO;MACvBC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE;IACd,CAAC;IACCC,KAAK,EAAG;MACNJ,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDC,KAAK,EAAG;MACNP,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDE,WAAW,EAAE;MACXR,IAAI,EAAEN,SAAS,CAACe,IAAI;MACpBH,SAAS,EAAE;IACb,CAAC;IACDI,QAAQ,EAAG;MACTV,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDK,MAAM,EAAE;MACNX,IAAI,EAAEN,SAAS,CAACkB,OAAO,CAAC,EAAE,EAAC,CAAC,CAAC;MAC7BN,SAAS,EAAE;IACb,CAAC;IACDO,KAAK,EAAG;MACNb,IAAI,EAAEN,SAAS,CAACoB,IAAI;MACpBR,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACDb,SAAS;IACTsB,SAAS,EAAE,SAAS;IACpBC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOrB,OAAO;AAChB,CAAC","ignoreList":[]}},"mtime":1757716812989},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\categoria.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Categoria extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // define association here\n      /* Categoria.hasMany(models.Categoria, {\n        foreignKey: 'categoriaPadreId',\n        as: 'nivelsuperior',\n        allowNull: true,\n        onDelete: 'NO ACTION',\n        onUpdate: 'NO ACTION'\n      }); */\n    }\n  }\n  Categoria.init({\n    categoria: {\n      type: DataTypes.STRING,\n      primaryKey: true,\n      allowNull: true\n    },\n    descripcion: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    cuenta_contable: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    categoria_padre: {\n      type: DataTypes.STRING,\n      allowNull: true\n    }\n  }, {\n    sequelize,\n    modelName: 'Categoria',\n    tableName: 'Categorias'\n  });\n  return Categoria;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiQ2F0ZWdvcmlhIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiaW5pdCIsImNhdGVnb3JpYSIsInR5cGUiLCJTVFJJTkciLCJwcmltYXJ5S2V5IiwiYWxsb3dOdWxsIiwiZGVzY3JpcGNpb24iLCJURVhUIiwiY3VlbnRhX2NvbnRhYmxlIiwiY2F0ZWdvcmlhX3BhZHJlIiwibW9kZWxOYW1lIiwidGFibGVOYW1lIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG9yb2RyXFx3b3Jrc3BhY2VcXEFQSXNcXGFwaS1lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJjYXRlZ29yaWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuY29uc3Qge1xuICBNb2RlbFxufSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgY2xhc3MgQ2F0ZWdvcmlhIGV4dGVuZHMgTW9kZWwge1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgZm9yIGRlZmluaW5nIGFzc29jaWF0aW9ucy5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYSBwYXJ0IG9mIFNlcXVlbGl6ZSBsaWZlY3ljbGUuXG4gICAgICogVGhlIGBtb2RlbHMvaW5kZXhgIGZpbGUgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkuXG4gICAgICovXG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXG4gICAgICAvKiBDYXRlZ29yaWEuaGFzTWFueShtb2RlbHMuQ2F0ZWdvcmlhLCB7XG4gICAgICAgIGZvcmVpZ25LZXk6ICdjYXRlZ29yaWFQYWRyZUlkJyxcbiAgICAgICAgYXM6ICduaXZlbHN1cGVyaW9yJyxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgICAgICBvbkRlbGV0ZTogJ05PIEFDVElPTicsXG4gICAgICAgIG9uVXBkYXRlOiAnTk8gQUNUSU9OJ1xuICAgICAgfSk7ICovXG4gICAgfVxuICB9XG4gIENhdGVnb3JpYS5pbml0KHtcbiAgICBjYXRlZ29yaWE6ICB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBkZXNjcmlwY2lvbjogIHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXG4gICAgfSxcbiAgICBjdWVudGFfY29udGFibGU6ICB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcbiAgICB9LFxuICAgIGNhdGVnb3JpYV9wYWRyZTogIHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gIH0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnQ2F0ZWdvcmlhJyxcbiAgICB0YWJsZU5hbWU6ICdDYXRlZ29yaWFzJ1xuICB9KTtcbiAgcmV0dXJuIENhdGVnb3JpYTtcbn07Il0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUNaLE1BQU07RUFDSkE7QUFDRixDQUFDLEdBQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDeEJDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLENBQUNDLFNBQVMsRUFBRUMsU0FBUyxLQUFLO0VBQ3pDLE1BQU1DLFNBQVMsU0FBU04sS0FBSyxDQUFDO0lBQzVCO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7SUFDSSxPQUFPTyxTQUFTQSxDQUFDQyxNQUFNLEVBQUU7TUFDdkI7TUFDQTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtJQU5NO0VBUUo7RUFDQUYsU0FBUyxDQUFDRyxJQUFJLENBQUM7SUFDYkMsU0FBUyxFQUFHO01BQ1ZDLElBQUksRUFBRU4sU0FBUyxDQUFDTyxNQUFNO01BQ3RCQyxVQUFVLEVBQUUsSUFBSTtNQUNoQkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNEQyxXQUFXLEVBQUc7TUFDWkosSUFBSSxFQUFFTixTQUFTLENBQUNXLElBQUk7TUFDcEJGLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREcsZUFBZSxFQUFHO01BQ2hCTixJQUFJLEVBQUVOLFNBQVMsQ0FBQ08sTUFBTTtNQUN0QkUsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNESSxlQUFlLEVBQUc7TUFDaEJQLElBQUksRUFBRU4sU0FBUyxDQUFDTyxNQUFNO01BQ3RCRSxTQUFTLEVBQUU7SUFDYjtFQUNGLENBQUMsRUFBRTtJQUNEVixTQUFTO0lBQ1RlLFNBQVMsRUFBRSxXQUFXO0lBQ3RCQyxTQUFTLEVBQUU7RUFDYixDQUFDLENBQUM7RUFDRixPQUFPZCxTQUFTO0FBQ2xCLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Categoria","associate","models","init","categoria","type","STRING","primaryKey","allowNull","descripcion","TEXT","cuenta_contable","categoria_padre","modelName","tableName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["categoria.js"],"sourcesContent":["'use strict';\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Categoria extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // define association here\n      /* Categoria.hasMany(models.Categoria, {\n        foreignKey: 'categoriaPadreId',\n        as: 'nivelsuperior',\n        allowNull: true,\n        onDelete: 'NO ACTION',\n        onUpdate: 'NO ACTION'\n      }); */\n    }\n  }\n  Categoria.init({\n    categoria:  {\n      type: DataTypes.STRING,\n      primaryKey: true,\n      allowNull: true, \n    },\n    descripcion:  {\n      type: DataTypes.TEXT,\n      allowNull: false, \n    },\n    cuenta_contable:  {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    categoria_padre:  {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n  }, {\n    sequelize,\n    modelName: 'Categoria',\n    tableName: 'Categorias'\n  });\n  return Categoria;\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,SAAS,SAASN,KAAK,CAAC;IAC5B;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;MACA;AACN;AACA;AACA;AACA;AACA;AACA;IANM;EAQJ;EACAF,SAAS,CAACG,IAAI,CAAC;IACbC,SAAS,EAAG;MACVC,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,UAAU,EAAE,IAAI;MAChBC,SAAS,EAAE;IACb,CAAC;IACDC,WAAW,EAAG;MACZJ,IAAI,EAAEN,SAAS,CAACW,IAAI;MACpBF,SAAS,EAAE;IACb,CAAC;IACDG,eAAe,EAAG;MAChBN,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBE,SAAS,EAAE;IACb,CAAC;IACDI,eAAe,EAAG;MAChBP,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBE,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACDV,SAAS;IACTe,SAAS,EAAE,WAAW;IACtBC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOd,SAAS;AAClB,CAAC","ignoreList":[]}},"mtime":1757139833783},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\cliente.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Cliente extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // Un pedido tiene muchos detalles de pedido\n      /* Cliente.hasMany(models.Pedido, {\n        foreignKey: 'clienteEmail',\n        as: 'pedidos',\n        onDelete: 'CASCADE', // Esta línea es clave para el borrado en cascada\n        sourceKey: 'email',\n      }); */\n      // Un cliente tiene muchos domicilios\n      Cliente.hasMany(models.DomicilioCliente, {\n        foreignKey: 'clienteEmail',\n        as: 'domicilios',\n        sourceKey: 'email'\n      });\n    }\n  }\n  Cliente.init({\n    id: {\n      type: DataTypes.INTEGER,\n      autoIncrement: true,\n      primaryKey: true\n    },\n    nombre: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    apellido: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      primaryKey: true\n    }\n  }, {\n    sequelize,\n    modelName: 'Cliente'\n  });\n  return Cliente;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiQ2xpZW50ZSIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJEb21pY2lsaW9DbGllbnRlIiwiZm9yZWlnbktleSIsImFzIiwic291cmNlS2V5IiwiaW5pdCIsImlkIiwidHlwZSIsIklOVEVHRVIiLCJhdXRvSW5jcmVtZW50IiwicHJpbWFyeUtleSIsIm5vbWJyZSIsIlNUUklORyIsImFsbG93TnVsbCIsImFwZWxsaWRvIiwiZW1haWwiLCJtb2RlbE5hbWUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcb3JvZHJcXHdvcmtzcGFjZVxcQVBJc1xcYXBpLWVjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImNsaWVudGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuY29uc3Qge1xuICBNb2RlbFxufSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgY2xhc3MgQ2xpZW50ZSBleHRlbmRzIE1vZGVsIHtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgbWV0aG9kIGZvciBkZWZpbmluZyBhc3NvY2lhdGlvbnMuXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGEgcGFydCBvZiBTZXF1ZWxpemUgbGlmZWN5Y2xlLlxuICAgICAqIFRoZSBgbW9kZWxzL2luZGV4YCBmaWxlIHdpbGwgY2FsbCB0aGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XG4gICAgICAvLyBVbiBwZWRpZG8gdGllbmUgbXVjaG9zIGRldGFsbGVzIGRlIHBlZGlkb1xuICAgICAgLyogQ2xpZW50ZS5oYXNNYW55KG1vZGVscy5QZWRpZG8sIHtcbiAgICAgICAgZm9yZWlnbktleTogJ2NsaWVudGVFbWFpbCcsXG4gICAgICAgIGFzOiAncGVkaWRvcycsXG4gICAgICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsIC8vIEVzdGEgbMOtbmVhIGVzIGNsYXZlIHBhcmEgZWwgYm9ycmFkbyBlbiBjYXNjYWRhXG4gICAgICAgIHNvdXJjZUtleTogJ2VtYWlsJyxcbiAgICAgIH0pOyAqL1xuICAgICAgLy8gVW4gY2xpZW50ZSB0aWVuZSBtdWNob3MgZG9taWNpbGlvc1xuICAgICAgQ2xpZW50ZS5oYXNNYW55KG1vZGVscy5Eb21pY2lsaW9DbGllbnRlLCB7XG4gICAgICAgIGZvcmVpZ25LZXk6ICdjbGllbnRlRW1haWwnLFxuICAgICAgICBhczogJ2RvbWljaWxpb3MnLFxuICAgICAgICBzb3VyY2VLZXk6ICdlbWFpbCcsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgQ2xpZW50ZS5pbml0KHtcbiAgICBpZDoge1xuICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgfSxcbiAgICBub21icmU6ICB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXG4gICAgfSxcbiAgICBhcGVsbGlkbzogIHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcbiAgICB9LFxuICAgIGVtYWlsOiAge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxuICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICB9LFxuICB9LCB7XG4gICAgc2VxdWVsaXplLFxuICAgIG1vZGVsTmFtZTogJ0NsaWVudGUnLFxuICB9KTtcbiAgcmV0dXJuIENsaWVudGU7XG59OyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFDWixNQUFNO0VBQ0pBO0FBQ0YsQ0FBQyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3hCQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxDQUFDQyxTQUFTLEVBQUVDLFNBQVMsS0FBSztFQUN6QyxNQUFNQyxPQUFPLFNBQVNOLEtBQUssQ0FBQztJQUMxQjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0lBQ0ksT0FBT08sU0FBU0EsQ0FBQ0MsTUFBTSxFQUFFO01BQ3ZCO01BQ0E7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO01BQ007TUFDQUYsT0FBTyxDQUFDRyxPQUFPLENBQUNELE1BQU0sQ0FBQ0UsZ0JBQWdCLEVBQUU7UUFDdkNDLFVBQVUsRUFBRSxjQUFjO1FBQzFCQyxFQUFFLEVBQUUsWUFBWTtRQUNoQkMsU0FBUyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ0o7RUFDRjtFQUNBUCxPQUFPLENBQUNRLElBQUksQ0FBQztJQUNYQyxFQUFFLEVBQUU7TUFDSkMsSUFBSSxFQUFFWCxTQUFTLENBQUNZLE9BQU87TUFDdkJDLGFBQWEsRUFBRSxJQUFJO01BQ25CQyxVQUFVLEVBQUU7SUFDZCxDQUFDO0lBQ0NDLE1BQU0sRUFBRztNQUNQSixJQUFJLEVBQUVYLFNBQVMsQ0FBQ2dCLE1BQU07TUFDdEJDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREMsUUFBUSxFQUFHO01BQ1RQLElBQUksRUFBRVgsU0FBUyxDQUFDZ0IsTUFBTTtNQUN0QkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNERSxLQUFLLEVBQUc7TUFDTlIsSUFBSSxFQUFFWCxTQUFTLENBQUNnQixNQUFNO01BQ3RCQyxTQUFTLEVBQUUsS0FBSztNQUNoQkgsVUFBVSxFQUFFO0lBQ2Q7RUFDRixDQUFDLEVBQUU7SUFDRGYsU0FBUztJQUNUcUIsU0FBUyxFQUFFO0VBQ2IsQ0FBQyxDQUFDO0VBQ0YsT0FBT25CLE9BQU87QUFDaEIsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Cliente","associate","models","hasMany","DomicilioCliente","foreignKey","as","sourceKey","init","id","type","INTEGER","autoIncrement","primaryKey","nombre","STRING","allowNull","apellido","email","modelName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["cliente.js"],"sourcesContent":["'use strict';\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Cliente extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // Un pedido tiene muchos detalles de pedido\n      /* Cliente.hasMany(models.Pedido, {\n        foreignKey: 'clienteEmail',\n        as: 'pedidos',\n        onDelete: 'CASCADE', // Esta línea es clave para el borrado en cascada\n        sourceKey: 'email',\n      }); */\n      // Un cliente tiene muchos domicilios\n      Cliente.hasMany(models.DomicilioCliente, {\n        foreignKey: 'clienteEmail',\n        as: 'domicilios',\n        sourceKey: 'email',\n      });\n    }\n  }\n  Cliente.init({\n    id: {\n    type: DataTypes.INTEGER,\n    autoIncrement: true,\n    primaryKey: true,\n  },\n    nombre:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    apellido:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    email:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n      primaryKey: true,\n    },\n  }, {\n    sequelize,\n    modelName: 'Cliente',\n  });\n  return Cliente;\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,OAAO,SAASN,KAAK,CAAC;IAC1B;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;MACA;AACN;AACA;AACA;AACA;AACA;MACM;MACAF,OAAO,CAACG,OAAO,CAACD,MAAM,CAACE,gBAAgB,EAAE;QACvCC,UAAU,EAAE,cAAc;QAC1BC,EAAE,EAAE,YAAY;QAChBC,SAAS,EAAE;MACb,CAAC,CAAC;IACJ;EACF;EACAP,OAAO,CAACQ,IAAI,CAAC;IACXC,EAAE,EAAE;MACJC,IAAI,EAAEX,SAAS,CAACY,OAAO;MACvBC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE;IACd,CAAC;IACCC,MAAM,EAAG;MACPJ,IAAI,EAAEX,SAAS,CAACgB,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDC,QAAQ,EAAG;MACTP,IAAI,EAAEX,SAAS,CAACgB,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDE,KAAK,EAAG;MACNR,IAAI,EAAEX,SAAS,CAACgB,MAAM;MACtBC,SAAS,EAAE,KAAK;MAChBH,UAAU,EAAE;IACd;EACF,CAAC,EAAE;IACDf,SAAS;IACTqB,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOnB,OAAO;AAChB,CAAC","ignoreList":[]}},"mtime":1758245998606},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\domicilio_cliente.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class DomicilioCliente extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  DomicilioCliente.init({\n    nombre_completo: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    calle: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    numero_ext: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    numero_int: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    colonia: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    ciudad: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    estado: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    codigo_postal: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    pais: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    tipo_domicilio: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    orden_domicilio: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    numero_telefono: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    entre_calles: {\n      type: DataTypes.TEXT,\n      allowNull: true\n    },\n    referencia: {\n      type: DataTypes.TEXT,\n      allowNull: true\n    },\n    instrucciones_entrega: {\n      type: DataTypes.TEXT,\n      allowNull: true\n    },\n    ubicacion_latitud: {\n      type: DataTypes.DECIMAL(10, 8),\n      allowNull: true\n    },\n    ubicacion_longitud: {\n      type: DataTypes.DECIMAL(10, 8),\n      allowNull: true\n    }\n  }, {\n    sequelize,\n    tableName: 'DomiciliosCliente',\n    modelName: 'DomicilioCliente'\n  });\n  return DomicilioCliente;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiRG9taWNpbGlvQ2xpZW50ZSIsImFzc29jaWF0ZSIsIm1vZGVscyIsImluaXQiLCJub21icmVfY29tcGxldG8iLCJ0eXBlIiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwiY2FsbGUiLCJudW1lcm9fZXh0IiwibnVtZXJvX2ludCIsImNvbG9uaWEiLCJjaXVkYWQiLCJlc3RhZG8iLCJjb2RpZ29fcG9zdGFsIiwicGFpcyIsInRpcG9fZG9taWNpbGlvIiwib3JkZW5fZG9taWNpbGlvIiwibnVtZXJvX3RlbGVmb25vIiwiZW50cmVfY2FsbGVzIiwiVEVYVCIsInJlZmVyZW5jaWEiLCJpbnN0cnVjY2lvbmVzX2VudHJlZ2EiLCJ1YmljYWNpb25fbGF0aXR1ZCIsIkRFQ0lNQUwiLCJ1YmljYWNpb25fbG9uZ2l0dWQiLCJ0YWJsZU5hbWUiLCJtb2RlbE5hbWUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcb3JvZHJcXHdvcmtzcGFjZVxcQVBJc1xcYXBpLWVjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImRvbWljaWxpb19jbGllbnRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmNvbnN0IHtcbiAgTW9kZWxcbn0gPSByZXF1aXJlKCdzZXF1ZWxpemUnKTtcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XG4gIGNsYXNzIERvbWljaWxpb0NsaWVudGUgZXh0ZW5kcyBNb2RlbCB7XG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhIHBhcnQgb2YgU2VxdWVsaXplIGxpZmVjeWNsZS5cbiAgICAgKiBUaGUgYG1vZGVscy9pbmRleGAgZmlsZSB3aWxsIGNhbGwgdGhpcyBtZXRob2QgYXV0b21hdGljYWxseS5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcbiAgICB9XG4gIH1cbiAgRG9taWNpbGlvQ2xpZW50ZS5pbml0KHtcbiAgICBub21icmVfY29tcGxldG86ICB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXG4gICAgfSxcbiAgICBjYWxsZTogIHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcbiAgICB9LFxuICAgIG51bWVyb19leHQ6ICB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXG4gICAgfSxcbiAgICBudW1lcm9faW50OiAge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBjb2xvbmlhOiAge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxuICAgIH0sXG4gICAgY2l1ZGFkOiAge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxuICAgIH0sXG4gICAgZXN0YWRvOiAge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxuICAgIH0sXG4gICAgY29kaWdvX3Bvc3RhbDogIHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcbiAgICB9LFxuICAgIHBhaXM6ICB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXG4gICAgfSxcbiAgICB0aXBvX2RvbWljaWxpbzogIHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcbiAgICB9LFxuICAgIG9yZGVuX2RvbWljaWxpbzogIHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcbiAgICB9LFxuICAgIG51bWVyb190ZWxlZm9ubzogIHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcbiAgICB9LFxuICAgIGVudHJlX2NhbGxlczogIHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcbiAgICB9LFxuICAgIHJlZmVyZW5jaWE6ICB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBpbnN0cnVjY2lvbmVzX2VudHJlZ2E6ICB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICB1YmljYWNpb25fbGF0aXR1ZDogIHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5ERUNJTUFMKDEwLDgpLFxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcbiAgICB9LFxuICAgIHViaWNhY2lvbl9sb25naXR1ZDogIHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5ERUNJTUFMKDEwLDgpLFxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcbiAgICB9LFxuICB9LCB7XG4gICAgc2VxdWVsaXplLFxuICAgIHRhYmxlTmFtZTogJ0RvbWljaWxpb3NDbGllbnRlJyxcbiAgICBtb2RlbE5hbWU6ICdEb21pY2lsaW9DbGllbnRlJyxcbiAgfSk7XG4gIHJldHVybiBEb21pY2lsaW9DbGllbnRlO1xufTsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osTUFBTTtFQUNKQTtBQUNGLENBQUMsR0FBR0MsT0FBTyxDQUFD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","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","DomicilioCliente","associate","models","init","nombre_completo","type","STRING","allowNull","calle","numero_ext","numero_int","colonia","ciudad","estado","codigo_postal","pais","tipo_domicilio","orden_domicilio","numero_telefono","entre_calles","TEXT","referencia","instrucciones_entrega","ubicacion_latitud","DECIMAL","ubicacion_longitud","tableName","modelName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["domicilio_cliente.js"],"sourcesContent":["'use strict';\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class DomicilioCliente extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  DomicilioCliente.init({\n    nombre_completo:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    calle:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    numero_ext:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    numero_int:  {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    colonia:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    ciudad:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    estado:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    codigo_postal:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    pais:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    tipo_domicilio:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    orden_domicilio:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    numero_telefono:  {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    entre_calles:  {\n      type: DataTypes.TEXT,\n      allowNull: true, \n    },\n    referencia:  {\n      type: DataTypes.TEXT,\n      allowNull: true, \n    },\n    instrucciones_entrega:  {\n      type: DataTypes.TEXT,\n      allowNull: true, \n    },\n    ubicacion_latitud:  {\n      type: DataTypes.DECIMAL(10,8),\n      allowNull: true, \n    },\n    ubicacion_longitud:  {\n      type: DataTypes.DECIMAL(10,8),\n      allowNull: true, \n    },\n  }, {\n    sequelize,\n    tableName: 'DomiciliosCliente',\n    modelName: 'DomicilioCliente',\n  });\n  return DomicilioCliente;\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,gBAAgB,SAASN,KAAK,CAAC;IACnC;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;IAAA;EAEJ;EACAF,gBAAgB,CAACG,IAAI,CAAC;IACpBC,eAAe,EAAG;MAChBC,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDC,KAAK,EAAG;MACNH,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDE,UAAU,EAAG;MACXJ,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDG,UAAU,EAAG;MACXL,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDI,OAAO,EAAG;MACRN,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDK,MAAM,EAAG;MACPP,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDM,MAAM,EAAG;MACPR,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDO,aAAa,EAAG;MACdT,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDQ,IAAI,EAAG;MACLV,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDS,cAAc,EAAG;MACfX,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDU,eAAe,EAAG;MAChBZ,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDW,eAAe,EAAG;MAChBb,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDY,YAAY,EAAG;MACbd,IAAI,EAAEN,SAAS,CAACqB,IAAI;MACpBb,SAAS,EAAE;IACb,CAAC;IACDc,UAAU,EAAG;MACXhB,IAAI,EAAEN,SAAS,CAACqB,IAAI;MACpBb,SAAS,EAAE;IACb,CAAC;IACDe,qBAAqB,EAAG;MACtBjB,IAAI,EAAEN,SAAS,CAACqB,IAAI;MACpBb,SAAS,EAAE;IACb,CAAC;IACDgB,iBAAiB,EAAG;MAClBlB,IAAI,EAAEN,SAAS,CAACyB,OAAO,CAAC,EAAE,EAAC,CAAC,CAAC;MAC7BjB,SAAS,EAAE;IACb,CAAC;IACDkB,kBAAkB,EAAG;MACnBpB,IAAI,EAAEN,SAAS,CAACyB,OAAO,CAAC,EAAE,EAAC,CAAC,CAAC;MAC7BjB,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACDT,SAAS;IACT4B,SAAS,EAAE,mBAAmB;IAC9BC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAO3B,gBAAgB;AACzB,CAAC","ignoreList":[]}},"mtime":1756977336192},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\linea_vendible.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class LineaVendible extends Model {\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\n    static associate(models) {\n      // define association here\n      /* Categoria.hasMany(models.Categoria, {\r\n        foreignKey: 'categoriaPadreId',\r\n        as: 'nivelsuperior',\r\n        allowNull: true,\r\n        onDelete: 'NO ACTION',\r\n        onUpdate: 'NO ACTION'\r\n      }); */\n    }\n  }\n  LineaVendible.init({\n    id: {\n      type: DataTypes.INTEGER,\n      autoIncrement: true,\n      primaryKey: true\n    },\n    linea: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    descripcion: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    estatus: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    prefijo: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    sufijo: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    observaciones: {\n      type: DataTypes.TEXT,\n      allowNull: true\n    },\n    tipo: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    colocado_en: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    claveSAT: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    clave_unidad: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    categoria: {\n      type: DataTypes.STRING,\n      allowNull: true\n    }\n  }, {\n    sequelize,\n    modelName: 'LineaVendible',\n    tableName: 'LineasVendibles'\n  });\n  return LineaVendible;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiTGluZWFWZW5kaWJsZSIsImFzc29jaWF0ZSIsIm1vZGVscyIsImluaXQiLCJpZCIsInR5cGUiLCJJTlRFR0VSIiwiYXV0b0luY3JlbWVudCIsInByaW1hcnlLZXkiLCJsaW5lYSIsIlNUUklORyIsImFsbG93TnVsbCIsImRlc2NyaXBjaW9uIiwiVEVYVCIsImVzdGF0dXMiLCJwcmVmaWpvIiwic3VmaWpvIiwib2JzZXJ2YWNpb25lcyIsInRpcG8iLCJjb2xvY2Fkb19lbiIsImNsYXZlU0FUIiwiY2xhdmVfdW5pZGFkIiwiY2F0ZWdvcmlhIiwibW9kZWxOYW1lIiwidGFibGVOYW1lIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG9yb2RyXFx3b3Jrc3BhY2VcXEFQSXNcXGFwaS1lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJsaW5lYV92ZW5kaWJsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbmNvbnN0IHtcclxuICBNb2RlbFxyXG59ID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgTGluZWFWZW5kaWJsZSBleHRlbmRzIE1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGEgcGFydCBvZiBTZXF1ZWxpemUgbGlmZWN5Y2xlLlxyXG4gICAgICogVGhlIGBtb2RlbHMvaW5kZXhgIGZpbGUgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXHJcbiAgICAgIC8qIENhdGVnb3JpYS5oYXNNYW55KG1vZGVscy5DYXRlZ29yaWEsIHtcclxuICAgICAgICBmb3JlaWduS2V5OiAnY2F0ZWdvcmlhUGFkcmVJZCcsXHJcbiAgICAgICAgYXM6ICduaXZlbHN1cGVyaW9yJyxcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgb25EZWxldGU6ICdOTyBBQ1RJT04nLFxyXG4gICAgICAgIG9uVXBkYXRlOiAnTk8gQUNUSU9OJ1xyXG4gICAgICB9KTsgKi9cclxuICAgIH1cclxuICB9XHJcbiAgTGluZWFWZW5kaWJsZS5pbml0KHtcclxuICAgIGlkOiB7XHJcbiAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcclxuICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXHJcbiAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gIH0sXHJcbiAgICBsaW5lYTogIHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXHJcbiAgICB9LFxyXG4gICAgZGVzY3JpcGNpb246ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcclxuICAgIH0sXHJcbiAgICBlc3RhdHVzOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxyXG4gICAgfSxcclxuICAgIHByZWZpam86ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXHJcbiAgICB9LFxyXG4gICAgc3VmaWpvOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxyXG4gICAgfSxcclxuICAgIG9ic2VydmFjaW9uZXM6ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxyXG4gICAgfSxcclxuICAgIHRpcG86ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXHJcbiAgICB9LFxyXG4gICAgY29sb2NhZG9fZW46ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXHJcbiAgICB9LFxyXG4gICAgY2xhdmVTQVQ6ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXHJcbiAgICB9LFxyXG4gICAgY2xhdmVfdW5pZGFkOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxyXG4gICAgfSxcclxuICAgIGNhdGVnb3JpYTogIHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcclxuICAgIH0sXHJcbiAgfSwge1xyXG4gICAgc2VxdWVsaXplLFxyXG4gICAgbW9kZWxOYW1lOiAnTGluZWFWZW5kaWJsZScsXHJcbiAgICB0YWJsZU5hbWU6ICdMaW5lYXNWZW5kaWJsZXMnXHJcbiAgfSk7XHJcbiAgcmV0dXJuIExpbmVhVmVuZGlibGU7XHJcbn07Il0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUNaLE1BQU07RUFDSkE7QUFDRixDQUFDLEdBQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDeEJDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLENBQUNDLFNBQVMsRUFBRUMsU0FBUyxLQUFLO0VBQ3pDLE1BQU1DLGFBQWEsU0FBU04sS0FBSyxDQUFDO0lBQ2hDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7SUFDSSxPQUFPTyxTQUFTQSxDQUFDQyxNQUFNLEVBQUU7TUFDdkI7TUFDQTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtJQU5NO0VBUUo7RUFDQUYsYUFBYSxDQUFDRyxJQUFJLENBQUM7SUFDakJDLEVBQUUsRUFBRTtNQUNKQyxJQUFJLEVBQUVOLFNBQVMsQ0FBQ08sT0FBTztNQUN2QkMsYUFBYSxFQUFFLElBQUk7TUFDbkJDLFVBQVUsRUFBRTtJQUNkLENBQUM7SUFDQ0MsS0FBSyxFQUFHO01BQ05KLElBQUksRUFBRU4sU0FBUyxDQUFDVyxNQUFNO01BQ3RCQyxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RDLFdBQVcsRUFBRztNQUNaUCxJQUFJLEVBQUVOLFNBQVMsQ0FBQ2MsSUFBSTtNQUNwQkYsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNERyxPQUFPLEVBQUc7TUFDUlQsSUFBSSxFQUFFTixTQUFTLENBQUNXLE1BQU07TUFDdEJDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREksT0FBTyxFQUFHO01BQ1JWLElBQUksRUFBRU4sU0FBUyxDQUFDVyxNQUFNO01BQ3RCQyxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RLLE1BQU0sRUFBRztNQUNQWCxJQUFJLEVBQUVOLFNBQVMsQ0FBQ1csTUFBTTtNQUN0QkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNETSxhQUFhLEVBQUc7TUFDZFosSUFBSSxFQUFFTixTQUFTLENBQUNjLElBQUk7TUFDcEJGLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDRE8sSUFBSSxFQUFHO01BQ0xiLElBQUksRUFBRU4sU0FBUyxDQUFDVyxNQUFNO01BQ3RCQyxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RRLFdBQVcsRUFBRztNQUNaZCxJQUFJLEVBQUVOLFNBQVMsQ0FBQ1csTUFBTTtNQUN0QkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNEUyxRQUFRLEVBQUc7TUFDVGYsSUFBSSxFQUFFTixTQUFTLENBQUNXLE1BQU07TUFDdEJDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDRFUsWUFBWSxFQUFHO01BQ2JoQixJQUFJLEVBQUVOLFNBQVMsQ0FBQ1csTUFBTTtNQUN0QkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNEVyxTQUFTLEVBQUc7TUFDVmpCLElBQUksRUFBRU4sU0FBUyxDQUFDVyxNQUFNO01BQ3RCQyxTQUFTLEVBQUU7SUFDYjtFQUNGLENBQUMsRUFBRTtJQUNEYixTQUFTO0lBQ1R5QixTQUFTLEVBQUUsZUFBZTtJQUMxQkMsU0FBUyxFQUFFO0VBQ2IsQ0FBQyxDQUFDO0VBQ0YsT0FBT3hCLGFBQWE7QUFDdEIsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","LineaVendible","associate","models","init","id","type","INTEGER","autoIncrement","primaryKey","linea","STRING","allowNull","descripcion","TEXT","estatus","prefijo","sufijo","observaciones","tipo","colocado_en","claveSAT","clave_unidad","categoria","modelName","tableName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["linea_vendible.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class LineaVendible extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n      /* Categoria.hasMany(models.Categoria, {\r\n        foreignKey: 'categoriaPadreId',\r\n        as: 'nivelsuperior',\r\n        allowNull: true,\r\n        onDelete: 'NO ACTION',\r\n        onUpdate: 'NO ACTION'\r\n      }); */\r\n    }\r\n  }\r\n  LineaVendible.init({\r\n    id: {\r\n    type: DataTypes.INTEGER,\r\n    autoIncrement: true,\r\n    primaryKey: true,\r\n  },\r\n    linea:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n    descripcion:  {\r\n      type: DataTypes.TEXT,\r\n      allowNull: false, \r\n    },\r\n    estatus:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    prefijo:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    sufijo:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    observaciones:  {\r\n      type: DataTypes.TEXT,\r\n      allowNull: true, \r\n    },\r\n    tipo:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    colocado_en:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    claveSAT:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    clave_unidad:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    categoria:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n  }, {\r\n    sequelize,\r\n    modelName: 'LineaVendible',\r\n    tableName: 'LineasVendibles'\r\n  });\r\n  return LineaVendible;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,aAAa,SAASN,KAAK,CAAC;IAChC;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;MACA;AACN;AACA;AACA;AACA;AACA;AACA;IANM;EAQJ;EACAF,aAAa,CAACG,IAAI,CAAC;IACjBC,EAAE,EAAE;MACJC,IAAI,EAAEN,SAAS,CAACO,OAAO;MACvBC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE;IACd,CAAC;IACCC,KAAK,EAAG;MACNJ,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDC,WAAW,EAAG;MACZP,IAAI,EAAEN,SAAS,CAACc,IAAI;MACpBF,SAAS,EAAE;IACb,CAAC;IACDG,OAAO,EAAG;MACRT,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDI,OAAO,EAAG;MACRV,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDK,MAAM,EAAG;MACPX,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDM,aAAa,EAAG;MACdZ,IAAI,EAAEN,SAAS,CAACc,IAAI;MACpBF,SAAS,EAAE;IACb,CAAC;IACDO,IAAI,EAAG;MACLb,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDQ,WAAW,EAAG;MACZd,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDS,QAAQ,EAAG;MACTf,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDU,YAAY,EAAG;MACbhB,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDW,SAAS,EAAG;MACVjB,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACDb,SAAS;IACTyB,SAAS,EAAE,eAAe;IAC1BC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOxB,aAAa;AACtB,CAAC","ignoreList":[]}},"mtime":1757209796370},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\pedido.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Pedido extends Model {\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\n    static associate(models) {\n      // define association here\n      // Un pedido tiene muchos detalles de pedido\n      /* Pedido.hasMany(models.PedidoDetalle, {\r\n        foreignKey: 'pedidoId',\r\n        as: 'detalles',\r\n        onDelete: 'CASCADE' \r\n      }); */\n    }\n  }\n  Pedido.init({\n    id: {\n      type: DataTypes.INTEGER,\n      autoIncrement: true,\n      primaryKey: true\n    },\n    folio: {\n      type: DataTypes.STRING,\n      primaryKey: true,\n      allowNull: false\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    enviar_a: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    clave: {\n      type: DataTypes.STRING,\n      primaryKey: true,\n      allowNull: false\n    },\n    descripcion: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    cantidad: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    cant_por_empaque: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    estatus: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    metodo_pago: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    total_partida: {\n      type: DataTypes.DECIMAL(10, 2),\n      allowNull: false\n    },\n    total_pedido: {\n      type: DataTypes.DECIMAL(10, 2),\n      allowNull: false\n    },\n    costo_envio: {\n      type: DataTypes.DECIMAL(10, 2),\n      allowNull: false\n    },\n    fecha_entrega: {\n      type: DataTypes.DATE,\n      allowNull: false\n    }\n  }, {\n    sequelize,\n    modelName: 'Pedido'\n  });\n  return Pedido;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiUGVkaWRvIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiaW5pdCIsImlkIiwidHlwZSIsIklOVEVHRVIiLCJhdXRvSW5jcmVtZW50IiwicHJpbWFyeUtleSIsImZvbGlvIiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwiZW1haWwiLCJlbnZpYXJfYSIsIlRFWFQiLCJjbGF2ZSIsImRlc2NyaXBjaW9uIiwiY2FudGlkYWQiLCJjYW50X3Bvcl9lbXBhcXVlIiwiZXN0YXR1cyIsIm1ldG9kb19wYWdvIiwidG90YWxfcGFydGlkYSIsIkRFQ0lNQUwiLCJ0b3RhbF9wZWRpZG8iLCJjb3N0b19lbnZpbyIsImZlY2hhX2VudHJlZ2EiLCJEQVRFIiwibW9kZWxOYW1lIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG9yb2RyXFx3b3Jrc3BhY2VcXEFQSXNcXGFwaS1lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJwZWRpZG8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5jb25zdCB7XHJcbiAgTW9kZWxcclxufSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIFBlZGlkbyBleHRlbmRzIE1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGEgcGFydCBvZiBTZXF1ZWxpemUgbGlmZWN5Y2xlLlxyXG4gICAgICogVGhlIGBtb2RlbHMvaW5kZXhgIGZpbGUgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXHJcbiAgICAgIC8vIFVuIHBlZGlkbyB0aWVuZSBtdWNob3MgZGV0YWxsZXMgZGUgcGVkaWRvXHJcbiAgICAgIC8qIFBlZGlkby5oYXNNYW55KG1vZGVscy5QZWRpZG9EZXRhbGxlLCB7XHJcbiAgICAgICAgZm9yZWlnbktleTogJ3BlZGlkb0lkJyxcclxuICAgICAgICBhczogJ2RldGFsbGVzJyxcclxuICAgICAgICBvbkRlbGV0ZTogJ0NBU0NBREUnIFxyXG4gICAgICB9KTsgKi9cclxuICAgIH1cclxuICB9XHJcbiAgUGVkaWRvLmluaXQoe1xyXG4gICAgaWQ6IHtcclxuICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcclxuICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgfSxcclxuICAgIGZvbGlvOiB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxyXG4gICAgfSxcclxuICAgIGVtYWlsOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxyXG4gICAgfSxcclxuICAgIGVudmlhcl9hOiB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgfSxcclxuICAgIGNsYXZlOiB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgZGVzY3JpcGNpb246IHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgY2FudGlkYWQ6ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxyXG4gICAgfSxcclxuICAgIGNhbnRfcG9yX2VtcGFxdWU6ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxyXG4gICAgfSxcclxuICAgIGVzdGF0dXM6ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxyXG4gICAgfSxcclxuICAgIG1ldG9kb19wYWdvOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcclxuICAgIH0sXHJcbiAgICB0b3RhbF9wYXJ0aWRhOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuREVDSU1BTCgxMCwyKSxcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXHJcbiAgICB9LFxyXG4gICAgdG90YWxfcGVkaWRvOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuREVDSU1BTCgxMCwyKSxcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXHJcbiAgICB9LFxyXG4gICAgY29zdG9fZW52aW86ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5ERUNJTUFMKDEwLDIpLFxyXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcclxuICAgIH0sXHJcbiAgICBmZWNoYV9lbnRyZWdhOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXHJcbiAgICB9LFxyXG4gIH0sIHtcclxuICAgIHNlcXVlbGl6ZSxcclxuICAgIG1vZGVsTmFtZTogJ1BlZGlkbycsXHJcbiAgfSk7XHJcbiAgcmV0dXJuIFBlZGlkbztcclxufTsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osTUFBTTtFQUNKQTtBQUNGLENBQUMsR0FBR0Ms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","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Pedido","associate","models","init","id","type","INTEGER","autoIncrement","primaryKey","folio","STRING","allowNull","email","enviar_a","TEXT","clave","descripcion","cantidad","cant_por_empaque","estatus","metodo_pago","total_partida","DECIMAL","total_pedido","costo_envio","fecha_entrega","DATE","modelName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["pedido.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Pedido extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n      // Un pedido tiene muchos detalles de pedido\r\n      /* Pedido.hasMany(models.PedidoDetalle, {\r\n        foreignKey: 'pedidoId',\r\n        as: 'detalles',\r\n        onDelete: 'CASCADE' \r\n      }); */\r\n    }\r\n  }\r\n  Pedido.init({\r\n    id: {\r\n    type: DataTypes.INTEGER,\r\n    autoIncrement: true,\r\n    primaryKey: true,\r\n  },\r\n    folio: {\r\n      type: DataTypes.STRING,\r\n      primaryKey: true,\r\n      allowNull: false, \r\n    },\r\n    email:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    enviar_a: {\r\n      type: DataTypes.TEXT,\r\n      allowNull: false,\r\n    },\r\n    clave: {\r\n      type: DataTypes.STRING,\r\n      primaryKey: true,\r\n      allowNull: false,\r\n    },\r\n    descripcion: {\r\n      type: DataTypes.TEXT,\r\n      allowNull: false,\r\n    },\r\n    cantidad:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n    cant_por_empaque:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n    estatus:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n    metodo_pago:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n    total_partida:  {\r\n      type: DataTypes.DECIMAL(10,2),\r\n      allowNull: false, \r\n    },\r\n    total_pedido:  {\r\n      type: DataTypes.DECIMAL(10,2),\r\n      allowNull: false, \r\n    },\r\n    costo_envio:  {\r\n      type: DataTypes.DECIMAL(10,2),\r\n      allowNull: false, \r\n    },\r\n    fecha_entrega:  {\r\n      type: DataTypes.DATE,\r\n      allowNull: false, \r\n    },\r\n  }, {\r\n    sequelize,\r\n    modelName: 'Pedido',\r\n  });\r\n  return Pedido;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,MAAM,SAASN,KAAK,CAAC;IACzB;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;MACA;MACA;AACN;AACA;AACA;AACA;IAJM;EAMJ;EACAF,MAAM,CAACG,IAAI,CAAC;IACVC,EAAE,EAAE;MACJC,IAAI,EAAEN,SAAS,CAACO,OAAO;MACvBC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE;IACd,CAAC;IACCC,KAAK,EAAE;MACLJ,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBF,UAAU,EAAE,IAAI;MAChBG,SAAS,EAAE;IACb,CAAC;IACDC,KAAK,EAAG;MACNP,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDE,QAAQ,EAAE;MACRR,IAAI,EAAEN,SAAS,CAACe,IAAI;MACpBH,SAAS,EAAE;IACb,CAAC;IACDI,KAAK,EAAE;MACLV,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBF,UAAU,EAAE,IAAI;MAChBG,SAAS,EAAE;IACb,CAAC;IACDK,WAAW,EAAE;MACXX,IAAI,EAAEN,SAAS,CAACe,IAAI;MACpBH,SAAS,EAAE;IACb,CAAC;IACDM,QAAQ,EAAG;MACTZ,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDO,gBAAgB,EAAG;MACjBb,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDQ,OAAO,EAAG;MACRd,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDS,WAAW,EAAG;MACZf,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDU,aAAa,EAAG;MACdhB,IAAI,EAAEN,SAAS,CAACuB,OAAO,CAAC,EAAE,EAAC,CAAC,CAAC;MAC7BX,SAAS,EAAE;IACb,CAAC;IACDY,YAAY,EAAG;MACblB,IAAI,EAAEN,SAAS,CAACuB,OAAO,CAAC,EAAE,EAAC,CAAC,CAAC;MAC7BX,SAAS,EAAE;IACb,CAAC;IACDa,WAAW,EAAG;MACZnB,IAAI,EAAEN,SAAS,CAACuB,OAAO,CAAC,EAAE,EAAC,CAAC,CAAC;MAC7BX,SAAS,EAAE;IACb,CAAC;IACDc,aAAa,EAAG;MACdpB,IAAI,EAAEN,SAAS,CAAC2B,IAAI;MACpBf,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACDb,SAAS;IACT6B,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAO3B,MAAM;AACf,CAAC","ignoreList":[]}},"mtime":1761546699363},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\pedidodetalle.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class PedidoDetalle extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  PedidoDetalle.init({\n    id: {\n      type: DataTypes.INTEGER,\n      autoIncrement: true,\n      primaryKey: true\n    },\n    folio: {\n      type: DataTypes.STRING,\n      primaryKey: true,\n      allowNull: false\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    enviado_a: {\n      type: DataTypes.TEXT,\n      allowNull: true\n    },\n    total: {\n      type: DataTypes.DECIMAL(10, 2),\n      allowNull: true\n    },\n    facturado: {\n      type: DataTypes.STRING,\n      allowNull: true\n    }\n  }, {\n    sequelize,\n    /* tableName: 'PedidoDetalle', */\n    modelName: 'PedidoDetalle'\n  });\n  return PedidoDetalle;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiUGVkaWRvRGV0YWxsZSIsImFzc29jaWF0ZSIsIm1vZGVscyIsImluaXQiLCJpZCIsInR5cGUiLCJJTlRFR0VSIiwiYXV0b0luY3JlbWVudCIsInByaW1hcnlLZXkiLCJmb2xpbyIsIlNUUklORyIsImFsbG93TnVsbCIsImVtYWlsIiwiZW52aWFkb19hIiwiVEVYVCIsInRvdGFsIiwiREVDSU1BTCIsImZhY3R1cmFkbyIsIm1vZGVsTmFtZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsicGVkaWRvZGV0YWxsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5jb25zdCB7XG4gIE1vZGVsXG59ID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjbGFzcyBQZWRpZG9EZXRhbGxlIGV4dGVuZHMgTW9kZWwge1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgZm9yIGRlZmluaW5nIGFzc29jaWF0aW9ucy5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYSBwYXJ0IG9mIFNlcXVlbGl6ZSBsaWZlY3ljbGUuXG4gICAgICogVGhlIGBtb2RlbHMvaW5kZXhgIGZpbGUgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkuXG4gICAgICovXG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXG4gICAgfVxuICB9XG4gIFBlZGlkb0RldGFsbGUuaW5pdCh7XG4gICAgaWQ6IHtcbiAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgIHByaW1hcnlLZXk6IHRydWUsXG4gIH0sXG4gICAgZm9saW86IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXG4gICAgfSxcbiAgICBlbWFpbDogIHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gICAgZW52aWFkb19hOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSxcbiAgICB9LFxuICAgIHRvdGFsOiAge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLkRFQ0lNQUwoMTAsMiksXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gICAgZmFjdHVyYWRvOiAge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgfSwge1xuICAgIHNlcXVlbGl6ZSxcbiAgICAvKiB0YWJsZU5hbWU6ICdQZWRpZG9EZXRhbGxlJywgKi9cbiAgICBtb2RlbE5hbWU6ICdQZWRpZG9EZXRhbGxlJyxcbiAgfSk7XG4gIHJldHVybiBQZWRpZG9EZXRhbGxlO1xufTsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osTUFBTTtFQUNKQTtBQUNGLENBQUMsR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUN4QkMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsQ0FBQ0MsU0FBUyxFQUFFQyxTQUFTLEtBQUs7RUFDekMsTUFBTUMsYUFBYSxTQUFTTixLQUFLLENBQUM7SUFDaEM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtJQUNJLE9BQU9PLFNBQVNBLENBQUNDLE1BQU0sRUFBRTtNQUN2QjtJQUFBO0VBRUo7RUFDQUYsYUFBYSxDQUFDRyxJQUFJLENBQUM7SUFDakJDLEVBQUUsRUFBRTtNQUNKQyxJQUFJLEVBQUVOLFNBQVMsQ0FBQ08sT0FBTztNQUN2QkMsYUFBYSxFQUFFLElBQUk7TUFDbkJDLFVBQVUsRUFBRTtJQUNkLENBQUM7SUFDQ0MsS0FBSyxFQUFFO01BQ0xKLElBQUksRUFBRU4sU0FBUyxDQUFDVyxNQUFNO01BQ3RCRixVQUFVLEVBQUUsSUFBSTtNQUNoQkcsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNEQyxLQUFLLEVBQUc7TUFDTlAsSUFBSSxFQUFFTixTQUFTLENBQUNXLE1BQU07TUFDdEJDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREUsU0FBUyxFQUFFO01BQ1RSLElBQUksRUFBRU4sU0FBUyxDQUFDZSxJQUFJO01BQ3BCSCxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RJLEtBQUssRUFBRztNQUNOVixJQUFJLEVBQUVOLFNBQVMsQ0FBQ2lCLE9BQU8sQ0FBQyxFQUFFLEVBQUMsQ0FBQyxDQUFDO01BQzdCTCxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RNLFNBQVMsRUFBRztNQUNWWixJQUFJLEVBQUVOLFNBQVMsQ0FBQ1csTUFBTTtNQUN0QkMsU0FBUyxFQUFFO0lBQ2I7RUFDRixDQUFDLEVBQUU7SUFDRGIsU0FBUztJQUNUO0lBQ0FvQixTQUFTLEVBQUU7RUFDYixDQUFDLENBQUM7RUFDRixPQUFPbEIsYUFBYTtBQUN0QixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","PedidoDetalle","associate","models","init","id","type","INTEGER","autoIncrement","primaryKey","folio","STRING","allowNull","email","enviado_a","TEXT","total","DECIMAL","facturado","modelName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["pedidodetalle.js"],"sourcesContent":["'use strict';\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class PedidoDetalle extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  PedidoDetalle.init({\n    id: {\n    type: DataTypes.INTEGER,\n    autoIncrement: true,\n    primaryKey: true,\n  },\n    folio: {\n      type: DataTypes.STRING,\n      primaryKey: true,\n      allowNull: false, \n    },\n    email:  {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    enviado_a: {\n      type: DataTypes.TEXT,\n      allowNull: true,\n    },\n    total:  {\n      type: DataTypes.DECIMAL(10,2),\n      allowNull: true, \n    },\n    facturado:  {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n  }, {\n    sequelize,\n    /* tableName: 'PedidoDetalle', */\n    modelName: 'PedidoDetalle',\n  });\n  return PedidoDetalle;\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,aAAa,SAASN,KAAK,CAAC;IAChC;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;IAAA;EAEJ;EACAF,aAAa,CAACG,IAAI,CAAC;IACjBC,EAAE,EAAE;MACJC,IAAI,EAAEN,SAAS,CAACO,OAAO;MACvBC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE;IACd,CAAC;IACCC,KAAK,EAAE;MACLJ,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBF,UAAU,EAAE,IAAI;MAChBG,SAAS,EAAE;IACb,CAAC;IACDC,KAAK,EAAG;MACNP,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDE,SAAS,EAAE;MACTR,IAAI,EAAEN,SAAS,CAACe,IAAI;MACpBH,SAAS,EAAE;IACb,CAAC;IACDI,KAAK,EAAG;MACNV,IAAI,EAAEN,SAAS,CAACiB,OAAO,CAAC,EAAE,EAAC,CAAC,CAAC;MAC7BL,SAAS,EAAE;IACb,CAAC;IACDM,SAAS,EAAG;MACVZ,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACDb,SAAS;IACT;IACAoB,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOlB,aAAa;AACtB,CAAC","ignoreList":[]}},"mtime":1758243066386},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\producto.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Producto extends Model {\n    static associate(models) {\n      // Define las asociaciones aquí\n      // Por ejemplo, si un producto puede estar en muchos detalles de pedido\n      // Producto.hasMany(models.PedidoDetalle, { foreignKey: 'productoId' });\n    }\n  }\n  Producto.init({\n    clave: {\n      type: DataTypes.STRING,\n      primaryKey: true,\n      allowNull: false\n    },\n    descripcion: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    tipo: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    linea: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    colocado_en: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    unidad_entrada: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    unidad: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    unidad_salida: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    cantidad_minima: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    tiempo_surtido: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    control_almacen: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    factor_entre_unidades: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    volumen: {\n      type: DataTypes.DECIMAL(10, 2),\n      allowNull: true\n    },\n    peso: {\n      type: DataTypes.DECIMAL(10, 2),\n      allowNull: true\n    },\n    unidad_empaque: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    cant_por_empaque: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    categoria: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    precio: {\n      type: DataTypes.DECIMAL(10, 2),\n      allowNull: true\n    },\n    moneda: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    costeo: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    impuestos: {\n      type: DataTypes.INTEGER,\n      allowNull: false\n    },\n    ieps: {\n      type: DataTypes.BOOLEAN,\n      allowNull: true\n    },\n    observaciones: {\n      type: DataTypes.TEXT,\n      allowNull: true\n    },\n    descripcion_larga: {\n      type: DataTypes.TEXT,\n      allowNull: true\n    },\n    acerca_de_producto: {\n      type: DataTypes.TEXT,\n      allowNull: true\n    },\n    claveSAT: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    clave_unidad: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    existencia: {\n      type: DataTypes.DECIMAL(10, 2),\n      allowNull: false\n    },\n    ultimo_costo: {\n      type: DataTypes.DECIMAL(10, 2),\n      allowNull: true\n    },\n    ultima_compra: {\n      type: DataTypes.DATE,\n      allowNull: true\n    },\n    diam_int: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    diam_ext: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    altura: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    seccion: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    material: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    temperatura: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    presion: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    clave_fab: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    marca: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    perfil: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    clave_ant: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    proveedor1: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    proveedor2: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    sistema_medicion: {\n      type: DataTypes.STRING,\n      allowNull: true\n    }\n  }, {\n    sequelize,\n    modelName: 'Producto'\n  });\n  return Producto;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiUHJvZHVjdG8iLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJpbml0IiwiY2xhdmUiLCJ0eXBlIiwiU1RSSU5HIiwicHJpbWFyeUtleSIsImFsbG93TnVsbCIsImRlc2NyaXBjaW9uIiwiVEVYVCIsInRpcG8iLCJsaW5lYSIsImNvbG9jYWRvX2VuIiwidW5pZGFkX2VudHJhZGEiLCJ1bmlkYWQiLCJ1bmlkYWRfc2FsaWRhIiwiY2FudGlkYWRfbWluaW1hIiwidGllbXBvX3N1cnRpZG8iLCJjb250cm9sX2FsbWFjZW4iLCJmYWN0b3JfZW50cmVfdW5pZGFkZXMiLCJ2b2x1bWVuIiwiREVDSU1BTCIsInBlc28iLCJ1bmlkYWRfZW1wYXF1ZSIsImNhbnRfcG9yX2VtcGFxdWUiLCJjYXRlZ29yaWEiLCJwcmVjaW8iLCJtb25lZGEiLCJjb3N0ZW8iLCJpbXB1ZXN0b3MiLCJJTlRFR0VSIiwiaWVwcyIsIkJPT0xFQU4iLCJvYnNlcnZhY2lvbmVzIiwiZGVzY3JpcGNpb25fbGFyZ2EiLCJhY2VyY2FfZGVfcHJvZHVjdG8iLCJjbGF2ZVNBVCIsImNsYXZlX3VuaWRhZCIsImV4aXN0ZW5jaWEiLCJ1bHRpbW9fY29zdG8iLCJ1bHRpbWFfY29tcHJhIiwiREFURSIsImRpYW1faW50IiwiZGlhbV9leHQiLCJhbHR1cmEiLCJzZWNjaW9uIiwibWF0ZXJpYWwiLCJ0ZW1wZXJhdHVyYSIsInByZXNpb24iLCJjbGF2ZV9mYWIiLCJtYXJjYSIsInBlcmZpbCIsImNsYXZlX2FudCIsInByb3ZlZWRvcjEiLCJwcm92ZWVkb3IyIiwic2lzdGVtYV9tZWRpY2lvbiIsIm1vZGVsTmFtZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsicHJvZHVjdG8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuY29uc3Qge1xuICBNb2RlbFxufSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgY2xhc3MgUHJvZHVjdG8gZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcbiAgICAgIC8vIERlZmluZSBsYXMgYXNvY2lhY2lvbmVzIGFxdcOtXG4gICAgICAvLyBQb3IgZWplbXBsbywgc2kgdW4gcHJvZHVjdG8gcHVlZGUgZXN0YXIgZW4gbXVjaG9zIGRldGFsbGVzIGRlIHBlZGlkb1xuICAgICAgLy8gUHJvZHVjdG8uaGFzTWFueShtb2RlbHMuUGVkaWRvRGV0YWxsZSwgeyBmb3JlaWduS2V5OiAncHJvZHVjdG9JZCcgfSk7XG4gICAgfVxuICB9XG4gIFByb2R1Y3RvLmluaXQoe1xuICAgIGNsYXZlOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBkZXNjcmlwY2lvbjoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgdGlwbzoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxuICAgIH0sXG4gICAgbGluZWE6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcbiAgICB9LFxuICAgIGNvbG9jYWRvX2VuOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXG4gICAgfSxcbiAgICB1bmlkYWRfZW50cmFkYToge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICB1bmlkYWQ6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcbiAgICB9LFxuICAgIHVuaWRhZF9zYWxpZGE6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gICAgY2FudGlkYWRfbWluaW1hOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcbiAgICB9LFxuICAgIHRpZW1wb19zdXJ0aWRvOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcbiAgICB9LFxuICAgIGNvbnRyb2xfYWxtYWNlbjoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBmYWN0b3JfZW50cmVfdW5pZGFkZXM6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gICAgdm9sdW1lbjoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLkRFQ0lNQUwoMTAsMiksXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gICAgcGVzbzoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLkRFQ0lNQUwoMTAsMiksXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gICAgdW5pZGFkX2VtcGFxdWU6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gICAgY2FudF9wb3JfZW1wYXF1ZToge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBjYXRlZ29yaWE6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gICAgcHJlY2lvOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuREVDSU1BTCgxMCwyKSxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBtb25lZGE6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcbiAgICB9LFxuICAgIGNvc3Rlbzoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBpbXB1ZXN0b3M6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXG4gICAgfSxcbiAgICBpZXBzOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuQk9PTEVBTixcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBvYnNlcnZhY2lvbmVzOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBkZXNjcmlwY2lvbl9sYXJnYToge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gICAgYWNlcmNhX2RlX3Byb2R1Y3RvOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBjbGF2ZVNBVDoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxuICAgIH0sXG4gICAgY2xhdmVfdW5pZGFkOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXG4gICAgfSxcbiAgICBleGlzdGVuY2lhOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuREVDSU1BTCgxMCwyKSxcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxuICAgIH0sXG4gICAgdWx0aW1vX2Nvc3RvOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuREVDSU1BTCgxMCwyKSxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICB1bHRpbWFfY29tcHJhOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBkaWFtX2ludDoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBkaWFtX2V4dDoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBhbHR1cmE6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gICAgc2VjY2lvbjoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBtYXRlcmlhbDoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICB0ZW1wZXJhdHVyYToge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBwcmVzaW9uOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcbiAgICB9LFxuICAgIGNsYXZlX2ZhYjoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBtYXJjYToge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBwZXJmaWw6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gICAgY2xhdmVfYW50OiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcbiAgICB9LFxuICAgIHByb3ZlZWRvcjE6IHtcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxuICAgIH0sXG4gICAgcHJvdmVlZG9yMjoge1xuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXG4gICAgfSxcbiAgICBzaXN0ZW1hX21lZGljaW9uOiB7XG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcbiAgICB9LFxuICB9LCB7XG4gICAgc2VxdWVsaXplLFxuICAgIG1vZGVsTmFtZTogJ1Byb2R1Y3RvJyxcbiAgfSk7XG4gIHJldHVybiBQcm9kdWN0bztcbn07Il0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUNaLE1BQU07RUFDSkE7QUFDRixDQUFDLEdBQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDeEJDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLENBQUNDLFNBQVMsRUFBRUMsU0FBUyxLQUFLO0VBQ3pDLE1BQU1DLFFBQVEsU0FBU04sS0FBSyxDQUFDO0lBQzNCLE9BQU9PLFNBQVNBLENBQUNDLE1BQU0sRUFBRTtNQUN2QjtNQUNBO01BQ0E7SUFBQTtFQUVKO0VBQ0FGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDO0lBQ1pDLEtBQUssRUFBRTtNQUNMQyxJQUFJLEVBQUVOLFNBQVMsQ0FBQ08s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","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Producto","associate","models","init","clave","type","STRING","primaryKey","allowNull","descripcion","TEXT","tipo","linea","colocado_en","unidad_entrada","unidad","unidad_salida","cantidad_minima","tiempo_surtido","control_almacen","factor_entre_unidades","volumen","DECIMAL","peso","unidad_empaque","cant_por_empaque","categoria","precio","moneda","costeo","impuestos","INTEGER","ieps","BOOLEAN","observaciones","descripcion_larga","acerca_de_producto","claveSAT","clave_unidad","existencia","ultimo_costo","ultima_compra","DATE","diam_int","diam_ext","altura","seccion","material","temperatura","presion","clave_fab","marca","perfil","clave_ant","proveedor1","proveedor2","sistema_medicion","modelName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["producto.js"],"sourcesContent":["'use strict';\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Producto extends Model {\n    static associate(models) {\n      // Define las asociaciones aquí\n      // Por ejemplo, si un producto puede estar en muchos detalles de pedido\n      // Producto.hasMany(models.PedidoDetalle, { foreignKey: 'productoId' });\n    }\n  }\n  Producto.init({\n    clave: {\n      type: DataTypes.STRING,\n      primaryKey: true,\n      allowNull: false,\n    },\n    descripcion: {\n      type: DataTypes.TEXT,\n      allowNull: false,\n    },\n    tipo: {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    linea: {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    colocado_en: {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    unidad_entrada: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    unidad: {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    unidad_salida: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    cantidad_minima: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    tiempo_surtido: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    control_almacen: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    factor_entre_unidades: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    volumen: {\n      type: DataTypes.DECIMAL(10,2),\n      allowNull: true, \n    },\n    peso: {\n      type: DataTypes.DECIMAL(10,2),\n      allowNull: true, \n    },\n    unidad_empaque: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    cant_por_empaque: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    categoria: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    precio: {\n      type: DataTypes.DECIMAL(10,2),\n      allowNull: true, \n    },\n    moneda: {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    costeo: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    impuestos: {\n      type: DataTypes.INTEGER,\n      allowNull: false, \n    },\n    ieps: {\n      type: DataTypes.BOOLEAN,\n      allowNull: true, \n    },\n    observaciones: {\n      type: DataTypes.TEXT,\n      allowNull: true, \n    },\n    descripcion_larga: {\n      type: DataTypes.TEXT,\n      allowNull: true, \n    },\n    acerca_de_producto: {\n      type: DataTypes.TEXT,\n      allowNull: true, \n    },\n    claveSAT: {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    clave_unidad: {\n      type: DataTypes.STRING,\n      allowNull: false, \n    },\n    existencia: {\n      type: DataTypes.DECIMAL(10,2),\n      allowNull: false, \n    },\n    ultimo_costo: {\n      type: DataTypes.DECIMAL(10,2),\n      allowNull: true, \n    },\n    ultima_compra: {\n      type: DataTypes.DATE,\n      allowNull: true, \n    },\n    diam_int: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    diam_ext: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    altura: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    seccion: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    material: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    temperatura: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    presion: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    clave_fab: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    marca: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    perfil: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    clave_ant: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    proveedor1: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    proveedor2: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n    sistema_medicion: {\n      type: DataTypes.STRING,\n      allowNull: true, \n    },\n  }, {\n    sequelize,\n    modelName: 'Producto',\n  });\n  return Producto;\n};"],"mappings":"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","ignoreList":[]}},"mtime":1757210821346},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\producto_promocion.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class ProductoPromocion extends Model {\n    static associate(models) {}\n  }\n  ProductoPromocion.init({\n    id: {\n      type: DataTypes.INTEGER,\n      autoIncrement: true,\n      primaryKey: true\n    },\n    clave: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    descuento: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    precio: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    fecha_inicio: {\n      type: DataTypes.DATE,\n      allowNull: false\n    },\n    fecha_final: {\n      type: DataTypes.DATE,\n      allowNull: false\n    }\n  }, {\n    sequelize,\n    modelName: 'ProductoPromocion',\n    tableName: 'ProductosPromocion'\n  });\n  return ProductoPromocion;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiUHJvZHVjdG9Qcm9tb2Npb24iLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJpbml0IiwiaWQiLCJ0eXBlIiwiSU5URUdFUiIsImF1dG9JbmNyZW1lbnQiLCJwcmltYXJ5S2V5IiwiY2xhdmUiLCJTVFJJTkciLCJhbGxvd051bGwiLCJkZXNjdWVudG8iLCJwcmVjaW8iLCJmZWNoYV9pbmljaW8iLCJEQVRFIiwiZmVjaGFfZmluYWwiLCJtb2RlbE5hbWUiLCJ0YWJsZU5hbWUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcb3JvZHJcXHdvcmtzcGFjZVxcQVBJc1xcYXBpLWVjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RvX3Byb21vY2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbmNvbnN0IHtcclxuICBNb2RlbFxyXG59ID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgUHJvZHVjdG9Qcm9tb2Npb24gZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgfVxyXG4gIH1cclxuICBQcm9kdWN0b1Byb21vY2lvbi5pbml0KHtcclxuICAgIGlkOiB7XHJcbiAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcclxuICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXHJcbiAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gIH0sXHJcbiAgICBjbGF2ZTogIHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXHJcbiAgICB9LFxyXG4gICAgZGVzY3VlbnRvOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxyXG4gICAgfSxcclxuICAgIHByZWNpbzogIHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcclxuICAgIH0sXHJcbiAgICBmZWNoYV9pbmljaW86ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxyXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcclxuICAgIH0sXHJcbiAgICBmZWNoYV9maW5hbDogIHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxyXG4gICAgfSxcclxuICB9LCB7XHJcbiAgICBzZXF1ZWxpemUsXHJcbiAgICBtb2RlbE5hbWU6ICdQcm9kdWN0b1Byb21vY2lvbicsXHJcbiAgICB0YWJsZU5hbWU6ICdQcm9kdWN0b3NQcm9tb2Npb24nXHJcbiAgfSk7XHJcbiAgcmV0dXJuIFByb2R1Y3RvUHJvbW9jaW9uO1xyXG59OyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFDWixNQUFNO0VBQ0pBO0FBQ0YsQ0FBQyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3hCQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxDQUFDQyxTQUFTLEVBQUVDLFNBQVMsS0FBSztFQUN6QyxNQUFNQyxpQkFBaUIsU0FBU04sS0FBSyxDQUFDO0lBQ3BDLE9BQU9PLFNBQVNBLENBQUNDLE1BQU0sRUFBRSxDQUN6QjtFQUNGO0VBQ0FGLGlCQUFpQixDQUFDRyxJQUFJLENBQUM7SUFDckJDLEVBQUUsRUFBRTtNQUNKQyxJQUFJLEVBQUVOLFNBQVMsQ0FBQ08sT0FBTztNQUN2QkMsYUFBYSxFQUFFLElBQUk7TUFDbkJDLFVBQVUsRUFBRTtJQUNkLENBQUM7SUFDQ0MsS0FBSyxFQUFHO01BQ05KLElBQUksRUFBRU4sU0FBUyxDQUFDVyxNQUFNO01BQ3RCQyxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RDLFNBQVMsRUFBRztNQUNWUCxJQUFJLEVBQUVOLFNBQVMsQ0FBQ1csTUFBTTtNQUN0QkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNERSxNQUFNLEVBQUc7TUFDUFIsSUFBSSxFQUFFTixTQUFTLENBQUNXLE1BQU07TUFDdEJDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREcsWUFBWSxFQUFHO01BQ2JULElBQUksRUFBRU4sU0FBUyxDQUFDZ0IsSUFBSTtNQUNwQkosU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNESyxXQUFXLEVBQUc7TUFDWlgsSUFBSSxFQUFFTixTQUFTLENBQUNnQixJQUFJO01BQ3BCSixTQUFTLEVBQUU7SUFDYjtFQUNGLENBQUMsRUFBRTtJQUNEYixTQUFTO0lBQ1RtQixTQUFTLEVBQUUsbUJBQW1CO0lBQzlCQyxTQUFTLEVBQUU7RUFDYixDQUFDLENBQUM7RUFDRixPQUFPbEIsaUJBQWlCO0FBQzFCLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","ProductoPromocion","associate","models","init","id","type","INTEGER","autoIncrement","primaryKey","clave","STRING","allowNull","descuento","precio","fecha_inicio","DATE","fecha_final","modelName","tableName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["producto_promocion.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class ProductoPromocion extends Model {\r\n    static associate(models) {\r\n    }\r\n  }\r\n  ProductoPromocion.init({\r\n    id: {\r\n    type: DataTypes.INTEGER,\r\n    autoIncrement: true,\r\n    primaryKey: true,\r\n  },\r\n    clave:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n    descuento:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    precio:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    fecha_inicio:  {\r\n      type: DataTypes.DATE,\r\n      allowNull: false, \r\n    },\r\n    fecha_final:  {\r\n      type: DataTypes.DATE,\r\n      allowNull: false, \r\n    },\r\n  }, {\r\n    sequelize,\r\n    modelName: 'ProductoPromocion',\r\n    tableName: 'ProductosPromocion'\r\n  });\r\n  return ProductoPromocion;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,iBAAiB,SAASN,KAAK,CAAC;IACpC,OAAOO,SAASA,CAACC,MAAM,EAAE,CACzB;EACF;EACAF,iBAAiB,CAACG,IAAI,CAAC;IACrBC,EAAE,EAAE;MACJC,IAAI,EAAEN,SAAS,CAACO,OAAO;MACvBC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE;IACd,CAAC;IACCC,KAAK,EAAG;MACNJ,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDC,SAAS,EAAG;MACVP,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDE,MAAM,EAAG;MACPR,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDG,YAAY,EAAG;MACbT,IAAI,EAAEN,SAAS,CAACgB,IAAI;MACpBJ,SAAS,EAAE;IACb,CAAC;IACDK,WAAW,EAAG;MACZX,IAAI,EAAEN,SAAS,CAACgB,IAAI;MACpBJ,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACDb,SAAS;IACTmB,SAAS,EAAE,mBAAmB;IAC9BC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOlB,iBAAiB;AAC1B,CAAC","ignoreList":[]}},"mtime":1758053457253},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\producto_sugerido.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class ProductoSugerido extends Model {\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\n    static associate(models) {\n      // define association here\n      /* Categoria.hasMany(models.Categoria, {\r\n        foreignKey: 'categoriaPadreId',\r\n        as: 'nivelsuperior',\r\n        allowNull: true,\r\n        onDelete: 'NO ACTION',\r\n        onUpdate: 'NO ACTION'\r\n      }); */\n    }\n  }\n  ProductoSugerido.init({\n    id: {\n      type: DataTypes.INTEGER,\n      autoIncrement: true,\n      primaryKey: true\n    },\n    clave: {\n      type: DataTypes.STRING,\n      primaryKey: true,\n      allowNull: true\n    },\n    descripcion: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    descuento: {\n      type: DataTypes.INTEGER,\n      allowNull: true\n    },\n    estatus: {\n      type: DataTypes.STRING,\n      allowNull: true\n    }\n  }, {\n    sequelize,\n    modelName: 'ProductoSugerido',\n    tableName: 'ProductosSugeridos'\n  });\n  return ProductoSugerido;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiUHJvZHVjdG9TdWdlcmlkbyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImluaXQiLCJpZCIsInR5cGUiLCJJTlRFR0VSIiwiYXV0b0luY3JlbWVudCIsInByaW1hcnlLZXkiLCJjbGF2ZSIsIlNUUklORyIsImFsbG93TnVsbCIsImRlc2NyaXBjaW9uIiwiVEVYVCIsImRlc2N1ZW50byIsImVzdGF0dXMiLCJtb2RlbE5hbWUiLCJ0YWJsZU5hbWUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcb3JvZHJcXHdvcmtzcGFjZVxcQVBJc1xcYXBpLWVjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RvX3N1Z2VyaWRvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuY29uc3Qge1xyXG4gIE1vZGVsXHJcbn0gPSByZXF1aXJlKCdzZXF1ZWxpemUnKTtcclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICBjbGFzcyBQcm9kdWN0b1N1Z2VyaWRvIGV4dGVuZHMgTW9kZWwge1xyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgbWV0aG9kIGZvciBkZWZpbmluZyBhc3NvY2lhdGlvbnMuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYSBwYXJ0IG9mIFNlcXVlbGl6ZSBsaWZlY3ljbGUuXHJcbiAgICAgKiBUaGUgYG1vZGVscy9pbmRleGAgZmlsZSB3aWxsIGNhbGwgdGhpcyBtZXRob2QgYXV0b21hdGljYWxseS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcclxuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcclxuICAgICAgLyogQ2F0ZWdvcmlhLmhhc01hbnkobW9kZWxzLkNhdGVnb3JpYSwge1xyXG4gICAgICAgIGZvcmVpZ25LZXk6ICdjYXRlZ29yaWFQYWRyZUlkJyxcclxuICAgICAgICBhczogJ25pdmVsc3VwZXJpb3InLFxyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICBvbkRlbGV0ZTogJ05PIEFDVElPTicsXHJcbiAgICAgICAgb25VcGRhdGU6ICdOTyBBQ1RJT04nXHJcbiAgICAgIH0pOyAqL1xyXG4gICAgfVxyXG4gIH1cclxuICBQcm9kdWN0b1N1Z2VyaWRvLmluaXQoe1xyXG4gICAgaWQ6IHtcclxuICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcclxuICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgfSxcclxuICAgIGNsYXZlOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxyXG4gICAgfSxcclxuICAgIGRlc2NyaXBjaW9uOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXHJcbiAgICB9LFxyXG4gICAgZGVzY3VlbnRvOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcclxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcclxuICAgIH0sXHJcbiAgICBlc3RhdHVzOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxyXG4gICAgfSxcclxuICB9LCB7XHJcbiAgICBzZXF1ZWxpemUsXHJcbiAgICBtb2RlbE5hbWU6ICdQcm9kdWN0b1N1Z2VyaWRvJyxcclxuICAgIHRhYmxlTmFtZTogJ1Byb2R1Y3Rvc1N1Z2VyaWRvcydcclxuICB9KTtcclxuICByZXR1cm4gUHJvZHVjdG9TdWdlcmlkbztcclxufTsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osTUFBTTtFQUNKQTtBQUNGLENBQUMsR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUN4QkMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsQ0FBQ0MsU0FBUyxFQUFFQyxTQUFTLEtBQUs7RUFDekMsTUFBTUMsZ0JBQWdCLFNBQVNOLEtBQUssQ0FBQztJQUNuQztBQUNKO0FBQ0E7QUFDQTtBQUNBO0lBQ0ksT0FBT08sU0FBU0EsQ0FBQ0MsTUFBTSxFQUFFO01BQ3ZCO01BQ0E7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7SUFOTTtFQVFKO0VBQ0FGLGdCQUFnQixDQUFDRyxJQUFJLENBQUM7SUFDcEJDLEVBQUUsRUFBRTtNQUNKQyxJQUFJLEVBQUVOLFNBQVMsQ0FBQ08sT0FBTztNQUN2QkMsYUFBYSxFQUFFLElBQUk7TUFDbkJDLFVBQVUsRUFBRTtJQUNkLENBQUM7SUFDQ0MsS0FBSyxFQUFHO01BQ05KLElBQUksRUFBRU4sU0FBUyxDQUFDVyxNQUFNO01BQ3RCRixVQUFVLEVBQUUsSUFBSTtNQUNoQkcsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNEQyxXQUFXLEVBQUc7TUFDWlAsSUFBSSxFQUFFTixTQUFTLENBQUNjLElBQUk7TUFDcEJGLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREcsU0FBUyxFQUFHO01BQ1ZULElBQUksRUFBRU4sU0FBUyxDQUFDTyxPQUFPO01BQ3ZCSyxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RJLE9BQU8sRUFBRztNQUNSVixJQUFJLEVBQUVOLFNBQVMsQ0FBQ1csTUFBTTtNQUN0QkMsU0FBUyxFQUFFO0lBQ2I7RUFDRixDQUFDLEVBQUU7SUFDRGIsU0FBUztJQUNUa0IsU0FBUyxFQUFFLGtCQUFrQjtJQUM3QkMsU0FBUyxFQUFFO0VBQ2IsQ0FBQyxDQUFDO0VBQ0YsT0FBT2pCLGdCQUFnQjtBQUN6QixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","ProductoSugerido","associate","models","init","id","type","INTEGER","autoIncrement","primaryKey","clave","STRING","allowNull","descripcion","TEXT","descuento","estatus","modelName","tableName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["producto_sugerido.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class ProductoSugerido extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n      /* Categoria.hasMany(models.Categoria, {\r\n        foreignKey: 'categoriaPadreId',\r\n        as: 'nivelsuperior',\r\n        allowNull: true,\r\n        onDelete: 'NO ACTION',\r\n        onUpdate: 'NO ACTION'\r\n      }); */\r\n    }\r\n  }\r\n  ProductoSugerido.init({\r\n    id: {\r\n    type: DataTypes.INTEGER,\r\n    autoIncrement: true,\r\n    primaryKey: true,\r\n  },\r\n    clave:  {\r\n      type: DataTypes.STRING,\r\n      primaryKey: true,\r\n      allowNull: true, \r\n    },\r\n    descripcion:  {\r\n      type: DataTypes.TEXT,\r\n      allowNull: false, \r\n    },\r\n    descuento:  {\r\n      type: DataTypes.INTEGER,\r\n      allowNull: true, \r\n    },\r\n    estatus:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n  }, {\r\n    sequelize,\r\n    modelName: 'ProductoSugerido',\r\n    tableName: 'ProductosSugeridos'\r\n  });\r\n  return ProductoSugerido;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,gBAAgB,SAASN,KAAK,CAAC;IACnC;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;MACA;AACN;AACA;AACA;AACA;AACA;AACA;IANM;EAQJ;EACAF,gBAAgB,CAACG,IAAI,CAAC;IACpBC,EAAE,EAAE;MACJC,IAAI,EAAEN,SAAS,CAACO,OAAO;MACvBC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE;IACd,CAAC;IACCC,KAAK,EAAG;MACNJ,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBF,UAAU,EAAE,IAAI;MAChBG,SAAS,EAAE;IACb,CAAC;IACDC,WAAW,EAAG;MACZP,IAAI,EAAEN,SAAS,CAACc,IAAI;MACpBF,SAAS,EAAE;IACb,CAAC;IACDG,SAAS,EAAG;MACVT,IAAI,EAAEN,SAAS,CAACO,OAAO;MACvBK,SAAS,EAAE;IACb,CAAC;IACDI,OAAO,EAAG;MACRV,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACDb,SAAS;IACTkB,SAAS,EAAE,kBAAkB;IAC7BC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOjB,gBAAgB;AACzB,CAAC","ignoreList":[]}},"mtime":1757027357459},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\producto_visto.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class ProductoVisto extends Model {\n    static associate(models) {}\n  }\n  ProductoVisto.init({\n    id: {\n      type: DataTypes.INTEGER,\n      autoIncrement: true,\n      primaryKey: true\n    },\n    clave: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    sessionId: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    fecha: {\n      type: DataTypes.DATE,\n      allowNull: false\n    }\n  }, {\n    sequelize,\n    modelName: 'ProductoVisto',\n    tableName: 'ProductosVistos'\n  });\n  return ProductoVisto;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiUHJvZHVjdG9WaXN0byIsImFzc29jaWF0ZSIsIm1vZGVscyIsImluaXQiLCJpZCIsInR5cGUiLCJJTlRFR0VSIiwiYXV0b0luY3JlbWVudCIsInByaW1hcnlLZXkiLCJjbGF2ZSIsIlNUUklORyIsImFsbG93TnVsbCIsImVtYWlsIiwic2Vzc2lvbklkIiwiZmVjaGEiLCJEQVRFIiwibW9kZWxOYW1lIiwidGFibGVOYW1lIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG9yb2RyXFx3b3Jrc3BhY2VcXEFQSXNcXGFwaS1lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJwcm9kdWN0b192aXN0by5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbmNvbnN0IHtcclxuICBNb2RlbFxyXG59ID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgUHJvZHVjdG9WaXN0byBleHRlbmRzIE1vZGVsIHtcclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFByb2R1Y3RvVmlzdG8uaW5pdCh7XHJcbiAgICBpZDoge1xyXG4gICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXHJcbiAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxyXG4gICAgcHJpbWFyeUtleTogdHJ1ZSxcclxuICB9LFxyXG4gICAgY2xhdmU6ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxyXG4gICAgfSxcclxuICAgIGVtYWlsOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhbGxvd051bGw6IHRydWUsIFxyXG4gICAgfSxcclxuICAgIHNlc3Npb25JZDogIHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYWxsb3dOdWxsOiB0cnVlLCBcclxuICAgIH0sXHJcbiAgICBmZWNoYTogIHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxyXG4gICAgfSxcclxuICB9LCB7XHJcbiAgICBzZXF1ZWxpemUsXHJcbiAgICBtb2RlbE5hbWU6ICdQcm9kdWN0b1Zpc3RvJyxcclxuICAgIHRhYmxlTmFtZTogJ1Byb2R1Y3Rvc1Zpc3RvcydcclxuICB9KTtcclxuICByZXR1cm4gUHJvZHVjdG9WaXN0bztcclxufTsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osTUFBTTtFQUNKQTtBQUNGLENBQUMsR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUN4QkMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsQ0FBQ0MsU0FBUyxFQUFFQyxTQUFTLEtBQUs7RUFDekMsTUFBTUMsYUFBYSxTQUFTTixLQUFLLENBQUM7SUFDaEMsT0FBT08sU0FBU0EsQ0FBQ0MsTUFBTSxFQUFFLENBQ3pCO0VBQ0Y7RUFDQUYsYUFBYSxDQUFDRyxJQUFJLENBQUM7SUFDakJDLEVBQUUsRUFBRTtNQUNKQyxJQUFJLEVBQUVOLFNBQVMsQ0FBQ08sT0FBTztNQUN2QkMsYUFBYSxFQUFFLElBQUk7TUFDbkJDLFVBQVUsRUFBRTtJQUNkLENBQUM7SUFDQ0MsS0FBSyxFQUFHO01BQ05KLElBQUksRUFBRU4sU0FBUyxDQUFDVyxNQUFNO01BQ3RCQyxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RDLEtBQUssRUFBRztNQUNOUCxJQUFJLEVBQUVOLFNBQVMsQ0FBQ1csTUFBTTtNQUN0QkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNERSxTQUFTLEVBQUc7TUFDVlIsSUFBSSxFQUFFTixTQUFTLENBQUNXLE1BQU07TUFDdEJDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREcsS0FBSyxFQUFHO01BQ05ULElBQUksRUFBRU4sU0FBUyxDQUFDZ0IsSUFBSTtNQUNwQkosU0FBUyxFQUFFO0lBQ2I7RUFDRixDQUFDLEVBQUU7SUFDRGIsU0FBUztJQUNUa0IsU0FBUyxFQUFFLGVBQWU7SUFDMUJDLFNBQVMsRUFBRTtFQUNiLENBQUMsQ0FBQztFQUNGLE9BQU9qQixhQUFhO0FBQ3RCLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","ProductoVisto","associate","models","init","id","type","INTEGER","autoIncrement","primaryKey","clave","STRING","allowNull","email","sessionId","fecha","DATE","modelName","tableName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["producto_visto.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class ProductoVisto extends Model {\r\n    static associate(models) {\r\n    }\r\n  }\r\n  ProductoVisto.init({\r\n    id: {\r\n    type: DataTypes.INTEGER,\r\n    autoIncrement: true,\r\n    primaryKey: true,\r\n  },\r\n    clave:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n    email:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    sessionId:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: true, \r\n    },\r\n    fecha:  {\r\n      type: DataTypes.DATE,\r\n      allowNull: false, \r\n    },\r\n  }, {\r\n    sequelize,\r\n    modelName: 'ProductoVisto',\r\n    tableName: 'ProductosVistos'\r\n  });\r\n  return ProductoVisto;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,aAAa,SAASN,KAAK,CAAC;IAChC,OAAOO,SAASA,CAACC,MAAM,EAAE,CACzB;EACF;EACAF,aAAa,CAACG,IAAI,CAAC;IACjBC,EAAE,EAAE;MACJC,IAAI,EAAEN,SAAS,CAACO,OAAO;MACvBC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE;IACd,CAAC;IACCC,KAAK,EAAG;MACNJ,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDC,KAAK,EAAG;MACNP,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDE,SAAS,EAAG;MACVR,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDG,KAAK,EAAG;MACNT,IAAI,EAAEN,SAAS,CAACgB,IAAI;MACpBJ,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACDb,SAAS;IACTkB,SAAS,EAAE,eAAe;IAC1BC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOjB,aAAa;AACtB,CAAC","ignoreList":[]}},"mtime":1757551745971},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\relacion_producto.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class RelacionProducto extends Model {\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\n    static associate(models) {\n      // define association here\n      /* Categoria.hasMany(models.Categoria, {\r\n        foreignKey: 'categoriaPadreId',\r\n        as: 'nivelsuperior',\r\n        allowNull: true,\r\n        onDelete: 'NO ACTION',\r\n        onUpdate: 'NO ACTION'\r\n      }); */\n    }\n  }\n  RelacionProducto.init({\n    categoria: {\n      type: DataTypes.STRING,\n      primaryKey: true,\n      allowNull: true\n    },\n    relacionado1: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    relacionado2: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    relacionado3: {\n      type: DataTypes.STRING,\n      allowNull: false\n    }\n  }, {\n    sequelize,\n    modelName: 'RelacionProducto',\n    tableName: 'RelacionesProducto'\n  });\n  return RelacionProducto;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiUmVsYWNpb25Qcm9kdWN0byIsImFzc29jaWF0ZSIsIm1vZGVscyIsImluaXQiLCJjYXRlZ29yaWEiLCJ0eXBlIiwiU1RSSU5HIiwicHJpbWFyeUtleSIsImFsbG93TnVsbCIsInJlbGFjaW9uYWRvMSIsInJlbGFjaW9uYWRvMiIsInJlbGFjaW9uYWRvMyIsIm1vZGVsTmFtZSIsInRhYmxlTmFtZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsicmVsYWNpb25fcHJvZHVjdG8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5jb25zdCB7XHJcbiAgTW9kZWxcclxufSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIFJlbGFjaW9uUHJvZHVjdG8gZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgZm9yIGRlZmluaW5nIGFzc29jaWF0aW9ucy5cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhIHBhcnQgb2YgU2VxdWVsaXplIGxpZmVjeWNsZS5cclxuICAgICAqIFRoZSBgbW9kZWxzL2luZGV4YCBmaWxlIHdpbGwgY2FsbCB0aGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5LlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICAvKiBDYXRlZ29yaWEuaGFzTWFueShtb2RlbHMuQ2F0ZWdvcmlhLCB7XHJcbiAgICAgICAgZm9yZWlnbktleTogJ2NhdGVnb3JpYVBhZHJlSWQnLFxyXG4gICAgICAgIGFzOiAnbml2ZWxzdXBlcmlvcicsXHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIG9uRGVsZXRlOiAnTk8gQUNUSU9OJyxcclxuICAgICAgICBvblVwZGF0ZTogJ05PIEFDVElPTidcclxuICAgICAgfSk7ICovXHJcbiAgICB9XHJcbiAgfVxyXG4gIFJlbGFjaW9uUHJvZHVjdG8uaW5pdCh7XHJcbiAgICBjYXRlZ29yaWE6ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSwgXHJcbiAgICB9LFxyXG4gICAgcmVsYWNpb25hZG8xOiAge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhbGxvd051bGw6IGZhbHNlLCBcclxuICAgIH0sXHJcbiAgICByZWxhY2lvbmFkbzI6ICB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxyXG4gICAgfSxcclxuICAgIHJlbGFjaW9uYWRvMzogIHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXHJcbiAgICB9LFxyXG4gIH0sIHtcclxuICAgIHNlcXVlbGl6ZSxcclxuICAgIG1vZGVsTmFtZTogJ1JlbGFjaW9uUHJvZHVjdG8nLFxyXG4gICAgdGFibGVOYW1lOiAnUmVsYWNpb25lc1Byb2R1Y3RvJ1xyXG4gIH0pO1xyXG4gIHJldHVybiBSZWxhY2lvblByb2R1Y3RvO1xyXG59OyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFDWixNQUFNO0VBQ0pBO0FBQ0YsQ0FBQyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3hCQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxDQUFDQyxTQUFTLEVBQUVDLFNBQVMsS0FBSztFQUN6QyxNQUFNQyxnQkFBZ0IsU0FBU04sS0FBSyxDQUFDO0lBQ25DO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7SUFDSSxPQUFPTyxTQUFTQSxDQUFDQyxNQUFNLEVBQUU7TUFDdkI7TUFDQTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtJQU5NO0VBUUo7RUFDQUYsZ0JBQWdCLENBQUNHLElBQUksQ0FBQztJQUNwQkMsU0FBUyxFQUFHO01BQ1ZDLElBQUksRUFBRU4sU0FBUyxDQUFDTyxNQUFNO01BQ3RCQyxVQUFVLEVBQUUsSUFBSTtNQUNoQkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNEQyxZQUFZLEVBQUc7TUFDYkosSUFBSSxFQUFFTixTQUFTLENBQUNPLE1BQU07TUFDdEJFLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREUsWUFBWSxFQUFHO01BQ2JMLElBQUksRUFBRU4sU0FBUyxDQUFDTyxNQUFNO01BQ3RCRSxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RHLFlBQVksRUFBRztNQUNiTixJQUFJLEVBQUVOLFNBQVMsQ0FBQ08sTUFBTTtNQUN0QkUsU0FBUyxFQUFFO0lBQ2I7RUFDRixDQUFDLEVBQUU7SUFDRFYsU0FBUztJQUNUYyxTQUFTLEVBQUUsa0JBQWtCO0lBQzdCQyxTQUFTLEVBQUU7RUFDYixDQUFDLENBQUM7RUFDRixPQUFPYixnQkFBZ0I7QUFDekIsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","RelacionProducto","associate","models","init","categoria","type","STRING","primaryKey","allowNull","relacionado1","relacionado2","relacionado3","modelName","tableName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["relacion_producto.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class RelacionProducto extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n      /* Categoria.hasMany(models.Categoria, {\r\n        foreignKey: 'categoriaPadreId',\r\n        as: 'nivelsuperior',\r\n        allowNull: true,\r\n        onDelete: 'NO ACTION',\r\n        onUpdate: 'NO ACTION'\r\n      }); */\r\n    }\r\n  }\r\n  RelacionProducto.init({\r\n    categoria:  {\r\n      type: DataTypes.STRING,\r\n      primaryKey: true,\r\n      allowNull: true, \r\n    },\r\n    relacionado1:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n    relacionado2:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n    relacionado3:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n  }, {\r\n    sequelize,\r\n    modelName: 'RelacionProducto',\r\n    tableName: 'RelacionesProducto'\r\n  });\r\n  return RelacionProducto;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,gBAAgB,SAASN,KAAK,CAAC;IACnC;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;MACA;AACN;AACA;AACA;AACA;AACA;AACA;IANM;EAQJ;EACAF,gBAAgB,CAACG,IAAI,CAAC;IACpBC,SAAS,EAAG;MACVC,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBC,UAAU,EAAE,IAAI;MAChBC,SAAS,EAAE;IACb,CAAC;IACDC,YAAY,EAAG;MACbJ,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBE,SAAS,EAAE;IACb,CAAC;IACDE,YAAY,EAAG;MACbL,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBE,SAAS,EAAE;IACb,CAAC;IACDG,YAAY,EAAG;MACbN,IAAI,EAAEN,SAAS,CAACO,MAAM;MACtBE,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACDV,SAAS;IACTc,SAAS,EAAE,kBAAkB;IAC7BC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOb,gBAAgB;AACzB,CAAC","ignoreList":[]}},"mtime":1757227071425},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\visita.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Visita extends Model {\n    static associate(models) {\n      // Define las asociaciones aquí si las hubiera\n    }\n  }\n  Visita.init({\n    id: {\n      type: DataTypes.UUID,\n      defaultValue: DataTypes.UUIDV4,\n      primaryKey: true\n    },\n    referrerUrl: {\n      type: DataTypes.STRING(2048),\n      allowNull: false\n    },\n    referrerDomain: {\n      type: DataTypes.STRING,\n      allowNull: false\n    },\n    isSearchEngine: {\n      type: DataTypes.BOOLEAN,\n      allowNull: false\n    },\n    searchEngineName: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    currentUrl: {\n      type: DataTypes.STRING(2048),\n      allowNull: false\n    },\n    utm_source: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    utm_medium: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    utm_campaign: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    utm_term: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    utm_content: {\n      type: DataTypes.STRING,\n      allowNull: true\n    },\n    timestamp: {\n      type: DataTypes.DATE,\n      allowNull: false\n    },\n    visitorIp: {\n      type: DataTypes.STRING,\n      allowNull: true\n    }\n  }, {\n    sequelize,\n    modelName: 'Visita',\n    tableName: 'visitas'\n  });\n  return Visita;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiVmlzaXRhIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiaW5pdCIsImlkIiwidHlwZSIsIlVVSUQiLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJwcmltYXJ5S2V5IiwicmVmZXJyZXJVcmwiLCJTVFJJTkciLCJhbGxvd051bGwiLCJyZWZlcnJlckRvbWFpbiIsImlzU2VhcmNoRW5naW5lIiwiQk9PTEVBTiIsInNlYXJjaEVuZ2luZU5hbWUiLCJjdXJyZW50VXJsIiwidXRtX3NvdXJjZSIsInV0bV9tZWRpdW0iLCJ1dG1fY2FtcGFpZ24iLCJ1dG1fdGVybSIsInV0bV9jb250ZW50IiwidGltZXN0YW1wIiwiREFURSIsInZpc2l0b3JJcCIsIm1vZGVsTmFtZSIsInRhYmxlTmFtZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsidmlzaXRhLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIFZpc2l0YSBleHRlbmRzIE1vZGVsIHtcclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIC8vIERlZmluZSBsYXMgYXNvY2lhY2lvbmVzIGFxdcOtIHNpIGxhcyBodWJpZXJhXHJcbiAgICB9XHJcbiAgfVxyXG4gIFZpc2l0YS5pbml0KHtcclxuICAgIGlkOiB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5VVUlELFxyXG4gICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXHJcbiAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgcmVmZXJyZXJVcmw6IHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygyMDQ4KSxcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgIH0sXHJcbiAgICByZWZlcnJlckRvbWFpbjoge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgfSxcclxuICAgIGlzU2VhcmNoRW5naW5lOiB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5CT09MRUFOLFxyXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgfSxcclxuICAgIHNlYXJjaEVuZ2luZU5hbWU6IHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIGN1cnJlbnRVcmw6IHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygyMDQ4KSxcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgIH0sXHJcbiAgICB1dG1fc291cmNlOiB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICB1dG1fbWVkaXVtOiB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICB1dG1fY2FtcGFpZ246IHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHV0bV90ZXJtOiB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICB1dG1fY29udGVudDoge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgdGltZXN0YW1wOiB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxyXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgfSxcclxuICAgIHZpc2l0b3JJcDoge1xyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAgc2VxdWVsaXplLFxyXG4gICAgbW9kZWxOYW1lOiAnVmlzaXRhJyxcclxuICAgIHRhYmxlTmFtZTogJ3Zpc2l0YXMnXHJcbiAgfSk7XHJcbiAgcmV0dXJuIFZpc2l0YTtcclxufTsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osTUFBTTtFQUFFQTtBQUFNLENBQUMsR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUV0Q0MsTUFBTSxDQUFDQyxPQUFPLEdBQUcsQ0FBQ0MsU0FBUyxFQUFFQyxTQUFTLEtBQUs7RUFDekMsTUFBTUMsTUFBTSxTQUFTTixLQUFLLENBQUM7SUFDekIsT0FBT08sU0FBU0EsQ0FBQ0MsTUFBTSxFQUFFO01BQ3ZCO0lBQUE7RUFFSjtFQUNBRixNQUFNLENBQUNHLElBQUksQ0FBQztJQUNWQyxFQUFFLEVBQUU7TUFDRkMsSUFBSSxFQUFFTixTQUFTLENBQUNPLElBQUk7TUFDcEJDLFlBQVksRUFBRVIsU0FBUyxDQUFDUyxNQUFNO01BQzlCQyxVQUFVLEVBQUU7SUFDZCxDQUFDO0lBQ0RDLFdBQVcsRUFBRTtNQUNYTCxJQUFJLEVBQUVOLFNBQVMsQ0FBQ1ksTUFBTSxDQUFDLElBQUksQ0FBQztNQUM1QkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNEQyxjQUFjLEVBQUU7TUFDZFIsSUFBSSxFQUFFTixTQUFTLENBQUNZLE1BQU07TUFDdEJDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREUsY0FBYyxFQUFFO01BQ2RULElBQUksRUFBRU4sU0FBUyxDQUFDZ0IsT0FBTztNQUN2QkgsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNESSxnQkFBZ0IsRUFBRTtNQUNoQlgsSUFBSSxFQUFFTixTQUFTLENBQUNZLE1BQU07TUFDdEJDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREssVUFBVSxFQUFFO01BQ1ZaLElBQUksRUFBRU4sU0FBUyxDQUFDWSxNQUFNLENBQUMsSUFBSSxDQUFDO01BQzVCQyxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RNLFVBQVUsRUFBRTtNQUNWYixJQUFJLEVBQUVOLFNBQVMsQ0FBQ1ksTUFBTTtNQUN0QkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNETyxVQUFVLEVBQUU7TUFDVmQsSUFBSSxFQUFFTixTQUFTLENBQUNZLE1BQU07TUFDdEJDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDRFEsWUFBWSxFQUFFO01BQ1pmLElBQUksRUFBRU4sU0FBUyxDQUFDWSxNQUFNO01BQ3RCQyxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RTLFFBQVEsRUFBRTtNQUNSaEIsSUFBSSxFQUFFTixTQUFTLENBQUNZLE1BQU07TUFDdEJDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDRFUsV0FBVyxFQUFFO01BQ1hqQixJQUFJLEVBQUVOLFNBQVMsQ0FBQ1ksTUFBTTtNQUN0QkMsU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNEVyxTQUFTLEVBQUU7TUFDVGxCLElBQUksRUFBRU4sU0FBUyxDQUFDeUIsSUFBSTtNQUNwQlosU0FBUyxFQUFFO0lBQ2IsQ0FBQztJQUNEYSxTQUFTLEVBQUU7TUFDVHBCLElBQUksRUFBRU4sU0FBUyxDQUFDWSxNQUFNO01BQ3RCQyxTQUFTLEVBQUU7SUFDYjtFQUNGLENBQUMsRUFBRTtJQUNEZCxTQUFTO0lBQ1Q0QixTQUFTLEVBQUUsUUFBUTtJQUNuQkMsU0FBUyxFQUFFO0VBQ2IsQ0FBQyxDQUFDO0VBQ0YsT0FBTzNCLE1BQU07QUFDZixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Visita","associate","models","init","id","type","UUID","defaultValue","UUIDV4","primaryKey","referrerUrl","STRING","allowNull","referrerDomain","isSearchEngine","BOOLEAN","searchEngineName","currentUrl","utm_source","utm_medium","utm_campaign","utm_term","utm_content","timestamp","DATE","visitorIp","modelName","tableName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["visita.js"],"sourcesContent":["'use strict';\r\nconst { Model } = require('sequelize');\r\n\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Visita extends Model {\r\n    static associate(models) {\r\n      // Define las asociaciones aquí si las hubiera\r\n    }\r\n  }\r\n  Visita.init({\r\n    id: {\r\n      type: DataTypes.UUID,\r\n      defaultValue: DataTypes.UUIDV4,\r\n      primaryKey: true,\r\n    },\r\n    referrerUrl: {\r\n      type: DataTypes.STRING(2048),\r\n      allowNull: false,\r\n    },\r\n    referrerDomain: {\r\n      type: DataTypes.STRING,\r\n      allowNull: false,\r\n    },\r\n    isSearchEngine: {\r\n      type: DataTypes.BOOLEAN,\r\n      allowNull: false,\r\n    },\r\n    searchEngineName: {\r\n      type: DataTypes.STRING,\r\n      allowNull: true,\r\n    },\r\n    currentUrl: {\r\n      type: DataTypes.STRING(2048),\r\n      allowNull: false,\r\n    },\r\n    utm_source: {\r\n      type: DataTypes.STRING,\r\n      allowNull: true,\r\n    },\r\n    utm_medium: {\r\n      type: DataTypes.STRING,\r\n      allowNull: true,\r\n    },\r\n    utm_campaign: {\r\n      type: DataTypes.STRING,\r\n      allowNull: true,\r\n    },\r\n    utm_term: {\r\n      type: DataTypes.STRING,\r\n      allowNull: true,\r\n    },\r\n    utm_content: {\r\n      type: DataTypes.STRING,\r\n      allowNull: true,\r\n    },\r\n    timestamp: {\r\n      type: DataTypes.DATE,\r\n      allowNull: false,\r\n    },\r\n    visitorIp: {\r\n      type: DataTypes.STRING,\r\n      allowNull: true,\r\n    }\r\n  }, {\r\n    sequelize,\r\n    modelName: 'Visita',\r\n    tableName: 'visitas'\r\n  });\r\n  return Visita;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EAAEA;AAAM,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AAEtCC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,MAAM,SAASN,KAAK,CAAC;IACzB,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;IAAA;EAEJ;EACAF,MAAM,CAACG,IAAI,CAAC;IACVC,EAAE,EAAE;MACFC,IAAI,EAAEN,SAAS,CAACO,IAAI;MACpBC,YAAY,EAAER,SAAS,CAACS,MAAM;MAC9BC,UAAU,EAAE;IACd,CAAC;IACDC,WAAW,EAAE;MACXL,IAAI,EAAEN,SAAS,CAACY,MAAM,CAAC,IAAI,CAAC;MAC5BC,SAAS,EAAE;IACb,CAAC;IACDC,cAAc,EAAE;MACdR,IAAI,EAAEN,SAAS,CAACY,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDE,cAAc,EAAE;MACdT,IAAI,EAAEN,SAAS,CAACgB,OAAO;MACvBH,SAAS,EAAE;IACb,CAAC;IACDI,gBAAgB,EAAE;MAChBX,IAAI,EAAEN,SAAS,CAACY,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDK,UAAU,EAAE;MACVZ,IAAI,EAAEN,SAAS,CAACY,MAAM,CAAC,IAAI,CAAC;MAC5BC,SAAS,EAAE;IACb,CAAC;IACDM,UAAU,EAAE;MACVb,IAAI,EAAEN,SAAS,CAACY,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDO,UAAU,EAAE;MACVd,IAAI,EAAEN,SAAS,CAACY,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDQ,YAAY,EAAE;MACZf,IAAI,EAAEN,SAAS,CAACY,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDS,QAAQ,EAAE;MACRhB,IAAI,EAAEN,SAAS,CAACY,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDU,WAAW,EAAE;MACXjB,IAAI,EAAEN,SAAS,CAACY,MAAM;MACtBC,SAAS,EAAE;IACb,CAAC;IACDW,SAAS,EAAE;MACTlB,IAAI,EAAEN,SAAS,CAACyB,IAAI;MACpBZ,SAAS,EAAE;IACb,CAAC;IACDa,SAAS,EAAE;MACTpB,IAAI,EAAEN,SAAS,CAACY,MAAM;MACtBC,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACDd,SAAS;IACT4B,SAAS,EAAE,QAAQ;IACnBC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAO3B,MAAM;AACf,CAAC","ignoreList":[]}},"mtime":1758340421790},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\clientes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst {\n  Cliente\n} = require('../models');\n\n// Endpoint para obtener todos los clientes\nrouter.get('/', async (req, res) => {\n  try {\n    const clientes = await Cliente.findAll();\n    res.json(clientes);\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para crear un nuevo cliente\nrouter.post('/', async (req, res) => {\n  try {\n    const nuevoCliente = await Cliente.create(req.body);\n    res.status(201).json(nuevoCliente);\n  } catch (error) {\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIkNsaWVudGUiLCJnZXQiLCJyZXEiLCJyZXMiLCJjbGllbnRlcyIsImZpbmRBbGwiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsIm51ZXZvQ2xpZW50ZSIsImNyZWF0ZSIsImJvZHkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG9yb2RyXFx3b3Jrc3BhY2VcXEFQSXNcXGFwaS1lY29tbWVyY2VcXHJvdXRlc1xcIiwic291cmNlcyI6WyJjbGllbnRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCB7IENsaWVudGUgfSA9IHJlcXVpcmUoJy4uL21vZGVscycpO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIHRvZG9zIGxvcyBjbGllbnRlc1xyXG5yb3V0ZXIuZ2V0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNsaWVudGVzID0gYXdhaXQgQ2xpZW50ZS5maW5kQWxsKCk7XHJcbiAgICAgICAgcmVzLmpzb24oY2xpZW50ZXMpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgY3JlYXIgdW4gbnVldm8gY2xpZW50ZVxyXG5yb3V0ZXIucG9zdCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBudWV2b0NsaWVudGUgPSBhd2FpdCBDbGllbnRlLmNyZWF0ZShyZXEuYm9keSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24obnVldm9DbGllbnRlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxDQUFDLENBQUM7QUFDL0IsTUFBTTtFQUFFQztBQUFRLENBQUMsR0FBR0gsT0FBTyxDQUFDLFdBQVcsQ0FBQzs7QUFFeEM7QUFDQUMsTUFBTSxDQUFDRyxHQUFHLENBQUMsR0FBRyxFQUFFLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ2hDLElBQUk7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosT0FBTyxDQUFDSyxPQUFPLENBQUMsQ0FBQztJQUN4Q0YsR0FBRyxDQUFDRyxJQUFJLENBQUNGLFFBQVEsQ0FBQztFQUN0QixDQUFDLENBQUMsT0FBT0csS0FBSyxFQUFFO0lBQ1pKLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRixJQUFJLENBQUM7TUFBRUMsS0FBSyxFQUFFQSxLQUFLLENBQUNFO0lBQVEsQ0FBQyxDQUFDO0VBQ2xEO0FBQ0osQ0FBQyxDQUFDOztBQUVGO0FBQ0FYLE1BQU0sQ0FBQ1ksSUFBSSxDQUFDLEdBQUcsRUFBRSxPQUFPUixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNqQyxJQUFJO0lBQ0EsTUFBTVEsWUFBWSxHQUFHLE1BQU1YLE9BQU8sQ0FBQ1ksTUFBTSxDQUFDVixHQUFHLENBQUNXLElBQUksQ0FBQztJQUNuRFYsR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNGLElBQUksQ0FBQ0ssWUFBWSxDQUFDO0VBQ3RDLENBQUMsQ0FBQyxPQUFPSixLQUFLLEVBQUU7SUFDWkosR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNGLElBQUksQ0FBQztNQUFFQyxLQUFLLEVBQUVBLEtBQUssQ0FBQ0U7SUFBUSxDQUFDLENBQUM7RUFDbEQ7QUFDSixDQUFDLENBQUM7QUFFRkssTUFBTSxDQUFDQyxPQUFPLEdBQUdqQixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["express","require","router","Router","Cliente","get","req","res","clientes","findAll","json","error","status","message","post","nuevoCliente","create","body","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["clientes.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst { Cliente } = require('../models');\r\n\r\n// Endpoint para obtener todos los clientes\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n        const clientes = await Cliente.findAll();\r\n        res.json(clientes);\r\n    } catch (error) {\r\n        res.status(500).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para crear un nuevo cliente\r\nrouter.post('/', async (req, res) => {\r\n    try {\r\n        const nuevoCliente = await Cliente.create(req.body);\r\n        res.status(201).json(nuevoCliente);\r\n    } catch (error) {\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAM;EAAEC;AAAQ,CAAC,GAAGH,OAAO,CAAC,WAAW,CAAC;;AAExC;AACAC,MAAM,CAACG,GAAG,CAAC,GAAG,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAChC,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMJ,OAAO,CAACK,OAAO,CAAC,CAAC;IACxCF,GAAG,CAACG,IAAI,CAACF,QAAQ,CAAC;EACtB,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAAEC,KAAK,EAAEA,KAAK,CAACE;IAAQ,CAAC,CAAC;EAClD;AACJ,CAAC,CAAC;;AAEF;AACAX,MAAM,CAACY,IAAI,CAAC,GAAG,EAAE,OAAOR,GAAG,EAAEC,GAAG,KAAK;EACjC,IAAI;IACA,MAAMQ,YAAY,GAAG,MAAMX,OAAO,CAACY,MAAM,CAACV,GAAG,CAACW,IAAI,CAAC;IACnDV,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAACK,YAAY,CAAC;EACtC,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACZJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAAEC,KAAK,EAAEA,KAAK,CAACE;IAAQ,CAAC,CAAC;EAClD;AACJ,CAAC,CAAC;AAEFK,MAAM,CAACC,OAAO,GAAGjB,MAAM","ignoreList":[]}},"mtime":1756612242177},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\productos.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst db = require('../models');\nconst Producto = db.Producto;\nconst {\n  Op\n} = require('sequelize');\nconst axios = require('axios');\n\n// Endpoint para crear un nuevo producto\nrouter.post('/', async (req, res) => {\n  try {\n    // Usa `req.body` para acceder a los datos enviados en la solicitud\n    const nuevoProducto = await Producto.create(req.body);\n    res.status(201).json(nuevoProducto);\n  } catch (error) {\n    console.error('Error al crear el producto:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para actualizar las existencias de uno o varios productos de forma masiva\n/* router.patch('/existencias', async (req, res) => {\r\n    const t = await db.sequelize.transaction();\r\n    try {\r\n        const productosActualizados = req.body;\r\n        if (!Array.isArray(productosActualizados) || productosActualizados.length === 0) {\r\n            return res.status(400).json({ error: 'El cuerpo de la solicitud debe ser un arreglo no vacío de productos.' });\r\n        }\r\n\r\n        const clavesRecibidas = productosActualizados.map(p => p.clave);\r\n        const productosExistentes = await Producto.findAll({\r\n            attributes: ['clave'],\r\n            where: {\r\n                clave: {\r\n                    [db.Sequelize.Op.in]: clavesRecibidas\r\n                }\r\n            },\r\n            transaction: t\r\n        });\r\n\r\n        const clavesExistentes = new Set(productosExistentes.map(p => p.clave));\r\n        const productosParaActualizar = [];\r\n        const productosNoEncontrados = [];\r\n\r\n        productosActualizados.forEach(p => {\r\n            if (clavesExistentes.has(p.clave)) {\r\n                productosParaActualizar.push(p);\r\n            } else {\r\n                productosNoEncontrados.push(p.clave);\r\n            }\r\n        });\r\n\r\n        let updatedCount = 0;\r\n        if (productosParaActualizar.length > 0) {\r\n            for (const p of productosParaActualizar) {\r\n                const [filasActualizadas] = await Producto.update(\r\n                    { existencia: p.existencia },\r\n                    { where: { clave: p.clave }, transaction: t }\r\n                );\r\n                if (filasActualizadas > 0) {\r\n                    updatedCount++;\r\n                }\r\n            }\r\n        }\r\n\r\n        await t.commit();\r\n        let message = `Proceso de actualización de existencias completado. Se actualizaron ${updatedCount} productos.`;\r\n\r\n        if (productosNoEncontrados.length > 0) {\r\n            message += ` ${productosNoEncontrados.length} productos no encontrados: ${productosNoEncontrados.join(', ')}.`;\r\n        }\r\n\r\n        res.status(200).json({\r\n            message: message,\r\n            productosNoEncontrados: productosNoEncontrados\r\n        });\r\n\r\n    } catch (error) {\r\n        await t.rollback();\r\n        console.error('Error al actualizar existencias de forma masiva:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor al actualizar existencias.' });\r\n    }\r\n}); */\n\n// Endpoint para obtener todas las categorías únicas de productos\nrouter.get('/categorias', async (req, res) => {\n  try {\n    const categorias = await Producto.findAll({\n      attributes: [[db.sequelize.fn('DISTINCT', db.sequelize.col('categoria')), 'categoria']],\n      group: ['categoria'],\n      order: [['categoria', 'ASC']]\n    });\n    const listaCategorias = categorias.map(c => c.categoria);\n    res.status(200).json(listaCategorias);\n  } catch (error) {\n    console.error('Error al obtener categorías únicas:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para borrar un producto por su clave\nrouter.delete('/:clave', async (req, res) => {\n  try {\n    const {\n      clave\n    } = req.params;\n    const productoBorrado = await Producto.destroy({\n      where: {\n        clave: clave\n      }\n    });\n    if (productoBorrado === 0) {\n      return res.status(404).json({\n        error: 'Producto no encontrado'\n      });\n    }\n    res.status(200).json({\n      message: 'Producto eliminado con éxito'\n    });\n  } catch (error) {\n    console.error('Error al borrar el producto:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para borrar todos los productos\nrouter.delete('/all', async (req, res) => {\n  try {\n    await Producto.destroy({\n      where: {},\n      truncate: true\n    });\n    res.status(200).json({\n      message: 'Todos los productos han sido eliminados con éxito'\n    });\n  } catch (error) {\n    console.error('Error al eliminar todos los productos:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener todos los productos\n/* router.get('/', async (req, res) => {\r\n    try {\r\n        const productos = await Producto.findAll();\r\n        res.status(200).json(productos);\r\n    } catch (error) {\r\n        console.error('Error al obtener todos los productos:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n}); */\n\n// /routes/productos.js\n\n// Endpoint para obtener todos los productos (ORQUESTADOR - VERSIÓN ORIGINAL CON IVA Y REDONDEO)\nrouter.get('/', async (req, res) => {\n  try {\n    // 1. Obtener la lista base de productos de la BD local ('y')\n    // *EXCLUIMOS*: 'precio', 'existencia', 'ultima_compra', y 'ultimo_costo'\n    const productosBase = await Producto.findAll({\n      attributes: {\n        exclude: ['precio', 'existencia', 'ultima_compra', 'ultimo_costo']\n      }\n    });\n\n    // 2. Realizar las TRES llamadas concurrentes al servidor 'z'\n    const [preciosResponse, existenciasResponse, inventarioResponse] = await Promise.all([axios.get(`${process.env.INVENTARIO_API_URL}/precios`), axios.get(`${process.env.INVENTARIO_API_URL}/existencias`), axios.get(`${process.env.INVENTARIO_API_URL}/inventario`)]);\n\n    // 3. Crear Mapas para una búsqueda eficiente O(1)\n    const preciosExternos = preciosResponse.data;\n    const existenciasExternas = existenciasResponse.data;\n    const inventarioExterno = inventarioResponse.data;\n\n    // Mapa 1: Precios (CVE_ART -> PRECIO)\n    const preciosMap = new Map();\n    preciosExternos.forEach(p => {\n      preciosMap.set(String(p.CVE_ART).trim().toUpperCase(), p.PRECIO);\n    });\n\n    // Mapa 2: Existencias (CVE_ART -> EXISTENCIA SUMADA)\n    const existenciasMap = new Map();\n    existenciasExternas.forEach(e => {\n      const claveNormalizada = String(e.CVE_ART).trim().toUpperCase();\n      const existenciaActual = existenciasMap.get(claveNormalizada) || 0;\n      existenciasMap.set(claveNormalizada, existenciaActual + parseFloat(e.EXIST || 0));\n    });\n\n    // Mapa 3: Inventario Base (CVE_ART -> {FCH_ULTCOM, ULT_COSTO})\n    const inventarioMap = new Map();\n    inventarioExterno.forEach(i => {\n      const claveNormalizada = String(i.CVE_ART).trim().toUpperCase();\n      inventarioMap.set(claveNormalizada, {\n        FCH_ULTCOM: i.FCH_ULTCOM,\n        ULT_COSTO: i.ULT_COSTO\n      });\n    });\n\n    // 4. Fusionar los datos, aplicar IVA y construir la respuesta final\n    const productosFinales = productosBase.map(producto => {\n      const productoObj = producto.get({\n        plain: true\n      });\n      const claveNormalizada = String(productoObj.clave).trim().toUpperCase();\n\n      // Datos Externos\n      const invData = inventarioMap.get(claveNormalizada);\n\n      // ----------------------------------------------------\n      // 🚨 CAMBIO CLAVE: CÁLCULO DE IVA Y REDONDEO APLICADO\n      // ----------------------------------------------------\n      const precioNeto = preciosMap.has(claveNormalizada) ? parseFloat(preciosMap.get(claveNormalizada)) : 0;\n      let precioFinalVenta = null;\n      if (precioNeto > 0) {\n        // 1. Aplicar 16% de IVA (Precio Bruto)\n        const precioBruto = precioNeto * 1.16;\n\n        // 2. Aplicar reglas de redondeo\n        if (precioBruto < 5.00) {\n          // Si es menor a $5.00, se mantiene a dos decimales\n          precioFinalVenta = parseFloat(precioBruto.toFixed(2));\n        } else {\n          // Si es igual o mayor a $5.00, se redondea al entero superior\n          precioFinalVenta = Math.ceil(precioBruto);\n        }\n      }\n\n      // Asignar el precio final de venta\n      productoObj.precio = precioFinalVenta;\n      // ----------------------------------------------------\n\n      // Integración de Existencia (original)\n      productoObj.existencia = existenciasMap.has(claveNormalizada) ? parseFloat(existenciasMap.get(claveNormalizada)) : 0.00;\n\n      // Integración de los nuevos campos de Inventario Base (original)\n      productoObj.ultimo_costo = invData && invData.ULT_COSTO ? parseFloat(invData.ULT_COSTO) : null;\n      productoObj.ultima_compra = invData && invData.FCH_ULTCOM ? invData.FCH_ULTCOM : null;\n      return productoObj;\n    });\n    res.status(200).json(productosFinales);\n  } catch (error) {\n    console.error('Error al obtener productos y combinarlos con datos externos:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor al obtener o combinar datos.',\n      detalle: error.message\n    });\n  }\n});\n\n// Endpoint para obtener un producto por su clave\n/* router.get('/:clave', async (req, res) => {\r\n    try {\r\n        const { clave } = req.params;\r\n        const producto = await Producto.findByPk(clave);\r\n\r\n        if (!producto) {\r\n            return res.status(404).json({ error: 'Producto no encontrado' });\r\n        }\r\n\r\n        res.status(200).json(producto);\r\n    } catch (error) {\r\n        console.error('Error al obtener el producto por clave:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n}); */\n\n// productos.js (Servidor 'X' - Endpoint /:clave - NUEVA MODIFICACIÓN)\n\n// ... (definición de INVENTARIO_API_URL y axios) ...\n\n// Endpoint para obtener un producto por su clave (AHORA CON UNA SOLA LLAMADA EXTERNA)\nrouter.get('/:clave', async (req, res) => {\n  const {\n    clave\n  } = req.params;\n  const claveNormalizada = String(clave).trim().toUpperCase();\n  console.log(\"Dentro /:clave\");\n  try {\n    // 1. Obtener el producto base de la BD local ('y')\n    // *EXCLUIMOS*: los 4 campos que serán actualizados por la API externa.\n    const productoBase = await Producto.findByPk(claveNormalizada, {\n      attributes: {\n        exclude: ['precio', 'existencia', 'ultima_compra', 'ultimo_costo']\n      }\n    });\n    if (!productoBase) {\n      return res.status(404).json({\n        error: 'Producto no encontrado en la base de datos local.'\n      });\n    }\n\n    // 2. Realizar UNA SOLA llamada al endpoint consolidado del servidor 'z'\n    const inventarioCompletoResponse = await axios.get(`${process.env.INVENTARIO_API_URL}/inventariocompleto/${claveNormalizada}`);\n    const invData = inventarioCompletoResponse.data; // Ya es el objeto directo\n    const productoFinal = productoBase.get({\n      plain: true\n    });\n\n    // 3. Fusionar los datos actualizados\n\n    // PRECIO\n    productoFinal.precio = invData.PRECIO ? parseFloat(invData.PRECIO) : null;\n\n    // EXISTENCIA\n    productoFinal.existencia = invData.EXISTENCIA ? parseFloat(invData.EXISTENCIA) : 0.00;\n\n    // ÚLTIMO COSTO\n    productoFinal.ultimo_costo = invData.ULT_COSTO ? parseFloat(invData.ULT_COSTO) : null;\n\n    // ÚLTIMA COMPRA\n    productoFinal.ultima_compra = invData.FCH_ULTCOM || null;\n    res.status(200).json(productoFinal);\n  } catch (error) {\n    // Manejo de errores: Si la llamada externa falla, podemos devolver el producto base\n    // sin la información actualizada, o devolver el error 500. Elegimos 500 para ser estrictos.\n    console.error('Error al obtener el producto y combinar datos externos:', error.message);\n    res.status(500).json({\n      error: 'Error al procesar la solicitud o al conectar con el servicio de inventario en tiempo real.',\n      detalle: error.message\n    });\n  }\n});\n\n// Endpoint para obtener productos por línea\nrouter.get('/linea/:linea', async (req, res) => {\n  try {\n    const {\n      linea\n    } = req.params;\n    const productos = await Producto.findAll({\n      where: {\n        linea: {\n          [Op.like]: `%${linea}%` // Usamos Op.like para una búsqueda flexible\n        }\n      }\n    });\n    res.status(200).json(productos);\n  } catch (error) {\n    console.error('Error al obtener los productos por línea:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para crear multiples productos de forma masiva\nrouter.post('/bulk', async (req, res) => {\n  try {\n    const productos = await Producto.bulkCreate(req.body);\n    res.status(201).json(productos);\n  } catch (error) {\n    console.error('Error al crear multiples productos:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para actualizar el precio de un producto por su clave\nrouter.patch('/precio', async (req, res) => {\n  try {\n    const {\n      clave,\n      precio\n    } = req.body;\n    if (!clave || precio === undefined) {\n      return res.status(400).json({\n        error: 'Faltan campos obligatorios: clave y precio'\n      });\n    }\n    const [filasActualizadas] = await Producto.update({\n      precio: precio\n    }, {\n      where: {\n        clave: clave\n      }\n    });\n    if (filasActualizadas === 0) {\n      return res.status(404).json({\n        error: 'Producto no encontrado'\n      });\n    }\n    const productoActualizado = await Producto.findByPk(clave);\n    res.status(200).json(productoActualizado);\n  } catch (error) {\n    console.error('Error al actualizar el precio del producto:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para actualizar el precio de multiples productos de forma masiva\nrouter.patch('/bulk-precio', async (req, res) => {\n  const t = await db.sequelize.transaction();\n  try {\n    const productosActualizados = req.body;\n    if (!Array.isArray(productosActualizados) || productosActualizados.length === 0) {\n      return res.status(400).json({\n        error: 'El cuerpo de la solicitud debe ser un arreglo no vacío de productos.'\n      });\n    }\n    const clavesRecibidasNormalizadas = productosActualizados.map(p => String(p.clave).trim().toUpperCase());\n    console.log('Claves recibidas normalizadas:', clavesRecibidasNormalizadas); // DEBUG\n\n    const productosExistentes = await Producto.findAll({\n      attributes: ['clave'],\n      where: {\n        clave: {\n          [db.Sequelize.Op.in]: clavesRecibidasNormalizadas\n        }\n      },\n      transaction: t\n    });\n    const clavesExistentesNormalizadas = new Set(productosExistentes.map(p => String(p.clave).trim().toUpperCase()));\n    console.log('Claves existentes en DB (normalizadas):', Array.from(clavesExistentesNormalizadas)); // DEBUG\n\n    const productosParaActualizar = [];\n    const productosNoEncontrados = [];\n    productosActualizados.forEach(p => {\n      const claveNormalizada = String(p.clave).trim().toUpperCase();\n      if (clavesExistentesNormalizadas.has(claveNormalizada)) {\n        productosParaActualizar.push({\n          clave: claveNormalizada,\n          precio: p.precio\n        });\n      } else {\n        productosNoEncontrados.push(p.clave);\n      }\n    });\n    console.log('Productos para actualizar (claves normalizadas):', productosParaActualizar.map(p => p.clave)); // DEBUG\n    console.log('Productos no encontrados:', productosNoEncontrados); // DEBUG\n\n    let message = 'Proceso de actualización de precios completado.';\n    let updatedCount = 0;\n    if (productosParaActualizar.length > 0) {\n      // Realizar la actualización individual para cada producto existente\n      for (const p of productosParaActualizar) {\n        const [filasActualizadas] = await Producto.update({\n          precio: p.precio\n        }, {\n          where: {\n            clave: p.clave\n          },\n          transaction: t\n        });\n        if (filasActualizadas > 0) {\n          updatedCount++;\n        }\n      }\n      message += `Se actualizaron ${updatedCount} productos.`;\n    } else {\n      message += ' No se encontraron productos existentes para actualizar.';\n    }\n    if (productosNoEncontrados.length > 0) {\n      message += `${productosNoEncontrados.length} productos no encontrados:\n  ${productosNoEncontrados.join(', ')}.`;\n    }\n    await t.commit();\n    res.status(200).json({\n      message: message,\n      productosNoEncontrados: productosNoEncontrados\n    });\n  } catch (error) {\n    await t.rollback();\n    console.error('Error al actualizar precios de forma masiva:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor al actualizar precios.'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiUHJvZHVjdG8iLCJPcCIsImF4aW9zIiwicG9zdCIsInJlcSIsInJlcyIsIm51ZXZvUHJvZHVjdG8iLCJjcmVhdGUiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJnZXQiLCJjYXRlZ29yaWFzIiwiZmluZEFsbCIsImF0dHJpYnV0ZXMiLCJzZXF1ZWxpemUiLCJmbiIsImNvbCIsImdyb3VwIiwib3JkZXIiLCJsaXN0YUNhdGVnb3JpYXMiLCJtYXAiLCJjIiwiY2F0ZWdvcmlhIiwiZGVsZXRlIiwiY2xhdmUiLCJwYXJhbXMiLCJwcm9kdWN0b0JvcnJhZG8iLCJkZXN0cm95Iiwid2hlcmUiLCJ0cnVuY2F0ZSIsInByb2R1Y3Rvc0Jhc2UiLCJleGNsdWRlIiwicHJlY2lvc1Jlc3BvbnNlIiwiZXhpc3RlbmNpYXNSZXNwb25zZSIsImludmVudGFyaW9SZXNwb25zZSIsIlByb21pc2UiLCJhbGwiLCJwcm9jZXNzIiwiZW52IiwiSU5WRU5UQVJJT19BUElfVVJMIiwicHJlY2lvc0V4dGVybm9zIiwiZGF0YSIsImV4aXN0ZW5jaWFzRXh0ZXJuYXMiLCJpbnZlbnRhcmlvRXh0ZXJubyIsInByZWNpb3NNYXAiLCJNYXAiLCJmb3JFYWNoIiwicCIsInNldCIsIlN0cmluZyIsIkNWRV9BUlQiLCJ0cmltIiwidG9VcHBlckNhc2UiLCJQUkVDSU8iLCJleGlzdGVuY2lhc01hcCIsImUiLCJjbGF2ZU5vcm1hbGl6YWRhIiwiZXhpc3RlbmNpYUFjdHVhbCIsInBhcnNlRmxvYXQiLCJFWElTVCIsImludmVudGFyaW9NYXAiLCJpIiwiRkNIX1VMVENPTSIsIlVMVF9DT1NUTyIsInByb2R1Y3Rvc0ZpbmFsZXMiLCJwcm9kdWN0byIsInByb2R1Y3RvT2JqIiwicGxhaW4iLCJpbnZEYXRhIiwicHJlY2lvTmV0byIsImhhcyIsInByZWNpb0ZpbmFsVmVudGEiLCJwcmVjaW9CcnV0byIsInRvRml4ZWQiLCJNYXRoIiwiY2VpbCIsInByZWNpbyIsImV4aXN0ZW5jaWEiLCJ1bHRpbW9fY29zdG8iLCJ1bHRpbWFfY29tcHJhIiwiZGV0YWxsZSIsImxvZyIsInByb2R1Y3RvQmFzZSIsImZpbmRCeVBrIiwiaW52ZW50YXJpb0NvbXBsZXRvUmVzcG9uc2UiLCJwcm9kdWN0b0ZpbmFsIiwiRVhJU1RFTkNJQSIsImxpbmVhIiwicHJvZHVjdG9zIiwibGlrZSIsImJ1bGtDcmVhdGUiLCJwYXRjaCIsInVuZGVmaW5lZCIsImZpbGFzQWN0dWFsaXphZGFzIiwidXBkYXRlIiwicHJvZHVjdG9BY3R1YWxpemFkbyIsInQiLCJ0cmFuc2FjdGlvbiIsInByb2R1Y3Rvc0FjdHVhbGl6YWRvcyIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImNsYXZlc1JlY2liaWRhc05vcm1hbGl6YWRhcyIsInByb2R1Y3Rvc0V4aXN0ZW50ZXMiLCJTZXF1ZWxpemUiLCJpbiIsImNsYXZlc0V4aXN0ZW50ZXNOb3JtYWxpemFkYXMiLCJTZXQiLCJmcm9tIiwicHJvZHVjdG9zUGFyYUFjdHVhbGl6YXIiLCJwcm9kdWN0b3NOb0VuY29udHJhZG9zIiwicHVzaCIsInVwZGF0ZWRDb3VudCIsImpvaW4iLCJjb21taXQiLCJyb2xsYmFjayIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcb3JvZHJcXHdvcmtzcGFjZVxcQVBJc1xcYXBpLWVjb21tZXJjZVxccm91dGVzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3Rvcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL21vZGVscycpO1xyXG5jb25zdCBQcm9kdWN0byA9IGRiLlByb2R1Y3RvO1xyXG5jb25zdCB7IE9wIH0gPSByZXF1aXJlKCdzZXF1ZWxpemUnKTtcclxuY29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBjcmVhciB1biBudWV2byBwcm9kdWN0b1xyXG5yb3V0ZXIucG9zdCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBVc2EgYHJlcS5ib2R5YCBwYXJhIGFjY2VkZXIgYSBsb3MgZGF0b3MgZW52aWFkb3MgZW4gbGEgc29saWNpdHVkXHJcbiAgICAgICAgY29uc3QgbnVldm9Qcm9kdWN0byA9IGF3YWl0IFByb2R1Y3RvLmNyZWF0ZShyZXEuYm9keSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24obnVldm9Qcm9kdWN0byk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGNyZWFyIGVsIHByb2R1Y3RvOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgYWN0dWFsaXphciBsYXMgZXhpc3RlbmNpYXMgZGUgdW5vIG8gdmFyaW9zIHByb2R1Y3RvcyBkZSBmb3JtYSBtYXNpdmFcclxuLyogcm91dGVyLnBhdGNoKCcvZXhpc3RlbmNpYXMnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHQgPSBhd2FpdCBkYi5zZXF1ZWxpemUudHJhbnNhY3Rpb24oKTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdG9zQWN0dWFsaXphZG9zID0gcmVxLmJvZHk7XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb2R1Y3Rvc0FjdHVhbGl6YWRvcykgfHwgcHJvZHVjdG9zQWN0dWFsaXphZG9zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0VsIGN1ZXJwbyBkZSBsYSBzb2xpY2l0dWQgZGViZSBzZXIgdW4gYXJyZWdsbyBubyB2YWPDrW8gZGUgcHJvZHVjdG9zLicgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjbGF2ZXNSZWNpYmlkYXMgPSBwcm9kdWN0b3NBY3R1YWxpemFkb3MubWFwKHAgPT4gcC5jbGF2ZSk7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdG9zRXhpc3RlbnRlcyA9IGF3YWl0IFByb2R1Y3RvLmZpbmRBbGwoe1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBbJ2NsYXZlJ10sXHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBjbGF2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIFtkYi5TZXF1ZWxpemUuT3AuaW5dOiBjbGF2ZXNSZWNpYmlkYXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb246IHRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY2xhdmVzRXhpc3RlbnRlcyA9IG5ldyBTZXQocHJvZHVjdG9zRXhpc3RlbnRlcy5tYXAocCA9PiBwLmNsYXZlKSk7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdG9zUGFyYUFjdHVhbGl6YXIgPSBbXTtcclxuICAgICAgICBjb25zdCBwcm9kdWN0b3NOb0VuY29udHJhZG9zID0gW107XHJcblxyXG4gICAgICAgIHByb2R1Y3Rvc0FjdHVhbGl6YWRvcy5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2xhdmVzRXhpc3RlbnRlcy5oYXMocC5jbGF2ZSkpIHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3Rvc1BhcmFBY3R1YWxpemFyLnB1c2gocCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0b3NOb0VuY29udHJhZG9zLnB1c2gocC5jbGF2ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IHVwZGF0ZWRDb3VudCA9IDA7XHJcbiAgICAgICAgaWYgKHByb2R1Y3Rvc1BhcmFBY3R1YWxpemFyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBwIG9mIHByb2R1Y3Rvc1BhcmFBY3R1YWxpemFyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbZmlsYXNBY3R1YWxpemFkYXNdID0gYXdhaXQgUHJvZHVjdG8udXBkYXRlKFxyXG4gICAgICAgICAgICAgICAgICAgIHsgZXhpc3RlbmNpYTogcC5leGlzdGVuY2lhIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyB3aGVyZTogeyBjbGF2ZTogcC5jbGF2ZSB9LCB0cmFuc2FjdGlvbjogdCB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGFzQWN0dWFsaXphZGFzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCB0LmNvbW1pdCgpO1xyXG4gICAgICAgIGxldCBtZXNzYWdlID0gYFByb2Nlc28gZGUgYWN0dWFsaXphY2nDs24gZGUgZXhpc3RlbmNpYXMgY29tcGxldGFkby4gU2UgYWN0dWFsaXphcm9uICR7dXBkYXRlZENvdW50fSBwcm9kdWN0b3MuYDtcclxuXHJcbiAgICAgICAgaWYgKHByb2R1Y3Rvc05vRW5jb250cmFkb3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBtZXNzYWdlICs9IGAgJHtwcm9kdWN0b3NOb0VuY29udHJhZG9zLmxlbmd0aH0gcHJvZHVjdG9zIG5vIGVuY29udHJhZG9zOiAke3Byb2R1Y3Rvc05vRW5jb250cmFkb3Muam9pbignLCAnKX0uYDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcclxuICAgICAgICAgICAgcHJvZHVjdG9zTm9FbmNvbnRyYWRvczogcHJvZHVjdG9zTm9FbmNvbnRyYWRvc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgYXdhaXQgdC5yb2xsYmFjaygpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGFjdHVhbGl6YXIgZXhpc3RlbmNpYXMgZGUgZm9ybWEgbWFzaXZhOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3IgYWwgYWN0dWFsaXphciBleGlzdGVuY2lhcy4nIH0pO1xyXG4gICAgfVxyXG59KTsgKi9cclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgb2J0ZW5lciB0b2RhcyBsYXMgY2F0ZWdvcsOtYXMgw7puaWNhcyBkZSBwcm9kdWN0b3Ncclxucm91dGVyLmdldCgnL2NhdGVnb3JpYXMnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY2F0ZWdvcmlhcyA9IGF3YWl0IFByb2R1Y3RvLmZpbmRBbGwoe1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXHJcbiAgICAgICAgICAgICAgICBbZGIuc2VxdWVsaXplLmZuKCdESVNUSU5DVCcsIGRiLnNlcXVlbGl6ZS5jb2woJ2NhdGVnb3JpYScpKSwgJ2NhdGVnb3JpYSddXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGdyb3VwOiBbJ2NhdGVnb3JpYSddLFxyXG4gICAgICAgICAgICBvcmRlcjogW1xyXG4gICAgICAgICAgICAgICAgWydjYXRlZ29yaWEnLCAnQVNDJ11cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGxpc3RhQ2F0ZWdvcmlhcyA9IGNhdGVnb3JpYXMubWFwKGMgPT4gYy5jYXRlZ29yaWEpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGxpc3RhQ2F0ZWdvcmlhcyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIG9idGVuZXIgY2F0ZWdvcsOtYXMgw7puaWNhczonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGJvcnJhciB1biBwcm9kdWN0byBwb3Igc3UgY2xhdmVcclxucm91dGVyLmRlbGV0ZSgnLzpjbGF2ZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGNsYXZlIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IHByb2R1Y3RvQm9ycmFkbyA9IGF3YWl0IFByb2R1Y3RvLmRlc3Ryb3koe1xyXG4gICAgICAgICAgICB3aGVyZTogeyBjbGF2ZTogY2xhdmUgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAocHJvZHVjdG9Cb3JyYWRvID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnUHJvZHVjdG8gbm8gZW5jb250cmFkbycgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdQcm9kdWN0byBlbGltaW5hZG8gY29uIMOpeGl0bycgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGJvcnJhciBlbCBwcm9kdWN0bzonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGJvcnJhciB0b2RvcyBsb3MgcHJvZHVjdG9zXHJcbnJvdXRlci5kZWxldGUoJy9hbGwnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgUHJvZHVjdG8uZGVzdHJveSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7fSxcclxuICAgICAgICAgICAgdHJ1bmNhdGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdUb2RvcyBsb3MgcHJvZHVjdG9zIGhhbiBzaWRvIGVsaW1pbmFkb3MgY29uIMOpeGl0bycgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGVsaW1pbmFyIHRvZG9zIGxvcyBwcm9kdWN0b3M6JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIHRvZG9zIGxvcyBwcm9kdWN0b3NcclxuLyogcm91dGVyLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwcm9kdWN0b3MgPSBhd2FpdCBQcm9kdWN0by5maW5kQWxsKCk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdG9zKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciB0b2RvcyBsb3MgcHJvZHVjdG9zOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTsgKi9cclxuXHJcbi8vIC9yb3V0ZXMvcHJvZHVjdG9zLmpzXHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIG9idGVuZXIgdG9kb3MgbG9zIHByb2R1Y3RvcyAoT1JRVUVTVEFET1IgLSBWRVJTScOTTiBPUklHSU5BTCBDT04gSVZBIFkgUkVET05ERU8pXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gMS4gT2J0ZW5lciBsYSBsaXN0YSBiYXNlIGRlIHByb2R1Y3RvcyBkZSBsYSBCRCBsb2NhbCAoJ3knKVxyXG4gICAgICAgIC8vICpFWENMVUlNT1MqOiAncHJlY2lvJywgJ2V4aXN0ZW5jaWEnLCAndWx0aW1hX2NvbXByYScsIHkgJ3VsdGltb19jb3N0bydcclxuICAgICAgICBjb25zdCBwcm9kdWN0b3NCYXNlID0gYXdhaXQgUHJvZHVjdG8uZmluZEFsbCh7XHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHsgZXhjbHVkZTogWydwcmVjaW8nLCAnZXhpc3RlbmNpYScsICd1bHRpbWFfY29tcHJhJywgJ3VsdGltb19jb3N0byddIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gMi4gUmVhbGl6YXIgbGFzIFRSRVMgbGxhbWFkYXMgY29uY3VycmVudGVzIGFsIHNlcnZpZG9yICd6J1xyXG4gICAgICAgIGNvbnN0IFtwcmVjaW9zUmVzcG9uc2UsIGV4aXN0ZW5jaWFzUmVzcG9uc2UsIGludmVudGFyaW9SZXNwb25zZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIGF4aW9zLmdldChgJHtwcm9jZXNzLmVudi5JTlZFTlRBUklPX0FQSV9VUkx9L3ByZWNpb3NgKSxcclxuICAgICAgICAgICAgYXhpb3MuZ2V0KGAke3Byb2Nlc3MuZW52LklOVkVOVEFSSU9fQVBJX1VSTH0vZXhpc3RlbmNpYXNgKSxcclxuICAgICAgICAgICAgYXhpb3MuZ2V0KGAke3Byb2Nlc3MuZW52LklOVkVOVEFSSU9fQVBJX1VSTH0vaW52ZW50YXJpb2ApIFxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICAvLyAzLiBDcmVhciBNYXBhcyBwYXJhIHVuYSBiw7pzcXVlZGEgZWZpY2llbnRlIE8oMSlcclxuICAgICAgICBjb25zdCBwcmVjaW9zRXh0ZXJub3MgPSBwcmVjaW9zUmVzcG9uc2UuZGF0YTtcclxuICAgICAgICBjb25zdCBleGlzdGVuY2lhc0V4dGVybmFzID0gZXhpc3RlbmNpYXNSZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIGNvbnN0IGludmVudGFyaW9FeHRlcm5vID0gaW52ZW50YXJpb1Jlc3BvbnNlLmRhdGE7IFxyXG5cclxuICAgICAgICAvLyBNYXBhIDE6IFByZWNpb3MgKENWRV9BUlQgLT4gUFJFQ0lPKVxyXG4gICAgICAgIGNvbnN0IHByZWNpb3NNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgcHJlY2lvc0V4dGVybm9zLmZvckVhY2gocCA9PiB7XHJcbiAgICAgICAgICAgIHByZWNpb3NNYXAuc2V0KFN0cmluZyhwLkNWRV9BUlQpLnRyaW0oKS50b1VwcGVyQ2FzZSgpLCBwLlBSRUNJTyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE1hcGEgMjogRXhpc3RlbmNpYXMgKENWRV9BUlQgLT4gRVhJU1RFTkNJQSBTVU1BREEpXHJcbiAgICAgICAgY29uc3QgZXhpc3RlbmNpYXNNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgZXhpc3RlbmNpYXNFeHRlcm5hcy5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjbGF2ZU5vcm1hbGl6YWRhID0gU3RyaW5nKGUuQ1ZFX0FSVCkudHJpbSgpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0ZW5jaWFBY3R1YWwgPSBleGlzdGVuY2lhc01hcC5nZXQoY2xhdmVOb3JtYWxpemFkYSkgfHwgMDtcclxuICAgICAgICAgICAgZXhpc3RlbmNpYXNNYXAuc2V0KGNsYXZlTm9ybWFsaXphZGEsIGV4aXN0ZW5jaWFBY3R1YWwgKyBwYXJzZUZsb2F0KGUuRVhJU1QgfHwgMCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE1hcGEgMzogSW52ZW50YXJpbyBCYXNlIChDVkVfQVJUIC0+IHtGQ0hfVUxUQ09NLCBVTFRfQ09TVE99KVxyXG4gICAgICAgIGNvbnN0IGludmVudGFyaW9NYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgaW52ZW50YXJpb0V4dGVybm8uZm9yRWFjaChpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2xhdmVOb3JtYWxpemFkYSA9IFN0cmluZyhpLkNWRV9BUlQpLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICBpbnZlbnRhcmlvTWFwLnNldChjbGF2ZU5vcm1hbGl6YWRhLCB7XHJcbiAgICAgICAgICAgICAgICBGQ0hfVUxUQ09NOiBpLkZDSF9VTFRDT00sXHJcbiAgICAgICAgICAgICAgICBVTFRfQ09TVE86IGkuVUxUX0NPU1RPXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gNC4gRnVzaW9uYXIgbG9zIGRhdG9zLCBhcGxpY2FyIElWQSB5IGNvbnN0cnVpciBsYSByZXNwdWVzdGEgZmluYWxcclxuICAgICAgICBjb25zdCBwcm9kdWN0b3NGaW5hbGVzID0gcHJvZHVjdG9zQmFzZS5tYXAocHJvZHVjdG8gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9kdWN0b09iaiA9IHByb2R1Y3RvLmdldCh7IHBsYWluOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBjbGF2ZU5vcm1hbGl6YWRhID0gU3RyaW5nKHByb2R1Y3RvT2JqLmNsYXZlKS50cmltKCkudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIERhdG9zIEV4dGVybm9zXHJcbiAgICAgICAgICAgIGNvbnN0IGludkRhdGEgPSBpbnZlbnRhcmlvTWFwLmdldChjbGF2ZU5vcm1hbGl6YWRhKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgLy8g8J+aqCBDQU1CSU8gQ0xBVkU6IEPDgUxDVUxPIERFIElWQSBZIFJFRE9OREVPIEFQTElDQURPXHJcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgY29uc3QgcHJlY2lvTmV0byA9IHByZWNpb3NNYXAuaGFzKGNsYXZlTm9ybWFsaXphZGEpXHJcbiAgICAgICAgICAgICAgICA/IHBhcnNlRmxvYXQocHJlY2lvc01hcC5nZXQoY2xhdmVOb3JtYWxpemFkYSkpXHJcbiAgICAgICAgICAgICAgICA6IDA7XHJcblxyXG4gICAgICAgICAgICBsZXQgcHJlY2lvRmluYWxWZW50YSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAocHJlY2lvTmV0byA+IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIDEuIEFwbGljYXIgMTYlIGRlIElWQSAoUHJlY2lvIEJydXRvKVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJlY2lvQnJ1dG8gPSBwcmVjaW9OZXRvICogMS4xNjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAyLiBBcGxpY2FyIHJlZ2xhcyBkZSByZWRvbmRlb1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZWNpb0JydXRvIDwgNS4wMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpIGVzIG1lbm9yIGEgJDUuMDAsIHNlIG1hbnRpZW5lIGEgZG9zIGRlY2ltYWxlc1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWNpb0ZpbmFsVmVudGEgPSBwYXJzZUZsb2F0KHByZWNpb0JydXRvLnRvRml4ZWQoMikpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTaSBlcyBpZ3VhbCBvIG1heW9yIGEgJDUuMDAsIHNlIHJlZG9uZGVhIGFsIGVudGVybyBzdXBlcmlvclxyXG4gICAgICAgICAgICAgICAgICAgIHByZWNpb0ZpbmFsVmVudGEgPSBNYXRoLmNlaWwocHJlY2lvQnJ1dG8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBc2lnbmFyIGVsIHByZWNpbyBmaW5hbCBkZSB2ZW50YVxyXG4gICAgICAgICAgICBwcm9kdWN0b09iai5wcmVjaW8gPSBwcmVjaW9GaW5hbFZlbnRhOyBcclxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gSW50ZWdyYWNpw7NuIGRlIEV4aXN0ZW5jaWEgKG9yaWdpbmFsKVxyXG4gICAgICAgICAgICBwcm9kdWN0b09iai5leGlzdGVuY2lhID0gZXhpc3RlbmNpYXNNYXAuaGFzKGNsYXZlTm9ybWFsaXphZGEpXHJcbiAgICAgICAgICAgICAgICA/IHBhcnNlRmxvYXQoZXhpc3RlbmNpYXNNYXAuZ2V0KGNsYXZlTm9ybWFsaXphZGEpKVxyXG4gICAgICAgICAgICAgICAgOiAwLjAwO1xyXG5cclxuICAgICAgICAgICAgLy8gSW50ZWdyYWNpw7NuIGRlIGxvcyBudWV2b3MgY2FtcG9zIGRlIEludmVudGFyaW8gQmFzZSAob3JpZ2luYWwpXHJcbiAgICAgICAgICAgIHByb2R1Y3RvT2JqLnVsdGltb19jb3N0byA9IGludkRhdGEgJiYgaW52RGF0YS5VTFRfQ09TVE9cclxuICAgICAgICAgICAgICAgID8gcGFyc2VGbG9hdChpbnZEYXRhLlVMVF9DT1NUTylcclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgICAgcHJvZHVjdG9PYmoudWx0aW1hX2NvbXByYSA9IGludkRhdGEgJiYgaW52RGF0YS5GQ0hfVUxUQ09NXHJcbiAgICAgICAgICAgICAgICA/IGludkRhdGEuRkNIX1VMVENPTVxyXG4gICAgICAgICAgICAgICAgOiBudWxsOyBcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwcm9kdWN0b09iajtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdG9zRmluYWxlcyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIG9idGVuZXIgcHJvZHVjdG9zIHkgY29tYmluYXJsb3MgY29uIGRhdG9zIGV4dGVybm9zOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxyXG4gICAgICAgICAgICBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yIGFsIG9idGVuZXIgbyBjb21iaW5hciBkYXRvcy4nLFxyXG4gICAgICAgICAgICBkZXRhbGxlOiBlcnJvci5tZXNzYWdlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIHVuIHByb2R1Y3RvIHBvciBzdSBjbGF2ZVxyXG4vKiByb3V0ZXIuZ2V0KCcvOmNsYXZlJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhdmUgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdG8gPSBhd2FpdCBQcm9kdWN0by5maW5kQnlQayhjbGF2ZSk7XHJcblxyXG4gICAgICAgIGlmICghcHJvZHVjdG8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdQcm9kdWN0byBubyBlbmNvbnRyYWRvJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHByb2R1Y3RvKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciBlbCBwcm9kdWN0byBwb3IgY2xhdmU6JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicgfSk7XHJcbiAgICB9XHJcbn0pOyAqL1xyXG5cclxuLy8gcHJvZHVjdG9zLmpzIChTZXJ2aWRvciAnWCcgLSBFbmRwb2ludCAvOmNsYXZlIC0gTlVFVkEgTU9ESUZJQ0FDScOTTilcclxuXHJcbi8vIC4uLiAoZGVmaW5pY2nDs24gZGUgSU5WRU5UQVJJT19BUElfVVJMIHkgYXhpb3MpIC4uLlxyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIHVuIHByb2R1Y3RvIHBvciBzdSBjbGF2ZSAoQUhPUkEgQ09OIFVOQSBTT0xBIExMQU1BREEgRVhURVJOQSlcclxucm91dGVyLmdldCgnLzpjbGF2ZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgeyBjbGF2ZSB9ID0gcmVxLnBhcmFtcztcclxuICAgIGNvbnN0IGNsYXZlTm9ybWFsaXphZGEgPSBTdHJpbmcoY2xhdmUpLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgY29uc29sZS5sb2coXCJEZW50cm8gLzpjbGF2ZVwiKTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gMS4gT2J0ZW5lciBlbCBwcm9kdWN0byBiYXNlIGRlIGxhIEJEIGxvY2FsICgneScpXHJcbiAgICAgICAgLy8gKkVYQ0xVSU1PUyo6IGxvcyA0IGNhbXBvcyBxdWUgc2Vyw6FuIGFjdHVhbGl6YWRvcyBwb3IgbGEgQVBJIGV4dGVybmEuXHJcbiAgICAgICAgY29uc3QgcHJvZHVjdG9CYXNlID0gYXdhaXQgUHJvZHVjdG8uZmluZEJ5UGsoY2xhdmVOb3JtYWxpemFkYSwge1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB7IFxyXG4gICAgICAgICAgICAgICAgZXhjbHVkZTogWydwcmVjaW8nLCAnZXhpc3RlbmNpYScsICd1bHRpbWFfY29tcHJhJywgJ3VsdGltb19jb3N0byddIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghcHJvZHVjdG9CYXNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnUHJvZHVjdG8gbm8gZW5jb250cmFkbyBlbiBsYSBiYXNlIGRlIGRhdG9zIGxvY2FsLicgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIDIuIFJlYWxpemFyIFVOQSBTT0xBIGxsYW1hZGEgYWwgZW5kcG9pbnQgY29uc29saWRhZG8gZGVsIHNlcnZpZG9yICd6J1xyXG4gICAgICAgIGNvbnN0IGludmVudGFyaW9Db21wbGV0b1Jlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KFxyXG4gICAgICAgICAgICBgJHtwcm9jZXNzLmVudi5JTlZFTlRBUklPX0FQSV9VUkx9L2ludmVudGFyaW9jb21wbGV0by8ke2NsYXZlTm9ybWFsaXphZGF9YFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGludkRhdGEgPSBpbnZlbnRhcmlvQ29tcGxldG9SZXNwb25zZS5kYXRhOyAvLyBZYSBlcyBlbCBvYmpldG8gZGlyZWN0b1xyXG4gICAgICAgIGNvbnN0IHByb2R1Y3RvRmluYWwgPSBwcm9kdWN0b0Jhc2UuZ2V0KHsgcGxhaW46IHRydWUgfSk7XHJcblxyXG4gICAgICAgIC8vIDMuIEZ1c2lvbmFyIGxvcyBkYXRvcyBhY3R1YWxpemFkb3NcclxuICAgICAgICBcclxuICAgICAgICAvLyBQUkVDSU9cclxuICAgICAgICBwcm9kdWN0b0ZpbmFsLnByZWNpbyA9IGludkRhdGEuUFJFQ0lPIFxyXG4gICAgICAgICAgICA/IHBhcnNlRmxvYXQoaW52RGF0YS5QUkVDSU8pIFxyXG4gICAgICAgICAgICA6IG51bGw7XHJcblxyXG4gICAgICAgIC8vIEVYSVNURU5DSUFcclxuICAgICAgICBwcm9kdWN0b0ZpbmFsLmV4aXN0ZW5jaWEgPSBpbnZEYXRhLkVYSVNURU5DSUEgXHJcbiAgICAgICAgICAgID8gcGFyc2VGbG9hdChpbnZEYXRhLkVYSVNURU5DSUEpIFxyXG4gICAgICAgICAgICA6IDAuMDA7XHJcblxyXG4gICAgICAgIC8vIMOaTFRJTU8gQ09TVE9cclxuICAgICAgICBwcm9kdWN0b0ZpbmFsLnVsdGltb19jb3N0byA9IGludkRhdGEuVUxUX0NPU1RPIFxyXG4gICAgICAgICAgICA/IHBhcnNlRmxvYXQoaW52RGF0YS5VTFRfQ09TVE8pIFxyXG4gICAgICAgICAgICA6IG51bGw7XHJcblxyXG4gICAgICAgIC8vIMOaTFRJTUEgQ09NUFJBXHJcbiAgICAgICAgcHJvZHVjdG9GaW5hbC51bHRpbWFfY29tcHJhID0gaW52RGF0YS5GQ0hfVUxUQ09NIHx8IG51bGw7XHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHByb2R1Y3RvRmluYWwpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBNYW5lam8gZGUgZXJyb3JlczogU2kgbGEgbGxhbWFkYSBleHRlcm5hIGZhbGxhLCBwb2RlbW9zIGRldm9sdmVyIGVsIHByb2R1Y3RvIGJhc2VcclxuICAgICAgICAvLyBzaW4gbGEgaW5mb3JtYWNpw7NuIGFjdHVhbGl6YWRhLCBvIGRldm9sdmVyIGVsIGVycm9yIDUwMC4gRWxlZ2ltb3MgNTAwIHBhcmEgc2VyIGVzdHJpY3Rvcy5cclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIGVsIHByb2R1Y3RvIHkgY29tYmluYXIgZGF0b3MgZXh0ZXJub3M6JywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcclxuICAgICAgICAgICAgZXJyb3I6ICdFcnJvciBhbCBwcm9jZXNhciBsYSBzb2xpY2l0dWQgbyBhbCBjb25lY3RhciBjb24gZWwgc2VydmljaW8gZGUgaW52ZW50YXJpbyBlbiB0aWVtcG8gcmVhbC4nLFxyXG4gICAgICAgICAgICBkZXRhbGxlOiBlcnJvci5tZXNzYWdlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIHByb2R1Y3RvcyBwb3IgbMOtbmVhXHJcbnJvdXRlci5nZXQoJy9saW5lYS86bGluZWEnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBsaW5lYSB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgICBjb25zdCBwcm9kdWN0b3MgPSBhd2FpdCBQcm9kdWN0by5maW5kQWxsKHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIGxpbmVhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgW09wLmxpa2VdOiBgJSR7bGluZWF9JWAgLy8gVXNhbW9zIE9wLmxpa2UgcGFyYSB1bmEgYsO6c3F1ZWRhIGZsZXhpYmxlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihwcm9kdWN0b3MpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIGxvcyBwcm9kdWN0b3MgcG9yIGzDrW5lYTonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGNyZWFyIG11bHRpcGxlcyBwcm9kdWN0b3MgZGUgZm9ybWEgbWFzaXZhXHJcbnJvdXRlci5wb3N0KCcvYnVsaycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwcm9kdWN0b3MgPSBhd2FpdCBQcm9kdWN0by5idWxrQ3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbihwcm9kdWN0b3MpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBjcmVhciBtdWx0aXBsZXMgcHJvZHVjdG9zOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgYWN0dWFsaXphciBlbCBwcmVjaW8gZGUgdW4gcHJvZHVjdG8gcG9yIHN1IGNsYXZlXHJcbnJvdXRlci5wYXRjaCgnL3ByZWNpbycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGNsYXZlLCBwcmVjaW8gfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICBpZiAoIWNsYXZlIHx8IHByZWNpbyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnRmFsdGFuIGNhbXBvcyBvYmxpZ2F0b3Jpb3M6IGNsYXZlIHkgcHJlY2lvJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IFtmaWxhc0FjdHVhbGl6YWRhc10gPSBhd2FpdCBQcm9kdWN0by51cGRhdGUoXHJcbiAgICAgICAgICAgIHsgcHJlY2lvOiBwcmVjaW8gfSxcclxuICAgICAgICAgICAgeyB3aGVyZTogeyBjbGF2ZTogY2xhdmUgfSB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKGZpbGFzQWN0dWFsaXphZGFzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnUHJvZHVjdG8gbm8gZW5jb250cmFkbycgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwcm9kdWN0b0FjdHVhbGl6YWRvID0gYXdhaXQgUHJvZHVjdG8uZmluZEJ5UGsoY2xhdmUpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHByb2R1Y3RvQWN0dWFsaXphZG8pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBhY3R1YWxpemFyIGVsIHByZWNpbyBkZWwgcHJvZHVjdG86JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBhY3R1YWxpemFyIGVsIHByZWNpbyBkZSBtdWx0aXBsZXMgcHJvZHVjdG9zIGRlIGZvcm1hIG1hc2l2YVxyXG5yb3V0ZXIucGF0Y2goJy9idWxrLXByZWNpbycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdCA9IGF3YWl0IGRiLnNlcXVlbGl6ZS50cmFuc2FjdGlvbigpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwcm9kdWN0b3NBY3R1YWxpemFkb3MgPSByZXEuYm9keTtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvZHVjdG9zQWN0dWFsaXphZG9zKSB8fCBwcm9kdWN0b3NBY3R1YWxpemFkb3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnRWwgY3VlcnBvIGRlIGxhIHNvbGljaXR1ZCBkZWJlIHNlciB1biBhcnJlZ2xvIG5vIHZhY8OtbyBkZSBwcm9kdWN0b3MuJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNsYXZlc1JlY2liaWRhc05vcm1hbGl6YWRhcyA9IHByb2R1Y3Rvc0FjdHVhbGl6YWRvcy5tYXAocCA9PlxyXG4gICAgICAgICAgICBTdHJpbmcocC5jbGF2ZSkudHJpbSgpLnRvVXBwZXJDYXNlKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDbGF2ZXMgcmVjaWJpZGFzIG5vcm1hbGl6YWRhczonLCBjbGF2ZXNSZWNpYmlkYXNOb3JtYWxpemFkYXMpOyAvLyBERUJVR1xyXG5cclxuICAgICAgICBjb25zdCBwcm9kdWN0b3NFeGlzdGVudGVzID0gYXdhaXQgUHJvZHVjdG8uZmluZEFsbCh7XHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IFsnY2xhdmUnXSxcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIGNsYXZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgW2RiLlNlcXVlbGl6ZS5PcC5pbl06IGNsYXZlc1JlY2liaWRhc05vcm1hbGl6YWRhc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0cmFuc2FjdGlvbjogdFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBjbGF2ZXNFeGlzdGVudGVzTm9ybWFsaXphZGFzID0gbmV3IFNldChwcm9kdWN0b3NFeGlzdGVudGVzLm1hcChwID0+XHJcbiAgICAgICAgICAgIFN0cmluZyhwLmNsYXZlKS50cmltKCkudG9VcHBlckNhc2UoKSkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDbGF2ZXMgZXhpc3RlbnRlcyBlbiBEQiAobm9ybWFsaXphZGFzKTonLFxyXG4gICAgICAgICAgICBBcnJheS5mcm9tKGNsYXZlc0V4aXN0ZW50ZXNOb3JtYWxpemFkYXMpKTsgLy8gREVCVUdcclxuXHJcbiAgICAgICAgY29uc3QgcHJvZHVjdG9zUGFyYUFjdHVhbGl6YXIgPSBbXTtcclxuICAgICAgICBjb25zdCBwcm9kdWN0b3NOb0VuY29udHJhZG9zID0gW107XHJcblxyXG4gICAgICAgIHByb2R1Y3Rvc0FjdHVhbGl6YWRvcy5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjbGF2ZU5vcm1hbGl6YWRhID0gU3RyaW5nKHAuY2xhdmUpLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICBpZiAoY2xhdmVzRXhpc3RlbnRlc05vcm1hbGl6YWRhcy5oYXMoY2xhdmVOb3JtYWxpemFkYSkpIHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3Rvc1BhcmFBY3R1YWxpemFyLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXZlOiBjbGF2ZU5vcm1hbGl6YWRhLCBwcmVjaW86IHAucHJlY2lvXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3Rvc05vRW5jb250cmFkb3MucHVzaChwLmNsYXZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnUHJvZHVjdG9zIHBhcmEgYWN0dWFsaXphciAoY2xhdmVzIG5vcm1hbGl6YWRhcyk6JyxcclxuICAgICAgICAgICAgcHJvZHVjdG9zUGFyYUFjdHVhbGl6YXIubWFwKHAgPT4gcC5jbGF2ZSkpOyAvLyBERUJVR1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdQcm9kdWN0b3Mgbm8gZW5jb250cmFkb3M6JywgcHJvZHVjdG9zTm9FbmNvbnRyYWRvcyk7IC8vIERFQlVHXHJcblxyXG4gICAgICAgIGxldCBtZXNzYWdlID0gJ1Byb2Nlc28gZGUgYWN0dWFsaXphY2nDs24gZGUgcHJlY2lvcyBjb21wbGV0YWRvLic7XHJcbiAgICAgICAgbGV0IHVwZGF0ZWRDb3VudCA9IDA7XHJcblxyXG4gICAgICAgIGlmIChwcm9kdWN0b3NQYXJhQWN0dWFsaXphci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIFJlYWxpemFyIGxhIGFjdHVhbGl6YWNpw7NuIGluZGl2aWR1YWwgcGFyYSBjYWRhIHByb2R1Y3RvIGV4aXN0ZW50ZVxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcHJvZHVjdG9zUGFyYUFjdHVhbGl6YXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFtmaWxhc0FjdHVhbGl6YWRhc10gPSBhd2FpdCBQcm9kdWN0by51cGRhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgeyBwcmVjaW86IHAucHJlY2lvIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyB3aGVyZTogeyBjbGF2ZTogcC5jbGF2ZSB9LCB0cmFuc2FjdGlvbjogdCB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGFzQWN0dWFsaXphZGFzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gYFNlIGFjdHVhbGl6YXJvbiAke3VwZGF0ZWRDb3VudH0gcHJvZHVjdG9zLmA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWVzc2FnZSArPSAnIE5vIHNlIGVuY29udHJhcm9uIHByb2R1Y3RvcyBleGlzdGVudGVzIHBhcmEgYWN0dWFsaXphci4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHByb2R1Y3Rvc05vRW5jb250cmFkb3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBtZXNzYWdlICs9IGAke3Byb2R1Y3Rvc05vRW5jb250cmFkb3MubGVuZ3RofSBwcm9kdWN0b3Mgbm8gZW5jb250cmFkb3M6XHJcbiAgJHtwcm9kdWN0b3NOb0VuY29udHJhZG9zLmpvaW4oJywgJyl9LmA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCB0LmNvbW1pdCgpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwgcHJvZHVjdG9zTm9FbmNvbnRyYWRvczpcclxuICAgICAgICAgICAgICAgIHByb2R1Y3Rvc05vRW5jb250cmFkb3NcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGF3YWl0IHQucm9sbGJhY2soKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBhY3R1YWxpemFyIHByZWNpb3MgZGUgZm9ybWEgbWFzaXZhOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3IgYWwgYWN0dWFsaXphciBwcmVjaW9zLicgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLE1BQU1DLEVBQUUsR0FBR0gsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUMvQixNQUFNSSxRQUFRLEdBQUdELEVBQUUsQ0FBQ0MsUUFBUTtBQUM1QixNQUFNO0VBQUVDO0FBQUcsQ0FBQyxHQUFHTCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ25DLE1BQU1NLEtBQUssR0FBR04sT0FBTyxDQUFDLE9BQU8sQ0FBQzs7QUFFOUI7QUFDQUMsTUFBTSxDQUFDTSxJQUFJLENBQUMsR0FBRyxFQUFFLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ2pDLElBQUk7SUFDQTtJQUNBLE1BQU1DLGFBQWEsR0FBRyxNQUFNTixRQUFRLENBQUNPLE1BQU0sQ0FBQ0gsR0FBRyxDQUFDSSxJQUFJLENBQUM7SUFDckRILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNKLGFBQWEsQ0FBQztFQUN2QyxDQUFDLENBQUMsT0FBT0ssS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLDZCQUE2QixFQUFFQSxLQUFLLENBQUM7SUFDbkROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsS0FBSyxFQUFFQSxLQUFLLENBQUNFO0lBQVEsQ0FBQyxDQUFDO0VBQ2xEO0FBQ0osQ0FBQyxDQUFDOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBaEIsTUFBTSxDQUFDaUIsR0FBRyxDQUFDLGFBQWEsRUFBRSxPQUFPVixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMxQyxJQUFJO0lBQ0EsTUFBTVUsVUFBVSxHQUFHLE1BQU1mLFFBQVEsQ0FBQ2dCLE9BQU8sQ0FBQztNQUN0Q0MsVUFBVSxFQUFFLENBQ1IsQ0FBQ2xCLEVBQUUsQ0FBQ21CLFNBQVMsQ0FBQ0MsRUFBRSxDQUFDLFVBQVUsRUFBRXBCLEVBQUUsQ0FBQ21CLFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQzVFO01BQ0RDLEtBQUssRUFBRSxDQUFDLFdBQVcsQ0FBQztNQUNwQkMsS0FBSyxFQUFFLENBQ0gsQ0FBQyxXQUFXLEVBQUUsS0FBSyxDQUFDO0lBRTVCLENBQUMsQ0FBQztJQUNGLE1BQU1DLGVBQWUsR0FBR1IsVUFBVSxDQUFDUyxHQUFHLENBQUNDLENBQUMsSUFBSUEsQ0FBQyxDQUFDQyxTQUFTLENBQUM7SUFDeERyQixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDYSxlQUFlLENBQUM7RUFDekMsQ0FBQyxDQUFDLE9BQU9aLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQyxxQ0FBcUMsRUFBRUEsS0FBSyxDQUFDO0lBQzNETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUE2QixDQUFDLENBQUM7RUFDakU7QUFDSixDQUFDLENBQUM7O0FBRUY7QUFDQWQsTUFBTSxDQUFDOEIsTUFBTSxDQUFDLFNBQVMsRUFBRSxPQUFPdkIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDekMsSUFBSTtJQUNBLE1BQU07TUFBRXVCO0lBQU0sQ0FBQyxHQUFHeEIsR0FBRyxDQUFDeUIsTUFBTTtJQUM1QixNQUFNQyxlQUFlLEdBQUcsTUFBTTlCLFFBQVEsQ0FBQytCLE9BQU8sQ0FBQztNQUMzQ0MsS0FBSyxFQUFFO1FBQUVKLEtBQUssRUFBRUE7TUFBTTtJQUMxQixDQUFDLENBQUM7SUFFRixJQUFJRSxlQUFlLEtBQUssQ0FBQyxFQUFFO01BQ3ZCLE9BQU96QixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUVDLEtBQUssRUFBRTtNQUF5QixDQUFDLENBQUM7SUFDcEU7SUFFQU4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFRyxPQUFPLEVBQUU7SUFBK0IsQ0FBQyxDQUFDO0VBQ3JFLENBQUMsQ0FBQyxPQUFPRixLQUFLLEVBQUU7SUFDWkMsT0FBTyxDQUFDRCxLQUFLLENBQUMsOEJBQThCLEVBQUVBLEtBQUssQ0FBQztJQUNwRE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxLQUFLLEVBQUU7SUFBNkIsQ0FBQyxDQUFDO0VBQ2pFO0FBQ0osQ0FBQyxDQUFDOztBQUVGO0FBQ0FkLE1BQU0sQ0FBQzhCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsT0FBT3ZCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3RDLElBQUk7SUFDQSxNQUFNTCxRQUFRLENBQUMrQixPQUFPLENBQUM7TUFDbkJDLEtBQUssRUFBRSxDQUFDLENBQUM7TUFDVEMsUUFBUSxFQUFFO0lBQ2QsQ0FBQyxDQUFDO0lBQ0Y1QixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVHLE9BQU8sRUFBRTtJQUFvRCxDQUFDLENBQUM7RUFDMUYsQ0FBQyxDQUFDLE9BQU9GLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQyx3Q0FBd0MsRUFBRUEsS0FBSyxDQUFDO0lBQzlETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUE2QixDQUFDLENBQUM7RUFDakU7QUFDSixDQUFDLENBQUM7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQWQsTUFBTSxDQUFDaUIsR0FBRyxDQUFDLEdBQUcsRUFBRSxPQUFPVixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNoQyxJQUFJO0lBQ0E7SUFDQTtJQUNBLE1BQU02QixhQUFhLEdBQUcsTUFBTWxDLFFBQVEsQ0FBQ2dCLE9BQU8sQ0FBQztNQUN6Q0MsVUFBVSxFQUFFO1FBQUVrQixPQUFPLEVBQUUsQ0FBQyxRQUFRLEVBQUUsWUFBWSxFQUFFLGVBQWUsRUFBRSxjQUFjO01BQUU7SUFDckYsQ0FBQyxDQUFDOztJQUVGO0lBQ0EsTUFBTSxDQUFDQyxlQUFlLEVBQUVDLG1CQUFtQixFQUFFQyxrQkFBa0IsQ0FBQyxHQUFHLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQ2pGdEMsS0FBSyxDQUFDWSxHQUFHLENBQUMsR0FBRzJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxrQkFBa0IsVUFBVSxDQUFDLEVBQ3REekMsS0FBSyxDQUFDWSxHQUFHLENBQUMsR0FBRzJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxrQkFBa0IsY0FBYyxDQUFDLEVBQzFEekMsS0FBSyxDQUFDWSxHQUFHLENBQUMsR0FBRzJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxrQkFBa0IsYUFBYSxDQUFDLENBQzVELENBQUM7O0lBRUY7SUFDQSxNQUFNQyxlQUFlLEdBQUdSLGVBQWUsQ0FBQ1MsSUFBSTtJQUM1QyxNQUFNQyxtQkFBbUIsR0FBR1QsbUJBQW1CLENBQUNRLElBQUk7SUFDcEQsTUFBTUUsaUJBQWlCLEdBQUdULGtCQUFrQixDQUFDTyxJQUFJOztJQUVqRDtJQUNBLE1BQU1HLFVBQVUsR0FBRyxJQUFJQyxHQUFHLENBQUMsQ0FBQztJQUM1QkwsZUFBZSxDQUFDTSxPQUFPLENBQUNDLENBQUMsSUFBSTtNQUN6QkgsVUFBVSxDQUFDSSxHQUFHLENBQUNDLE1BQU0sQ0FBQ0YsQ0FBQyxDQUFDRyxPQUFPLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUMsRUFBRUwsQ0FBQyxDQUFDTSxNQUFNLENBQUM7SUFDcEUsQ0FBQyxDQUFDOztJQUVGO0lBQ0EsTUFBTUMsY0FBYyxHQUFHLElBQUlULEdBQUcsQ0FBQyxDQUFDO0lBQ2hDSCxtQkFBbUIsQ0FBQ0ksT0FBTyxDQUFDUyxDQUFDLElBQUk7TUFDN0IsTUFBTUMsZ0JBQWdCLEdBQUdQLE1BQU0sQ0FBQ00sQ0FBQyxDQUFDTCxPQUFPLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7TUFDL0QsTUFBTUssZ0JBQWdCLEdBQUdILGNBQWMsQ0FBQzVDLEdBQUcsQ0FBQzhDLGdCQUFnQixDQUFDLElBQUksQ0FBQztNQUNsRUYsY0FBYyxDQUFDTixHQUFHLENBQUNRLGdCQUFnQixFQUFFQyxnQkFBZ0IsR0FBR0MsVUFBVSxDQUFDSCxDQUFDLENBQUNJLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNyRixDQUFDLENBQUM7O0lBRUY7SUFDQSxNQUFNQyxhQUFhLEdBQUcsSUFBSWYsR0FBRyxDQUFDLENBQUM7SUFDL0JGLGlCQUFpQixDQUFDRyxPQUFPLENBQUNlLENBQUMsSUFBSTtNQUMzQixNQUFNTCxnQkFBZ0IsR0FBR1AsTUFBTSxDQUFDWSxDQUFDLENBQUNYLE9BQU8sQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDQyxXQUFXLENBQUMsQ0FBQztNQUMvRFEsYUFBYSxDQUFDWixHQUFHLENBQUNRLGdCQUFnQixFQUFFO1FBQ2hDTSxVQUFVLEVBQUVELENBQUMsQ0FBQ0MsVUFBVTtRQUN4QkMsU0FBUyxFQUFFRixDQUFDLENBQUNFO01BQ2pCLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQzs7SUFHRjtJQUNBLE1BQU1DLGdCQUFnQixHQUFHbEMsYUFBYSxDQUFDVixHQUFHLENBQUM2QyxRQUFRLElBQUk7TUFDbkQsTUFBTUMsV0FBVyxHQUFHRCxRQUFRLENBQUN2RCxHQUFHLENBQUM7UUFBRXlELEtBQUssRUFBRTtNQUFLLENBQUMsQ0FBQztNQUNqRCxNQUFNWCxnQkFBZ0IsR0FBR1AsTUFBTSxDQUFDaUIsV0FBVyxDQUFDMUMsS0FBSyxDQUFDLENBQUMyQixJQUFJLENBQUMsQ0FBQyxDQUFDQyxXQUFXLENBQUMsQ0FBQzs7TUFFdkU7TUFDQSxNQUFNZ0IsT0FBTyxHQUFHUixhQUFhLENBQUNsRCxHQUFHLENBQUM4QyxnQkFBZ0IsQ0FBQzs7TUFFbkQ7TUFDQTtNQUNBO01BQ0EsTUFBTWEsVUFBVSxHQUFHekIsVUFBVSxDQUFDMEIsR0FBRyxDQUFDZCxnQkFBZ0IsQ0FBQyxHQUM3Q0UsVUFBVSxDQUFDZCxVQUFVLENBQUNsQyxHQUFHLENBQUM4QyxnQkFBZ0IsQ0FBQyxDQUFDLEdBQzVDLENBQUM7TUFFUCxJQUFJZSxnQkFBZ0IsR0FBRyxJQUFJO01BRTNCLElBQUlGLFVBQVUsR0FBRyxDQUFDLEVBQUU7UUFDaEI7UUFDQSxNQUFNRyxXQUFXLEdBQUdILFVBQVUsR0FBRyxJQUFJOztRQUVyQztRQUNBLElBQUlHLFdBQVcsR0FBRyxJQUFJLEVBQUU7VUFDcEI7VUFDQUQsZ0JBQWdCLEdBQUdiLFVBQVUsQ0FBQ2MsV0FBVyxDQUFDQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekQsQ0FBQyxNQUFNO1VBQ0g7VUFDQUYsZ0JBQWdCLEdBQUdHLElBQUksQ0FBQ0MsSUFBSSxDQUFDSCxXQUFXLENBQUM7UUFDN0M7TUFDSjs7TUFFQTtNQUNBTixXQUFXLENBQUNVLE1BQU0sR0FBR0wsZ0JBQWdCO01BQ3JDOztNQUVBO01BQ0FMLFdBQVcsQ0FBQ1csVUFBVSxHQUFHdkIsY0FBYyxDQUFDZ0IsR0FBRyxDQUFDZCxnQkFBZ0IsQ0FBQyxHQUN2REUsVUFBVSxDQUFDSixjQUFjLENBQUM1QyxHQUFHLENBQUM4QyxnQkFBZ0IsQ0FBQyxDQUFDLEdBQ2hELElBQUk7O01BRVY7TUFDQVUsV0FBVyxDQUFDWSxZQUFZLEdBQUdWLE9BQU8sSUFBSUEsT0FBTyxDQUFDTCxTQUFTLEdBQ2pETCxVQUFVLENBQUNVLE9BQU8sQ0FBQ0wsU0FBUyxDQUFDLEdBQzdCLElBQUk7TUFDVkcsV0FBVyxDQUFDYSxhQUFhLEdBQUdYLE9BQU8sSUFBSUEsT0FBTyxDQUFDTixVQUFVLEdBQ25ETSxPQUFPLENBQUNOLFVBQVUsR0FDbEIsSUFBSTtNQUVWLE9BQU9JLFdBQVc7SUFDdEIsQ0FBQyxDQUFDO0lBRUZqRSxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDMEQsZ0JBQWdCLENBQUM7RUFDMUMsQ0FBQyxDQUFDLE9BQU96RCxLQUFLLEVBQUU7SUFDWkMsT0FBTyxDQUFDRCxLQUFLLENBQUMsOERBQThELEVBQUVBLEtBQUssQ0FBQztJQUNwRk4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUNqQkMsS0FBSyxFQUFFLHlEQUF5RDtNQUNoRXlFLE9BQU8sRUFBRXpFLEtBQUssQ0FBQ0U7SUFDbkIsQ0FBQyxDQUFDO0VBQ047QUFDSixDQUFDLENBQUM7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQWhCLE1BQU0sQ0FBQ2lCLEdBQUcsQ0FBQyxTQUFTLEVBQUUsT0FBT1YsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDdEMsTUFBTTtJQUFFdUI7RUFBTSxDQUFDLEdBQUd4QixHQUFHLENBQUN5QixNQUFNO0VBQzVCLE1BQU0rQixnQkFBZ0IsR0FBR1AsTUFBTSxDQUFDekIsS0FBSyxDQUFDLENBQUMyQixJQUFJLENBQUMsQ0FBQyxDQUFDQyxXQUFXLENBQUMsQ0FBQztFQUMzRDVDLE9BQU8sQ0FBQ3lFLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztFQUM3QixJQUFJO0lBQ0E7SUFDQTtJQUNBLE1BQU1DLFlBQVksR0FBRyxNQUFNdEYsUUFBUSxDQUFDdUYsUUFBUSxDQUFDM0IsZ0JBQWdCLEVBQUU7TUFDM0QzQyxVQUFVLEVBQUU7UUFDUmtCLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFLGNBQWM7TUFDckU7SUFDSixDQUFDLENBQUM7SUFFRixJQUFJLENBQUNtRCxZQUFZLEVBQUU7TUFDZixPQUFPakYsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBb0QsQ0FBQyxDQUFDO0lBQy9GOztJQUVBO0lBQ0EsTUFBTTZFLDBCQUEwQixHQUFHLE1BQU10RixLQUFLLENBQUNZLEdBQUcsQ0FDOUMsR0FBRzJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxrQkFBa0IsdUJBQXVCaUIsZ0JBQWdCLEVBQzVFLENBQUM7SUFFRCxNQUFNWSxPQUFPLEdBQUdnQiwwQkFBMEIsQ0FBQzNDLElBQUksQ0FBQyxDQUFDO0lBQ2pELE1BQU00QyxhQUFhLEdBQUdILFlBQVksQ0FBQ3hFLEdBQUcsQ0FBQztNQUFFeUQsS0FBSyxFQUFFO0lBQUssQ0FBQyxDQUFDOztJQUV2RDs7SUFFQTtJQUNBa0IsYUFBYSxDQUFDVCxNQUFNLEdBQUdSLE9BQU8sQ0FBQ2YsTUFBTSxHQUMvQkssVUFBVSxDQUFDVSxPQUFPLENBQUNmLE1BQU0sQ0FBQyxHQUMxQixJQUFJOztJQUVWO0lBQ0FnQyxhQUFhLENBQUNSLFVBQVUsR0FBR1QsT0FBTyxDQUFDa0IsVUFBVSxHQUN2QzVCLFVBQVUsQ0FBQ1UsT0FBTyxDQUFDa0IsVUFBVSxDQUFDLEdBQzlCLElBQUk7O0lBRVY7SUFDQUQsYUFBYSxDQUFDUCxZQUFZLEdBQUdWLE9BQU8sQ0FBQ0wsU0FBUyxHQUN4Q0wsVUFBVSxDQUFDVSxPQUFPLENBQUNMLFNBQVMsQ0FBQyxHQUM3QixJQUFJOztJQUVWO0lBQ0FzQixhQUFhLENBQUNOLGFBQWEsR0FBR1gsT0FBTyxDQUFDTixVQUFVLElBQUksSUFBSTtJQUV4RDdELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMrRSxhQUFhLENBQUM7RUFDdkMsQ0FBQyxDQUFDLE9BQU85RSxLQUFLLEVBQUU7SUFDWjtJQUNBO0lBQ0FDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLHlEQUF5RCxFQUFFQSxLQUFLLENBQUNFLE9BQU8sQ0FBQztJQUN2RlIsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUNqQkMsS0FBSyxFQUFFLDRGQUE0RjtNQUNuR3lFLE9BQU8sRUFBRXpFLEtBQUssQ0FBQ0U7SUFDbkIsQ0FBQyxDQUFDO0VBQ047QUFDSixDQUFDLENBQUM7O0FBRUY7QUFDQWhCLE1BQU0sQ0FBQ2lCLEdBQUcsQ0FBQyxlQUFlLEVBQUUsT0FBT1YsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDNUMsSUFBSTtJQUNBLE1BQU07TUFBRXNGO0lBQU0sQ0FBQyxHQUFHdkYsR0FBRyxDQUFDeUIsTUFBTTtJQUM1QixNQUFNK0QsU0FBUyxHQUFHLE1BQU01RixRQUFRLENBQUNnQixPQUFPLENBQUM7TUFDckNnQixLQUFLLEVBQUU7UUFDSDJELEtBQUssRUFBRTtVQUNILENBQUMxRixFQUFFLENBQUM0RixJQUFJLEdBQUcsSUFBSUYsS0FBSyxHQUFHLENBQUM7UUFDNUI7TUFDSjtJQUNKLENBQUMsQ0FBQztJQUNGdEYsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ2tGLFNBQVMsQ0FBQztFQUNuQyxDQUFDLENBQUMsT0FBT2pGLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQywyQ0FBMkMsRUFBRUEsS0FBSyxDQUFDO0lBQ2pFTixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUE2QixDQUFDLENBQUM7RUFDakU7QUFDSixDQUFDLENBQUM7O0FBRUY7QUFDQWQsTUFBTSxDQUFDTSxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3JDLElBQUk7SUFDQSxNQUFNdUYsU0FBUyxHQUFHLE1BQU01RixRQUFRLENBQUM4RixVQUFVLENBQUMxRixHQUFHLENBQUNJLElBQUksQ0FBQztJQUNyREgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ2tGLFNBQVMsQ0FBQztFQUNuQyxDQUFDLENBQUMsT0FBT2pGLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQyxxQ0FBcUMsRUFBRUEsS0FBSyxDQUFDO0lBQzNETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRUEsS0FBSyxDQUFDRTtJQUFRLENBQUMsQ0FBQztFQUNsRDtBQUNKLENBQUMsQ0FBQzs7QUFFRjtBQUNBaEIsTUFBTSxDQUFDa0csS0FBSyxDQUFDLFNBQVMsRUFBRSxPQUFPM0YsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDeEMsSUFBSTtJQUNBLE1BQU07TUFBRXVCLEtBQUs7TUFBRW9EO0lBQU8sQ0FBQyxHQUFHNUUsR0FBRyxDQUFDSSxJQUFJO0lBRWxDLElBQUksQ0FBQ29CLEtBQUssSUFBSW9ELE1BQU0sS0FBS2dCLFNBQVMsRUFBRTtNQUNoQyxPQUFPM0YsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBNkMsQ0FBQyxDQUFDO0lBQ3hGO0lBRUEsTUFBTSxDQUFDc0YsaUJBQWlCLENBQUMsR0FBRyxNQUFNakcsUUFBUSxDQUFDa0csTUFBTSxDQUM3QztNQUFFbEIsTUFBTSxFQUFFQTtJQUFPLENBQUMsRUFDbEI7TUFBRWhELEtBQUssRUFBRTtRQUFFSixLQUFLLEVBQUVBO01BQU07SUFBRSxDQUM5QixDQUFDO0lBRUQsSUFBSXFFLGlCQUFpQixLQUFLLENBQUMsRUFBRTtNQUN6QixPQUFPNUYsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBeUIsQ0FBQyxDQUFDO0lBQ3BFO0lBRUEsTUFBTXdGLG1CQUFtQixHQUFHLE1BQU1uRyxRQUFRLENBQUN1RixRQUFRLENBQUMzRCxLQUFLLENBQUM7SUFDMUR2QixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDeUYsbUJBQW1CLENBQUM7RUFDN0MsQ0FBQyxDQUFDLE9BQU94RixLQUFLLEVBQUU7SUFDWkMsT0FBTyxDQUFDRCxLQUFLLENBQUMsNkNBQTZDLEVBQUVBLEtBQUssQ0FBQztJQUNuRU4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxLQUFLLEVBQUU7SUFBNkIsQ0FBQyxDQUFDO0VBQ2pFO0FBQ0osQ0FBQyxDQUFDOztBQUVGO0FBQ0FkLE1BQU0sQ0FBQ2tHLEtBQUssQ0FBQyxjQUFjLEVBQUUsT0FBTzNGLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzdDLE1BQU0rRixDQUFDLEdBQUcsTUFBTXJHLEVBQUUsQ0FBQ21CLFNBQVMsQ0FBQ21GLFdBQVcsQ0FBQyxDQUFDO0VBQzFDLElBQUk7SUFDQSxNQUFNQyxxQkFBcUIsR0FBR2xHLEdBQUcsQ0FBQ0ksSUFBSTtJQUN0QyxJQUFJLENBQUMrRixLQUFLLENBQUNDLE9BQU8sQ0FBQ0YscUJBQXFCLENBQUMsSUFBSUEscUJBQXFCLENBQUNHLE1BQU0sS0FBSyxDQUFDLEVBQUU7TUFDN0UsT0FBT3BHLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUMsS0FBSyxFQUFFO01BQXVFLENBQUMsQ0FBQztJQUNsSDtJQUVBLE1BQU0rRiwyQkFBMkIsR0FBR0oscUJBQXFCLENBQUM5RSxHQUFHLENBQUMyQixDQUFDLElBQzNERSxNQUFNLENBQUNGLENBQUMsQ0FBQ3ZCLEtBQUssQ0FBQyxDQUFDMkIsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUMsQ0FBQztJQUN6QzVDLE9BQU8sQ0FBQ3lFLEdBQUcsQ0FBQyxnQ0FBZ0MsRUFBRXFCLDJCQUEyQixDQUFDLENBQUMsQ0FBQzs7SUFFNUUsTUFBTUMsbUJBQW1CLEdBQUcsTUFBTTNHLFFBQVEsQ0FBQ2dCLE9BQU8sQ0FBQztNQUMvQ0MsVUFBVSxFQUFFLENBQUMsT0FBTyxDQUFDO01BQ3JCZSxLQUFLLEVBQUU7UUFDSEosS0FBSyxFQUFFO1VBQ0gsQ0FBQzdCLEVBQUUsQ0FBQzZHLFNBQVMsQ0FBQzNHLEVBQUUsQ0FBQzRHLEVBQUUsR0FBR0g7UUFDMUI7TUFDSixDQUFDO01BQ0RMLFdBQVcsRUFBRUQ7SUFDakIsQ0FBQyxDQUFDO0lBRUYsTUFBTVUsNEJBQTRCLEdBQUcsSUFBSUMsR0FBRyxDQUFDSixtQkFBbUIsQ0FBQ25GLEdBQUcsQ0FBQzJCLENBQUMsSUFDbEVFLE1BQU0sQ0FBQ0YsQ0FBQyxDQUFDdkIsS0FBSyxDQUFDLENBQUMyQixJQUFJLENBQUMsQ0FBQyxDQUFDQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDMUM1QyxPQUFPLENBQUN5RSxHQUFHLENBQUMseUNBQXlDLEVBQ2pEa0IsS0FBSyxDQUFDUyxJQUFJLENBQUNGLDRCQUE0QixDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUUvQyxNQUFNRyx1QkFBdUIsR0FBRyxFQUFFO0lBQ2xDLE1BQU1DLHNCQUFzQixHQUFHLEVBQUU7SUFFakNaLHFCQUFxQixDQUFDcEQsT0FBTyxDQUFDQyxDQUFDLElBQUk7TUFDL0IsTUFBTVMsZ0JBQWdCLEdBQUdQLE1BQU0sQ0FBQ0YsQ0FBQyxDQUFDdkIsS0FBSyxDQUFDLENBQUMyQixJQUFJLENBQUMsQ0FBQyxDQUFDQyxXQUFXLENBQUMsQ0FBQztNQUM3RCxJQUFJc0QsNEJBQTRCLENBQUNwQyxHQUFHLENBQUNkLGdCQUFnQixDQUFDLEVBQUU7UUFDcERxRCx1QkFBdUIsQ0FBQ0UsSUFBSSxDQUFDO1VBQ3pCdkYsS0FBSyxFQUFFZ0MsZ0JBQWdCO1VBQUVvQixNQUFNLEVBQUU3QixDQUFDLENBQUM2QjtRQUN2QyxDQUFDLENBQUM7TUFDTixDQUFDLE1BQU07UUFDSGtDLHNCQUFzQixDQUFDQyxJQUFJLENBQUNoRSxDQUFDLENBQUN2QixLQUFLLENBQUM7TUFDeEM7SUFDSixDQUFDLENBQUM7SUFFRmhCLE9BQU8sQ0FBQ3lFLEdBQUcsQ0FBQyxrREFBa0QsRUFDMUQ0Qix1QkFBdUIsQ0FBQ3pGLEdBQUcsQ0FBQzJCLENBQUMsSUFBSUEsQ0FBQyxDQUFDdkIsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hEaEIsT0FBTyxDQUFDeUUsR0FBRyxDQUFDLDJCQUEyQixFQUFFNkIsc0JBQXNCLENBQUMsQ0FBQyxDQUFDOztJQUVsRSxJQUFJckcsT0FBTyxHQUFHLGlEQUFpRDtJQUMvRCxJQUFJdUcsWUFBWSxHQUFHLENBQUM7SUFFcEIsSUFBSUgsdUJBQXVCLENBQUNSLE1BQU0sR0FBRyxDQUFDLEVBQUU7TUFDcEM7TUFDQSxLQUFLLE1BQU10RCxDQUFDLElBQUk4RCx1QkFBdUIsRUFBRTtRQUNyQyxNQUFNLENBQUNoQixpQkFBaUIsQ0FBQyxHQUFHLE1BQU1qRyxRQUFRLENBQUNrRyxNQUFNLENBQzdDO1VBQUVsQixNQUFNLEVBQUU3QixDQUFDLENBQUM2QjtRQUFPLENBQUMsRUFDcEI7VUFBRWhELEtBQUssRUFBRTtZQUFFSixLQUFLLEVBQUV1QixDQUFDLENBQUN2QjtVQUFNLENBQUM7VUFBRXlFLFdBQVcsRUFBRUQ7UUFBRSxDQUNoRCxDQUFDO1FBQ0QsSUFBSUgsaUJBQWlCLEdBQUcsQ0FBQyxFQUFFO1VBQ3ZCbUIsWUFBWSxFQUFFO1FBQ2xCO01BQ0o7TUFDQXZHLE9BQU8sSUFBSSxtQkFBbUJ1RyxZQUFZLGFBQWE7SUFDM0QsQ0FBQyxNQUFNO01BQ0h2RyxPQUFPLElBQUksMERBQTBEO0lBQ3pFO0lBRUEsSUFBSXFHLHNCQUFzQixDQUFDVCxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQ25DNUYsT0FBTyxJQUFJLEdBQUdxRyxzQkFBc0IsQ0FBQ1QsTUFBTTtBQUN2RCxJQUFJUyxzQkFBc0IsQ0FBQ0csSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHO0lBQ2hDO0lBRUEsTUFBTWpCLENBQUMsQ0FBQ2tCLE1BQU0sQ0FBQyxDQUFDO0lBQ2hCakgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUNqQkcsT0FBTyxFQUFFQSxPQUFPO01BQUVxRyxzQkFBc0IsRUFDcENBO0lBQ1IsQ0FBQyxDQUFDO0VBRU4sQ0FBQyxDQUFDLE9BQU92RyxLQUFLLEVBQUU7SUFDWixNQUFNeUYsQ0FBQyxDQUFDbUIsUUFBUSxDQUFDLENBQUM7SUFDbEIzRyxPQUFPLENBQUNELEtBQUssQ0FBQyw4Q0FBOEMsRUFBRUEsS0FBSyxDQUFDO0lBQ3BFTixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUFvRCxDQUFDLENBQUM7RUFDeEY7QUFDSixDQUFDLENBQUM7QUFFRjZHLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHNUgsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","router","Router","db","Producto","Op","axios","post","req","res","nuevoProducto","create","body","status","json","error","console","message","get","categorias","findAll","attributes","sequelize","fn","col","group","order","listaCategorias","map","c","categoria","delete","clave","params","productoBorrado","destroy","where","truncate","productosBase","exclude","preciosResponse","existenciasResponse","inventarioResponse","Promise","all","process","env","INVENTARIO_API_URL","preciosExternos","data","existenciasExternas","inventarioExterno","preciosMap","Map","forEach","p","set","String","CVE_ART","trim","toUpperCase","PRECIO","existenciasMap","e","claveNormalizada","existenciaActual","parseFloat","EXIST","inventarioMap","i","FCH_ULTCOM","ULT_COSTO","productosFinales","producto","productoObj","plain","invData","precioNeto","has","precioFinalVenta","precioBruto","toFixed","Math","ceil","precio","existencia","ultimo_costo","ultima_compra","detalle","log","productoBase","findByPk","inventarioCompletoResponse","productoFinal","EXISTENCIA","linea","productos","like","bulkCreate","patch","undefined","filasActualizadas","update","productoActualizado","t","transaction","productosActualizados","Array","isArray","length","clavesRecibidasNormalizadas","productosExistentes","Sequelize","in","clavesExistentesNormalizadas","Set","from","productosParaActualizar","productosNoEncontrados","push","updatedCount","join","commit","rollback","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["productos.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\nconst Producto = db.Producto;\r\nconst { Op } = require('sequelize');\r\nconst axios = require('axios');\r\n\r\n// Endpoint para crear un nuevo producto\r\nrouter.post('/', async (req, res) => {\r\n    try {\r\n        // Usa `req.body` para acceder a los datos enviados en la solicitud\r\n        const nuevoProducto = await Producto.create(req.body);\r\n        res.status(201).json(nuevoProducto);\r\n    } catch (error) {\r\n        console.error('Error al crear el producto:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para actualizar las existencias de uno o varios productos de forma masiva\r\n/* router.patch('/existencias', async (req, res) => {\r\n    const t = await db.sequelize.transaction();\r\n    try {\r\n        const productosActualizados = req.body;\r\n        if (!Array.isArray(productosActualizados) || productosActualizados.length === 0) {\r\n            return res.status(400).json({ error: 'El cuerpo de la solicitud debe ser un arreglo no vacío de productos.' });\r\n        }\r\n\r\n        const clavesRecibidas = productosActualizados.map(p => p.clave);\r\n        const productosExistentes = await Producto.findAll({\r\n            attributes: ['clave'],\r\n            where: {\r\n                clave: {\r\n                    [db.Sequelize.Op.in]: clavesRecibidas\r\n                }\r\n            },\r\n            transaction: t\r\n        });\r\n\r\n        const clavesExistentes = new Set(productosExistentes.map(p => p.clave));\r\n        const productosParaActualizar = [];\r\n        const productosNoEncontrados = [];\r\n\r\n        productosActualizados.forEach(p => {\r\n            if (clavesExistentes.has(p.clave)) {\r\n                productosParaActualizar.push(p);\r\n            } else {\r\n                productosNoEncontrados.push(p.clave);\r\n            }\r\n        });\r\n\r\n        let updatedCount = 0;\r\n        if (productosParaActualizar.length > 0) {\r\n            for (const p of productosParaActualizar) {\r\n                const [filasActualizadas] = await Producto.update(\r\n                    { existencia: p.existencia },\r\n                    { where: { clave: p.clave }, transaction: t }\r\n                );\r\n                if (filasActualizadas > 0) {\r\n                    updatedCount++;\r\n                }\r\n            }\r\n        }\r\n\r\n        await t.commit();\r\n        let message = `Proceso de actualización de existencias completado. Se actualizaron ${updatedCount} productos.`;\r\n\r\n        if (productosNoEncontrados.length > 0) {\r\n            message += ` ${productosNoEncontrados.length} productos no encontrados: ${productosNoEncontrados.join(', ')}.`;\r\n        }\r\n\r\n        res.status(200).json({\r\n            message: message,\r\n            productosNoEncontrados: productosNoEncontrados\r\n        });\r\n\r\n    } catch (error) {\r\n        await t.rollback();\r\n        console.error('Error al actualizar existencias de forma masiva:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor al actualizar existencias.' });\r\n    }\r\n}); */\r\n\r\n// Endpoint para obtener todas las categorías únicas de productos\r\nrouter.get('/categorias', async (req, res) => {\r\n    try {\r\n        const categorias = await Producto.findAll({\r\n            attributes: [\r\n                [db.sequelize.fn('DISTINCT', db.sequelize.col('categoria')), 'categoria']\r\n            ],\r\n            group: ['categoria'],\r\n            order: [\r\n                ['categoria', 'ASC']\r\n            ]\r\n        });\r\n        const listaCategorias = categorias.map(c => c.categoria);\r\n        res.status(200).json(listaCategorias);\r\n    } catch (error) {\r\n        console.error('Error al obtener categorías únicas:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para borrar un producto por su clave\r\nrouter.delete('/:clave', async (req, res) => {\r\n    try {\r\n        const { clave } = req.params;\r\n        const productoBorrado = await Producto.destroy({\r\n            where: { clave: clave }\r\n        });\r\n\r\n        if (productoBorrado === 0) {\r\n            return res.status(404).json({ error: 'Producto no encontrado' });\r\n        }\r\n\r\n        res.status(200).json({ message: 'Producto eliminado con éxito' });\r\n    } catch (error) {\r\n        console.error('Error al borrar el producto:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para borrar todos los productos\r\nrouter.delete('/all', async (req, res) => {\r\n    try {\r\n        await Producto.destroy({\r\n            where: {},\r\n            truncate: true\r\n        });\r\n        res.status(200).json({ message: 'Todos los productos han sido eliminados con éxito' });\r\n    } catch (error) {\r\n        console.error('Error al eliminar todos los productos:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener todos los productos\r\n/* router.get('/', async (req, res) => {\r\n    try {\r\n        const productos = await Producto.findAll();\r\n        res.status(200).json(productos);\r\n    } catch (error) {\r\n        console.error('Error al obtener todos los productos:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n}); */\r\n\r\n// /routes/productos.js\r\n\r\n// Endpoint para obtener todos los productos (ORQUESTADOR - VERSIÓN ORIGINAL CON IVA Y REDONDEO)\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n        // 1. Obtener la lista base de productos de la BD local ('y')\r\n        // *EXCLUIMOS*: 'precio', 'existencia', 'ultima_compra', y 'ultimo_costo'\r\n        const productosBase = await Producto.findAll({\r\n            attributes: { exclude: ['precio', 'existencia', 'ultima_compra', 'ultimo_costo'] }\r\n        });\r\n\r\n        // 2. Realizar las TRES llamadas concurrentes al servidor 'z'\r\n        const [preciosResponse, existenciasResponse, inventarioResponse] = await Promise.all([\r\n            axios.get(`${process.env.INVENTARIO_API_URL}/precios`),\r\n            axios.get(`${process.env.INVENTARIO_API_URL}/existencias`),\r\n            axios.get(`${process.env.INVENTARIO_API_URL}/inventario`) \r\n        ]);\r\n\r\n        // 3. Crear Mapas para una búsqueda eficiente O(1)\r\n        const preciosExternos = preciosResponse.data;\r\n        const existenciasExternas = existenciasResponse.data;\r\n        const inventarioExterno = inventarioResponse.data; \r\n\r\n        // Mapa 1: Precios (CVE_ART -> PRECIO)\r\n        const preciosMap = new Map();\r\n        preciosExternos.forEach(p => {\r\n            preciosMap.set(String(p.CVE_ART).trim().toUpperCase(), p.PRECIO);\r\n        });\r\n\r\n        // Mapa 2: Existencias (CVE_ART -> EXISTENCIA SUMADA)\r\n        const existenciasMap = new Map();\r\n        existenciasExternas.forEach(e => {\r\n            const claveNormalizada = String(e.CVE_ART).trim().toUpperCase();\r\n            const existenciaActual = existenciasMap.get(claveNormalizada) || 0;\r\n            existenciasMap.set(claveNormalizada, existenciaActual + parseFloat(e.EXIST || 0));\r\n        });\r\n        \r\n        // Mapa 3: Inventario Base (CVE_ART -> {FCH_ULTCOM, ULT_COSTO})\r\n        const inventarioMap = new Map();\r\n        inventarioExterno.forEach(i => {\r\n            const claveNormalizada = String(i.CVE_ART).trim().toUpperCase();\r\n            inventarioMap.set(claveNormalizada, {\r\n                FCH_ULTCOM: i.FCH_ULTCOM,\r\n                ULT_COSTO: i.ULT_COSTO\r\n            });\r\n        });\r\n\r\n\r\n        // 4. Fusionar los datos, aplicar IVA y construir la respuesta final\r\n        const productosFinales = productosBase.map(producto => {\r\n            const productoObj = producto.get({ plain: true });\r\n            const claveNormalizada = String(productoObj.clave).trim().toUpperCase();\r\n            \r\n            // Datos Externos\r\n            const invData = inventarioMap.get(claveNormalizada);\r\n            \r\n            // ----------------------------------------------------\r\n            // 🚨 CAMBIO CLAVE: CÁLCULO DE IVA Y REDONDEO APLICADO\r\n            // ----------------------------------------------------\r\n            const precioNeto = preciosMap.has(claveNormalizada)\r\n                ? parseFloat(preciosMap.get(claveNormalizada))\r\n                : 0;\r\n\r\n            let precioFinalVenta = null;\r\n\r\n            if (precioNeto > 0) {\r\n                // 1. Aplicar 16% de IVA (Precio Bruto)\r\n                const precioBruto = precioNeto * 1.16;\r\n\r\n                // 2. Aplicar reglas de redondeo\r\n                if (precioBruto < 5.00) {\r\n                    // Si es menor a $5.00, se mantiene a dos decimales\r\n                    precioFinalVenta = parseFloat(precioBruto.toFixed(2));\r\n                } else {\r\n                    // Si es igual o mayor a $5.00, se redondea al entero superior\r\n                    precioFinalVenta = Math.ceil(precioBruto);\r\n                }\r\n            }\r\n            \r\n            // Asignar el precio final de venta\r\n            productoObj.precio = precioFinalVenta; \r\n            // ----------------------------------------------------\r\n            \r\n            // Integración de Existencia (original)\r\n            productoObj.existencia = existenciasMap.has(claveNormalizada)\r\n                ? parseFloat(existenciasMap.get(claveNormalizada))\r\n                : 0.00;\r\n\r\n            // Integración de los nuevos campos de Inventario Base (original)\r\n            productoObj.ultimo_costo = invData && invData.ULT_COSTO\r\n                ? parseFloat(invData.ULT_COSTO)\r\n                : null;\r\n            productoObj.ultima_compra = invData && invData.FCH_ULTCOM\r\n                ? invData.FCH_ULTCOM\r\n                : null; \r\n\r\n            return productoObj;\r\n        });\r\n\r\n        res.status(200).json(productosFinales);\r\n    } catch (error) {\r\n        console.error('Error al obtener productos y combinarlos con datos externos:', error);\r\n        res.status(500).json({ \r\n            error: 'Error interno del servidor al obtener o combinar datos.',\r\n            detalle: error.message\r\n        });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener un producto por su clave\r\n/* router.get('/:clave', async (req, res) => {\r\n    try {\r\n        const { clave } = req.params;\r\n        const producto = await Producto.findByPk(clave);\r\n\r\n        if (!producto) {\r\n            return res.status(404).json({ error: 'Producto no encontrado' });\r\n        }\r\n\r\n        res.status(200).json(producto);\r\n    } catch (error) {\r\n        console.error('Error al obtener el producto por clave:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n}); */\r\n\r\n// productos.js (Servidor 'X' - Endpoint /:clave - NUEVA MODIFICACIÓN)\r\n\r\n// ... (definición de INVENTARIO_API_URL y axios) ...\r\n\r\n// Endpoint para obtener un producto por su clave (AHORA CON UNA SOLA LLAMADA EXTERNA)\r\nrouter.get('/:clave', async (req, res) => {\r\n    const { clave } = req.params;\r\n    const claveNormalizada = String(clave).trim().toUpperCase();\r\n    console.log(\"Dentro /:clave\");\r\n    try {\r\n        // 1. Obtener el producto base de la BD local ('y')\r\n        // *EXCLUIMOS*: los 4 campos que serán actualizados por la API externa.\r\n        const productoBase = await Producto.findByPk(claveNormalizada, {\r\n            attributes: { \r\n                exclude: ['precio', 'existencia', 'ultima_compra', 'ultimo_costo'] \r\n            }\r\n        });\r\n\r\n        if (!productoBase) {\r\n            return res.status(404).json({ error: 'Producto no encontrado en la base de datos local.' });\r\n        }\r\n        \r\n        // 2. Realizar UNA SOLA llamada al endpoint consolidado del servidor 'z'\r\n        const inventarioCompletoResponse = await axios.get(\r\n            `${process.env.INVENTARIO_API_URL}/inventariocompleto/${claveNormalizada}`\r\n        );\r\n\r\n        const invData = inventarioCompletoResponse.data; // Ya es el objeto directo\r\n        const productoFinal = productoBase.get({ plain: true });\r\n\r\n        // 3. Fusionar los datos actualizados\r\n        \r\n        // PRECIO\r\n        productoFinal.precio = invData.PRECIO \r\n            ? parseFloat(invData.PRECIO) \r\n            : null;\r\n\r\n        // EXISTENCIA\r\n        productoFinal.existencia = invData.EXISTENCIA \r\n            ? parseFloat(invData.EXISTENCIA) \r\n            : 0.00;\r\n\r\n        // ÚLTIMO COSTO\r\n        productoFinal.ultimo_costo = invData.ULT_COSTO \r\n            ? parseFloat(invData.ULT_COSTO) \r\n            : null;\r\n\r\n        // ÚLTIMA COMPRA\r\n        productoFinal.ultima_compra = invData.FCH_ULTCOM || null;\r\n\r\n        res.status(200).json(productoFinal);\r\n    } catch (error) {\r\n        // Manejo de errores: Si la llamada externa falla, podemos devolver el producto base\r\n        // sin la información actualizada, o devolver el error 500. Elegimos 500 para ser estrictos.\r\n        console.error('Error al obtener el producto y combinar datos externos:', error.message);\r\n        res.status(500).json({ \r\n            error: 'Error al procesar la solicitud o al conectar con el servicio de inventario en tiempo real.',\r\n            detalle: error.message\r\n        });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener productos por línea\r\nrouter.get('/linea/:linea', async (req, res) => {\r\n    try {\r\n        const { linea } = req.params;\r\n        const productos = await Producto.findAll({\r\n            where: {\r\n                linea: {\r\n                    [Op.like]: `%${linea}%` // Usamos Op.like para una búsqueda flexible\r\n                }\r\n            }\r\n        });\r\n        res.status(200).json(productos);\r\n    } catch (error) {\r\n        console.error('Error al obtener los productos por línea:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para crear multiples productos de forma masiva\r\nrouter.post('/bulk', async (req, res) => {\r\n    try {\r\n        const productos = await Producto.bulkCreate(req.body);\r\n        res.status(201).json(productos);\r\n    } catch (error) {\r\n        console.error('Error al crear multiples productos:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para actualizar el precio de un producto por su clave\r\nrouter.patch('/precio', async (req, res) => {\r\n    try {\r\n        const { clave, precio } = req.body;\r\n\r\n        if (!clave || precio === undefined) {\r\n            return res.status(400).json({ error: 'Faltan campos obligatorios: clave y precio' });\r\n        }\r\n\r\n        const [filasActualizadas] = await Producto.update(\r\n            { precio: precio },\r\n            { where: { clave: clave } }\r\n        );\r\n\r\n        if (filasActualizadas === 0) {\r\n            return res.status(404).json({ error: 'Producto no encontrado' });\r\n        }\r\n\r\n        const productoActualizado = await Producto.findByPk(clave);\r\n        res.status(200).json(productoActualizado);\r\n    } catch (error) {\r\n        console.error('Error al actualizar el precio del producto:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para actualizar el precio de multiples productos de forma masiva\r\nrouter.patch('/bulk-precio', async (req, res) => {\r\n    const t = await db.sequelize.transaction();\r\n    try {\r\n        const productosActualizados = req.body;\r\n        if (!Array.isArray(productosActualizados) || productosActualizados.length === 0) {\r\n            return res.status(400).json({ error: 'El cuerpo de la solicitud debe ser un arreglo no vacío de productos.' });\r\n        }\r\n\r\n        const clavesRecibidasNormalizadas = productosActualizados.map(p =>\r\n            String(p.clave).trim().toUpperCase());\r\n        console.log('Claves recibidas normalizadas:', clavesRecibidasNormalizadas); // DEBUG\r\n\r\n        const productosExistentes = await Producto.findAll({\r\n            attributes: ['clave'],\r\n            where: {\r\n                clave: {\r\n                    [db.Sequelize.Op.in]: clavesRecibidasNormalizadas\r\n                }\r\n            },\r\n            transaction: t\r\n        });\r\n\r\n        const clavesExistentesNormalizadas = new Set(productosExistentes.map(p =>\r\n            String(p.clave).trim().toUpperCase()));\r\n        console.log('Claves existentes en DB (normalizadas):',\r\n            Array.from(clavesExistentesNormalizadas)); // DEBUG\r\n\r\n        const productosParaActualizar = [];\r\n        const productosNoEncontrados = [];\r\n\r\n        productosActualizados.forEach(p => {\r\n            const claveNormalizada = String(p.clave).trim().toUpperCase();\r\n            if (clavesExistentesNormalizadas.has(claveNormalizada)) {\r\n                productosParaActualizar.push({\r\n                    clave: claveNormalizada, precio: p.precio\r\n                });\r\n            } else {\r\n                productosNoEncontrados.push(p.clave);\r\n            }\r\n        });\r\n\r\n        console.log('Productos para actualizar (claves normalizadas):',\r\n            productosParaActualizar.map(p => p.clave)); // DEBUG\r\n        console.log('Productos no encontrados:', productosNoEncontrados); // DEBUG\r\n\r\n        let message = 'Proceso de actualización de precios completado.';\r\n        let updatedCount = 0;\r\n\r\n        if (productosParaActualizar.length > 0) {\r\n            // Realizar la actualización individual para cada producto existente\r\n            for (const p of productosParaActualizar) {\r\n                const [filasActualizadas] = await Producto.update(\r\n                    { precio: p.precio },\r\n                    { where: { clave: p.clave }, transaction: t }\r\n                );\r\n                if (filasActualizadas > 0) {\r\n                    updatedCount++;\r\n                }\r\n            }\r\n            message += `Se actualizaron ${updatedCount} productos.`;\r\n        } else {\r\n            message += ' No se encontraron productos existentes para actualizar.';\r\n        }\r\n\r\n        if (productosNoEncontrados.length > 0) {\r\n            message += `${productosNoEncontrados.length} productos no encontrados:\r\n  ${productosNoEncontrados.join(', ')}.`;\r\n        }\r\n\r\n        await t.commit();\r\n        res.status(200).json({\r\n            message: message, productosNoEncontrados:\r\n                productosNoEncontrados\r\n        });\r\n\r\n    } catch (error) {\r\n        await t.rollback();\r\n        console.error('Error al actualizar precios de forma masiva:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor al actualizar precios.' });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}},"mtime":1761463095605},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\categorias.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst db = require('../models');\nconst Categoria = db.Categoria;\n\n// Endpoint para crear una nueva categoría\nrouter.post('/', async (req, res) => {\n  try {\n    const nuevaCategoria = await Categoria.create(req.body);\n    res.status(201).json(nuevaCategoria);\n  } catch (error) {\n    console.error('Error al crear la categoría:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para obtener todas las categorías\nrouter.get('/', async (req, res) => {\n  try {\n    const categorias = await Categoria.findAll();\n    res.status(200).json(categorias);\n  } catch (error) {\n    console.error('Error al obtener todas las categorías:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener una categoría por su nombre\nrouter.get('/:nombre', async (req, res) => {\n  try {\n    const {\n      nombre\n    } = req.params;\n    const categoria = await Categoria.findByPk(nombre);\n    if (!categoria) {\n      return res.status(404).json({\n        error: 'Categoría no encontrada'\n      });\n    }\n    res.status(200).json(categoria);\n  } catch (error) {\n    console.error('Error al obtener la categoría:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener categorías por categoría padre\nrouter.get('/padre/:nombre_padre', async (req, res) => {\n  try {\n    const {\n      nombre_padre\n    } = req.params;\n    const categorias = await Categoria.findAll({\n      where: {\n        categoria_padre: nombre_padre\n      }\n    });\n    res.status(200).json(categorias);\n  } catch (error) {\n    console.error('Error al obtener las categorías por padre:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para actualizar una categoría por su nombre\nrouter.put('/:nombre', async (req, res) => {\n  try {\n    const {\n      nombre\n    } = req.params;\n    const [filasActualizadas, categoriaActualizada] = await Categoria.update(req.body, {\n      where: {\n        nombre: nombre\n      },\n      returning: true\n    });\n    if (filasActualizadas === 0) {\n      return res.status(404).json({\n        error: 'Categoría no encontrada'\n      });\n    }\n    res.status(200).json(categoriaActualizada[0]);\n  } catch (error) {\n    console.error('Error al actualizar la categoría:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para eliminar una categoría por su nombre\nrouter.delete('/:nombre', async (req, res) => {\n  try {\n    const {\n      nombre\n    } = req.params;\n    const categoriaEliminada = await Categoria.destroy({\n      where: {\n        nombre: nombre\n      }\n    });\n    if (categoriaEliminada === 0) {\n      return res.status(404).json({\n        error: 'Categoría no encontrada'\n      });\n    }\n    res.status(200).json({\n      message: 'Categoría eliminada con éxito'\n    });\n  } catch (error) {\n    console.error('Error al eliminar la categoría:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiQ2F0ZWdvcmlhIiwicG9zdCIsInJlcSIsInJlcyIsIm51ZXZhQ2F0ZWdvcmlhIiwiY3JlYXRlIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiZ2V0IiwiY2F0ZWdvcmlhcyIsImZpbmRBbGwiLCJub21icmUiLCJwYXJhbXMiLCJjYXRlZ29yaWEiLCJmaW5kQnlQayIsIm5vbWJyZV9wYWRyZSIsIndoZXJlIiwiY2F0ZWdvcmlhX3BhZHJlIiwicHV0IiwiZmlsYXNBY3R1YWxpemFkYXMiLCJjYXRlZ29yaWFBY3R1YWxpemFkYSIsInVwZGF0ZSIsInJldHVybmluZyIsImRlbGV0ZSIsImNhdGVnb3JpYUVsaW1pbmFkYSIsImRlc3Ryb3kiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG9yb2RyXFx3b3Jrc3BhY2VcXEFQSXNcXGFwaS1lY29tbWVyY2VcXHJvdXRlc1xcIiwic291cmNlcyI6WyJjYXRlZ29yaWFzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IGRiID0gcmVxdWlyZSgnLi4vbW9kZWxzJyk7XHJcbmNvbnN0IENhdGVnb3JpYSA9IGRiLkNhdGVnb3JpYTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgY3JlYXIgdW5hIG51ZXZhIGNhdGVnb3LDrWFcclxucm91dGVyLnBvc3QoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgbnVldmFDYXRlZ29yaWEgPSBhd2FpdCBDYXRlZ29yaWEuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbihudWV2YUNhdGVnb3JpYSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGNyZWFyIGxhIGNhdGVnb3LDrWE6JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIHRvZGFzIGxhcyBjYXRlZ29yw61hc1xyXG5yb3V0ZXIuZ2V0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNhdGVnb3JpYXMgPSBhd2FpdCBDYXRlZ29yaWEuZmluZEFsbCgpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGNhdGVnb3JpYXMpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIHRvZGFzIGxhcyBjYXRlZ29yw61hczonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIG9idGVuZXIgdW5hIGNhdGVnb3LDrWEgcG9yIHN1IG5vbWJyZVxyXG5yb3V0ZXIuZ2V0KCcvOm5vbWJyZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IG5vbWJyZSB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgICBjb25zdCBjYXRlZ29yaWEgPSBhd2FpdCBDYXRlZ29yaWEuZmluZEJ5UGsobm9tYnJlKTtcclxuXHJcbiAgICAgICAgaWYgKCFjYXRlZ29yaWEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdDYXRlZ29yw61hIG5vIGVuY29udHJhZGEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWEpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIGxhIGNhdGVnb3LDrWE6JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIGNhdGVnb3LDrWFzIHBvciBjYXRlZ29yw61hIHBhZHJlXHJcbnJvdXRlci5nZXQoJy9wYWRyZS86bm9tYnJlX3BhZHJlJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgbm9tYnJlX3BhZHJlIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IGNhdGVnb3JpYXMgPSBhd2FpdCBDYXRlZ29yaWEuZmluZEFsbCh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWFfcGFkcmU6IG5vbWJyZV9wYWRyZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oY2F0ZWdvcmlhcyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIG9idGVuZXIgbGFzIGNhdGVnb3LDrWFzIHBvciBwYWRyZTonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGFjdHVhbGl6YXIgdW5hIGNhdGVnb3LDrWEgcG9yIHN1IG5vbWJyZVxyXG5yb3V0ZXIucHV0KCcvOm5vbWJyZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IG5vbWJyZSB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgICBjb25zdCBbZmlsYXNBY3R1YWxpemFkYXMsIGNhdGVnb3JpYUFjdHVhbGl6YWRhXSA9IGF3YWl0IENhdGVnb3JpYS51cGRhdGUocmVxLmJvZHksIHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgbm9tYnJlOiBub21icmUgfSxcclxuICAgICAgICAgICAgcmV0dXJuaW5nOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoZmlsYXNBY3R1YWxpemFkYXMgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdDYXRlZ29yw61hIG5vIGVuY29udHJhZGEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWFBY3R1YWxpemFkYVswXSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGFjdHVhbGl6YXIgbGEgY2F0ZWdvcsOtYTonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGVsaW1pbmFyIHVuYSBjYXRlZ29yw61hIHBvciBzdSBub21icmVcclxucm91dGVyLmRlbGV0ZSgnLzpub21icmUnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBub21icmUgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgY2F0ZWdvcmlhRWxpbWluYWRhID0gYXdhaXQgQ2F0ZWdvcmlhLmRlc3Ryb3koe1xyXG4gICAgICAgICAgICB3aGVyZTogeyBub21icmU6IG5vbWJyZSB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChjYXRlZ29yaWFFbGltaW5hZGEgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdDYXRlZ29yw61hIG5vIGVuY29udHJhZGEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdDYXRlZ29yw61hIGVsaW1pbmFkYSBjb24gw6l4aXRvJyB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgZWxpbWluYXIgbGEgY2F0ZWdvcsOtYTonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxDQUFDLENBQUM7QUFDL0IsTUFBTUMsRUFBRSxHQUFHSCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQy9CLE1BQU1JLFNBQVMsR0FBR0QsRUFBRSxDQUFDQyxTQUFTOztBQUU5QjtBQUNBSCxNQUFNLENBQUNJLElBQUksQ0FBQyxHQUFHLEVBQUUsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDakMsSUFBSTtJQUNBLE1BQU1DLGNBQWMsR0FBRyxNQUFNSixTQUFTLENBQUNLLE1BQU0sQ0FBQ0gsR0FBRyxDQUFDSSxJQUFJLENBQUM7SUFDdkRILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNKLGNBQWMsQ0FBQztFQUN4QyxD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","map":{"version":3,"names":["express","require","router","Router","db","Categoria","post","req","res","nuevaCategoria","create","body","status","json","error","console","message","get","categorias","findAll","nombre","params","categoria","findByPk","nombre_padre","where","categoria_padre","put","filasActualizadas","categoriaActualizada","update","returning","delete","categoriaEliminada","destroy","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["categorias.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\nconst Categoria = db.Categoria;\r\n\r\n// Endpoint para crear una nueva categoría\r\nrouter.post('/', async (req, res) => {\r\n    try {\r\n        const nuevaCategoria = await Categoria.create(req.body);\r\n        res.status(201).json(nuevaCategoria);\r\n    } catch (error) {\r\n        console.error('Error al crear la categoría:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener todas las categorías\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n        const categorias = await Categoria.findAll();\r\n        res.status(200).json(categorias);\r\n    } catch (error) {\r\n        console.error('Error al obtener todas las categorías:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener una categoría por su nombre\r\nrouter.get('/:nombre', async (req, res) => {\r\n    try {\r\n        const { nombre } = req.params;\r\n        const categoria = await Categoria.findByPk(nombre);\r\n\r\n        if (!categoria) {\r\n            return res.status(404).json({ error: 'Categoría no encontrada' });\r\n        }\r\n        res.status(200).json(categoria);\r\n    } catch (error) {\r\n        console.error('Error al obtener la categoría:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener categorías por categoría padre\r\nrouter.get('/padre/:nombre_padre', async (req, res) => {\r\n    try {\r\n        const { nombre_padre } = req.params;\r\n        const categorias = await Categoria.findAll({\r\n            where: {\r\n                categoria_padre: nombre_padre\r\n            }\r\n        });\r\n        res.status(200).json(categorias);\r\n    } catch (error) {\r\n        console.error('Error al obtener las categorías por padre:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para actualizar una categoría por su nombre\r\nrouter.put('/:nombre', async (req, res) => {\r\n    try {\r\n        const { nombre } = req.params;\r\n        const [filasActualizadas, categoriaActualizada] = await Categoria.update(req.body, {\r\n            where: { nombre: nombre },\r\n            returning: true,\r\n        });\r\n\r\n        if (filasActualizadas === 0) {\r\n            return res.status(404).json({ error: 'Categoría no encontrada' });\r\n        }\r\n        res.status(200).json(categoriaActualizada[0]);\r\n    } catch (error) {\r\n        console.error('Error al actualizar la categoría:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para eliminar una categoría por su nombre\r\nrouter.delete('/:nombre', async (req, res) => {\r\n    try {\r\n        const { nombre } = req.params;\r\n        const categoriaEliminada = await Categoria.destroy({\r\n            where: { nombre: nombre }\r\n        });\r\n\r\n        if (categoriaEliminada === 0) {\r\n            return res.status(404).json({ error: 'Categoría no encontrada' });\r\n        }\r\n        res.status(200).json({ message: 'Categoría eliminada con éxito' });\r\n    } catch (error) {\r\n        console.error('Error al eliminar la categoría:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}},"mtime":1756705705762},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\domicilios.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst db = require('../models');\nconst DomicilioCliente = db.DomicilioCliente;\n\n// Endpoint para crear un nuevo domicilio\nrouter.post('/', async (req, res) => {\n  console.log(req.body);\n  try {\n    const nuevoDomicilio = await DomicilioCliente.create(req.body);\n    res.status(201).json(nuevoDomicilio);\n  } catch (error) {\n    console.error('Error al crear el domicilio:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para actualizar el campo orden_domicilio por ID\nrouter.put('/orden/:id', async (req, res) => {\n  try {\n    const {\n      id\n    } = req.params;\n    const {\n      orden_domicilio\n    } = req.body;\n    console.log(`[Backend Debug] Recibida solicitud PUT para /orden/${id}`);\n    console.log(`[Backend Debug] Body recibido:`, req.body);\n    const [affectedCount, affectedRows] = await DomicilioCliente.update({\n      orden_domicilio: orden_domicilio\n    }, {\n      where: {\n        id: id\n      },\n      returning: true\n    });\n    console.log(`[Backend Debug] Filas actualizadas: ${affectedCount}`);\n    console.log(`[Backend Debug] Domicilio actualizado:`, affectedRows);\n    if (affectedCount === 0) {\n      console.log(`[Backend Debug] Domicilio con ID ${id} no encontrado.`);\n      return res.status(404).json({\n        error: 'Domicilio no encontrado'\n      });\n    }\n\n    // CORRECCIÓN AQUÍ: Verificar si affectedRows contiene instancias antes de\n    //intentar acceder a affectedRows[0]\n    if (affectedRows && affectedRows.length > 0) {\n      console.log(\"[Backend Debug] Enviando respuesta 200 OK con:\", affectedRows[0]);\n      res.status(200).json(affectedRows[0]);\n    } else {\n      // Si affectedCount > 0 pero affectedRows está vacío (puede pasar con\n      //algunas configuraciones de DB/Sequelize),\n      // aún así enviamos una respuesta de éxito para evitar el error en el frontend.\n      console.log(`[Backend Debug] Actualización exitosa para ID ${id}, pero no se\n  retornó la instancia actualizada. Enviando mensaje de éxito genérico.`);\n      res.status(200).json({\n        message: 'Actualización exitosa',\n        id: id\n      });\n    }\n\n    /* console.log(\"[Backend Debug] Enviando respuesta 200 OK con:\", affectedRows[0]);\r\n    res.status(200).json(affectedRows[0]); */\n  } catch (error) {\n    console.error('Error al actualizar la orden del domicilio:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para obtener todos los domicilios\nrouter.get('/', async (req, res) => {\n  try {\n    const domicilios = await DomicilioCliente.findAll();\n    res.status(200).json(domicilios);\n  } catch (error) {\n    console.error('Error al obtener todos los domicilios:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener un domicilio por ID\nrouter.get('/:id', async (req, res) => {\n  try {\n    const {\n      id\n    } = req.params;\n    const domicilio = await DomicilioCliente.findByPk(id);\n    if (!domicilio) {\n      return res.status(404).json({\n        error: 'Domicilio no encontrado'\n      });\n    }\n    res.status(200).json(domicilio);\n  } catch (error) {\n    console.error('Error al obtener el domicilio por ID:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener domicilios por cliente\nrouter.get('/cliente/:clienteId', async (req, res) => {\n  try {\n    const {\n      clienteId\n    } = req.params;\n    const domicilios = await DomicilioCliente.findAll({\n      where: {\n        clienteId: clienteId\n      }\n    });\n    res.status(200).json(domicilios);\n  } catch (error) {\n    console.error('Error al obtener los domicilios por cliente:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para actualizar un domicilio por ID\nrouter.put('/:id', async (req, res) => {\n  try {\n    const {\n      id\n    } = req.params;\n    const [filasActualizadas, domicilioActualizado] = await DomicilioCliente.update(req.body, {\n      where: {\n        id: id\n      },\n      returning: true\n    });\n    if (filasActualizadas === 0) {\n      return res.status(404).json({\n        error: 'Domicilio no encontrado'\n      });\n    }\n    res.status(200).json(domicilioActualizado[0]);\n  } catch (error) {\n    console.error('Error al actualizar el domicilio:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para eliminar un domicilio por ID\nrouter.delete('/:id', async (req, res) => {\n  try {\n    const {\n      id\n    } = req.params;\n    const domicilioEliminado = await DomicilioCliente.destroy({\n      where: {\n        id: id\n      }\n    });\n    if (domicilioEliminado === 0) {\n      return res.status(404).json({\n        error: 'Domicilio no encontrado'\n      });\n    }\n    res.status(200).json({\n      message: 'Domicilio eliminado con éxito'\n    });\n  } catch (error) {\n    console.error('Error al eliminar el domicilio:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Nuevo endpoint para obtener domicilios por clienteEmail\nrouter.get('/email/:clienteEmail', async (req, res) => {\n  console.log(req.params);\n  try {\n    const {\n      clienteEmail\n    } = req.params;\n\n    // Primero, encontrar al cliente por su email\n    /*  const cliente = await DomicilioCliente.findOne({\r\n         where: { clienteEmail: clienteEmail }\r\n     });\r\n        if (!cliente) {\r\n         return res.status(404).json({ error: 'Cliente no encontrado' });\r\n     } */\n\n    // Luego, encontrar los domicilios asociados a ese cliente\n    const domicilios = await DomicilioCliente.findAll({\n      where: {\n        clienteEmail: clienteEmail\n      }\n    });\n    res.status(200).json(domicilios);\n  } catch (error) {\n    console.error('Error al obtener los domicilios por email del cliente-ojo:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiRG9taWNpbGlvQ2xpZW50ZSIsInBvc3QiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsIm51ZXZvRG9taWNpbGlvIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibWVzc2FnZSIsInB1dCIsImlkIiwicGFyYW1zIiwib3JkZW5fZG9taWNpbGlvIiwiYWZmZWN0ZWRDb3VudCIsImFmZmVjdGVkUm93cyIsInVwZGF0ZSIsIndoZXJlIiwicmV0dXJuaW5nIiwibGVuZ3RoIiwiZ2V0IiwiZG9taWNpbGlvcyIsImZpbmRBbGwiLCJkb21pY2lsaW8iLCJmaW5kQnlQayIsImNsaWVudGVJZCIsImZpbGFzQWN0dWFsaXphZGFzIiwiZG9taWNpbGlvQWN0dWFsaXphZG8iLCJkZWxldGUiLCJkb21pY2lsaW9FbGltaW5hZG8iLCJkZXN0cm95IiwiY2xpZW50ZUVtYWlsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiZG9taWNpbGlvcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL21vZGVscycpO1xyXG5jb25zdCBEb21pY2lsaW9DbGllbnRlID0gZGIuRG9taWNpbGlvQ2xpZW50ZTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgY3JlYXIgdW4gbnVldm8gZG9taWNpbGlvXHJcbnJvdXRlci5wb3N0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IG51ZXZvRG9taWNpbGlvID0gYXdhaXQgRG9taWNpbGlvQ2xpZW50ZS5jcmVhdGUocmVxLmJvZHkpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKG51ZXZvRG9taWNpbGlvKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgY3JlYXIgZWwgZG9taWNpbGlvOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgYWN0dWFsaXphciBlbCBjYW1wbyBvcmRlbl9kb21pY2lsaW8gcG9yIElEXHJcbnJvdXRlci5wdXQoJy9vcmRlbi86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgICBjb25zdCB7IG9yZGVuX2RvbWljaWxpbyB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbQmFja2VuZCBEZWJ1Z10gUmVjaWJpZGEgc29saWNpdHVkIFBVVCBwYXJhIC9vcmRlbi8ke2lkfWApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbQmFja2VuZCBEZWJ1Z10gQm9keSByZWNpYmlkbzpgLCByZXEuYm9keSk7XHJcblxyXG4gICAgICAgIGNvbnN0IFthZmZlY3RlZENvdW50LCBhZmZlY3RlZFJvd3NdID0gYXdhaXQgRG9taWNpbGlvQ2xpZW50ZS51cGRhdGUoe1xyXG4gICAgICAgICAgICBvcmRlbl9kb21pY2lsaW86IG9yZGVuX2RvbWljaWxpb1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIGlkOiBpZFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXR1cm5pbmc6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbQmFja2VuZCBEZWJ1Z10gRmlsYXMgYWN0dWFsaXphZGFzOiAke2FmZmVjdGVkQ291bnR9YCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFtCYWNrZW5kIERlYnVnXSBEb21pY2lsaW8gYWN0dWFsaXphZG86YCwgYWZmZWN0ZWRSb3dzKTtcclxuXHJcbiAgICAgICAgaWYgKGFmZmVjdGVkQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFtCYWNrZW5kIERlYnVnXSBEb21pY2lsaW8gY29uIElEICR7aWR9IG5vIGVuY29udHJhZG8uYCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBlcnJvcjogJ0RvbWljaWxpbyBubyBlbmNvbnRyYWRvJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENPUlJFQ0NJw5NOIEFRVcONOiBWZXJpZmljYXIgc2kgYWZmZWN0ZWRSb3dzIGNvbnRpZW5lIGluc3RhbmNpYXMgYW50ZXMgZGVcclxuICAgICAgICAvL2ludGVudGFyIGFjY2VkZXIgYSBhZmZlY3RlZFJvd3NbMF1cclxuICAgICAgICBpZiAoYWZmZWN0ZWRSb3dzICYmIGFmZmVjdGVkUm93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0JhY2tlbmQgRGVidWddIEVudmlhbmRvIHJlc3B1ZXN0YSAyMDAgT0sgY29uOlwiLCBhZmZlY3RlZFJvd3NbMF0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihhZmZlY3RlZFJvd3NbMF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFNpIGFmZmVjdGVkQ291bnQgPiAwIHBlcm8gYWZmZWN0ZWRSb3dzIGVzdMOhIHZhY8OtbyAocHVlZGUgcGFzYXIgY29uXHJcbiAgICAgICAgICAgIC8vYWxndW5hcyBjb25maWd1cmFjaW9uZXMgZGUgREIvU2VxdWVsaXplKSxcclxuICAgICAgICAgICAgLy8gYcO6biBhc8OtIGVudmlhbW9zIHVuYSByZXNwdWVzdGEgZGUgw6l4aXRvIHBhcmEgZXZpdGFyIGVsIGVycm9yIGVuIGVsIGZyb250ZW5kLlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW0JhY2tlbmQgRGVidWddIEFjdHVhbGl6YWNpw7NuIGV4aXRvc2EgcGFyYSBJRCAke2lkfSwgcGVybyBubyBzZVxyXG4gIHJldG9ybsOzIGxhIGluc3RhbmNpYSBhY3R1YWxpemFkYS4gRW52aWFuZG8gbWVuc2FqZSBkZSDDqXhpdG8gZ2Vuw6lyaWNvLmApO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdBY3R1YWxpemFjacOzbiBleGl0b3NhJywgaWQ6IGlkIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogY29uc29sZS5sb2coXCJbQmFja2VuZCBEZWJ1Z10gRW52aWFuZG8gcmVzcHVlc3RhIDIwMCBPSyBjb246XCIsIGFmZmVjdGVkUm93c1swXSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oYWZmZWN0ZWRSb3dzWzBdKTsgKi9cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgYWN0dWFsaXphciBsYSBvcmRlbiBkZWwgZG9taWNpbGlvOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIHRvZG9zIGxvcyBkb21pY2lsaW9zXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZG9taWNpbGlvcyA9IGF3YWl0IERvbWljaWxpb0NsaWVudGUuZmluZEFsbCgpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGRvbWljaWxpb3MpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIHRvZG9zIGxvcyBkb21pY2lsaW9zOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgb2J0ZW5lciB1biBkb21pY2lsaW8gcG9yIElEXHJcbnJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgICBjb25zdCBkb21pY2lsaW8gPSBhd2FpdCBEb21pY2lsaW9DbGllbnRlLmZpbmRCeVBrKGlkKTtcclxuXHJcbiAgICAgICAgaWYgKCFkb21pY2lsaW8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdEb21pY2lsaW8gbm8gZW5jb250cmFkbycgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGRvbWljaWxpbyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIG9idGVuZXIgZWwgZG9taWNpbGlvIHBvciBJRDonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIG9idGVuZXIgZG9taWNpbGlvcyBwb3IgY2xpZW50ZVxyXG5yb3V0ZXIuZ2V0KCcvY2xpZW50ZS86Y2xpZW50ZUlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xpZW50ZUlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IGRvbWljaWxpb3MgPSBhd2FpdCBEb21pY2lsaW9DbGllbnRlLmZpbmRBbGwoe1xyXG4gICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50ZUlkOiBjbGllbnRlSWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGRvbWljaWxpb3MpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIGxvcyBkb21pY2lsaW9zIHBvciBjbGllbnRlOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgYWN0dWFsaXphciB1biBkb21pY2lsaW8gcG9yIElEXHJcbnJvdXRlci5wdXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgICBjb25zdCBbZmlsYXNBY3R1YWxpemFkYXMsIGRvbWljaWxpb0FjdHVhbGl6YWRvXSA9IGF3YWl0IERvbWljaWxpb0NsaWVudGUudXBkYXRlKHJlcS5ib2R5LCB7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBpZCB9LFxyXG4gICAgICAgICAgICByZXR1cm5pbmc6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChmaWxhc0FjdHVhbGl6YWRhcyA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ0RvbWljaWxpbyBubyBlbmNvbnRyYWRvJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oZG9taWNpbGlvQWN0dWFsaXphZG9bMF0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBhY3R1YWxpemFyIGVsIGRvbWljaWxpbzonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGVsaW1pbmFyIHVuIGRvbWljaWxpbyBwb3IgSURcclxucm91dGVyLmRlbGV0ZSgnLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IGRvbWljaWxpb0VsaW1pbmFkbyA9IGF3YWl0IERvbWljaWxpb0NsaWVudGUuZGVzdHJveSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBpZCB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChkb21pY2lsaW9FbGltaW5hZG8gPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdEb21pY2lsaW8gbm8gZW5jb250cmFkbycgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ0RvbWljaWxpbyBlbGltaW5hZG8gY29uIMOpeGl0bycgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGVsaW1pbmFyIGVsIGRvbWljaWxpbzonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBOdWV2byBlbmRwb2ludCBwYXJhIG9idGVuZXIgZG9taWNpbGlvcyBwb3IgY2xpZW50ZUVtYWlsXHJcbnJvdXRlci5nZXQoJy9lbWFpbC86Y2xpZW50ZUVtYWlsJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXEucGFyYW1zKTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBjbGllbnRlRW1haWwgfSA9IHJlcS5wYXJhbXM7XHJcblxyXG4gICAgICAgIC8vIFByaW1lcm8sIGVuY29udHJhciBhbCBjbGllbnRlIHBvciBzdSBlbWFpbFxyXG4gICAgICAgIC8qICBjb25zdCBjbGllbnRlID0gYXdhaXQgRG9taWNpbGlvQ2xpZW50ZS5maW5kT25lKHtcclxuICAgICAgICAgICAgIHdoZXJlOiB7IGNsaWVudGVFbWFpbDogY2xpZW50ZUVtYWlsIH1cclxuICAgICAgICAgfSk7XHJcbiBcclxuICAgICAgICAgaWYgKCFjbGllbnRlKSB7XHJcbiAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ0NsaWVudGUgbm8gZW5jb250cmFkbycgfSk7XHJcbiAgICAgICAgIH0gKi9cclxuXHJcbiAgICAgICAgLy8gTHVlZ28sIGVuY29udHJhciBsb3MgZG9taWNpbGlvcyBhc29jaWFkb3MgYSBlc2UgY2xpZW50ZVxyXG4gICAgICAgIGNvbnN0IGRvbWljaWxpb3MgPSBhd2FpdCBEb21pY2lsaW9DbGllbnRlLmZpbmRBbGwoe1xyXG4gICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50ZUVtYWlsOiBjbGllbnRlRW1haWwsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oZG9taWNpbGlvcyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIG9idGVuZXIgbG9zIGRvbWljaWxpb3MgcG9yIGVtYWlsIGRlbCBjbGllbnRlLW9qbzonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxDQUFDLENBQUM7QUFDL0IsTUFBTUMsRUFBRSxHQUFHSCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQy9CLE1BQU1JLGdCQUFnQixHQUFHRCxFQUFFLENBQUNDLGdCQUFnQjs7QUFFNUM7QUFDQUgsTUFBTSxDQUFDSSxJQUFJLENBQUMsR0FBRyxFQUFFLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ2pDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0gsR0FBRyxDQUFDSSxJQUFJLENBQUM7RUFDckIsSUFBSTtJQUNBLE1BQU1DLGNBQWMsR0FBRyxNQUFNUCxnQkFBZ0IsQ0FBQ1EsTUFBTSxDQUFDTixHQUFHLENBQUNJLElBQUksQ0FBQztJQUM5REgsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0gsY0FBYyxDQUFDO0VBQ3hDLENBQUMsQ0FBQyxPQUFPSSxLQUFLLEVBQUU7SUFDWlAsT0FBTyxDQUFDTyxLQUFLLENBQUMsOEJBQThCLEVBQUVBLEtBQUssQ0FBQztJQUNwRFIsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxLQUFLLEVBQUVBLEtBQUss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","map":{"version":3,"names":["express","require","router","Router","db","DomicilioCliente","post","req","res","console","log","body","nuevoDomicilio","create","status","json","error","message","put","id","params","orden_domicilio","affectedCount","affectedRows","update","where","returning","length","get","domicilios","findAll","domicilio","findByPk","clienteId","filasActualizadas","domicilioActualizado","delete","domicilioEliminado","destroy","clienteEmail","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["domicilios.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\nconst DomicilioCliente = db.DomicilioCliente;\r\n\r\n// Endpoint para crear un nuevo domicilio\r\nrouter.post('/', async (req, res) => {\r\n    console.log(req.body);\r\n    try {\r\n        const nuevoDomicilio = await DomicilioCliente.create(req.body);\r\n        res.status(201).json(nuevoDomicilio);\r\n    } catch (error) {\r\n        console.error('Error al crear el domicilio:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para actualizar el campo orden_domicilio por ID\r\nrouter.put('/orden/:id', async (req, res) => {\r\n    try {\r\n        const { id } = req.params;\r\n        const { orden_domicilio } = req.body;\r\n\r\n        console.log(`[Backend Debug] Recibida solicitud PUT para /orden/${id}`);\r\n        console.log(`[Backend Debug] Body recibido:`, req.body);\r\n\r\n        const [affectedCount, affectedRows] = await DomicilioCliente.update({\r\n            orden_domicilio: orden_domicilio\r\n        }, {\r\n            where: {\r\n                id: id\r\n            },\r\n            returning: true,\r\n        });\r\n\r\n        console.log(`[Backend Debug] Filas actualizadas: ${affectedCount}`);\r\n        console.log(`[Backend Debug] Domicilio actualizado:`, affectedRows);\r\n\r\n        if (affectedCount === 0) {\r\n            console.log(`[Backend Debug] Domicilio con ID ${id} no encontrado.`);\r\n            return res.status(404).json({\r\n                error: 'Domicilio no encontrado'\r\n            });\r\n        }\r\n\r\n        // CORRECCIÓN AQUÍ: Verificar si affectedRows contiene instancias antes de\r\n        //intentar acceder a affectedRows[0]\r\n        if (affectedRows && affectedRows.length > 0) {\r\n            console.log(\"[Backend Debug] Enviando respuesta 200 OK con:\", affectedRows[0]);\r\n            res.status(200).json(affectedRows[0]);\r\n        } else {\r\n            // Si affectedCount > 0 pero affectedRows está vacío (puede pasar con\r\n            //algunas configuraciones de DB/Sequelize),\r\n            // aún así enviamos una respuesta de éxito para evitar el error en el frontend.\r\n            console.log(`[Backend Debug] Actualización exitosa para ID ${id}, pero no se\r\n  retornó la instancia actualizada. Enviando mensaje de éxito genérico.`);\r\n            res.status(200).json({ message: 'Actualización exitosa', id: id });\r\n        }\r\n\r\n        /* console.log(\"[Backend Debug] Enviando respuesta 200 OK con:\", affectedRows[0]);\r\n        res.status(200).json(affectedRows[0]); */\r\n    } catch (error) {\r\n        console.error('Error al actualizar la orden del domicilio:', error);\r\n        res.status(400).json({\r\n            error: error.message\r\n        });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener todos los domicilios\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n        const domicilios = await DomicilioCliente.findAll();\r\n        res.status(200).json(domicilios);\r\n    } catch (error) {\r\n        console.error('Error al obtener todos los domicilios:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener un domicilio por ID\r\nrouter.get('/:id', async (req, res) => {\r\n    try {\r\n        const { id } = req.params;\r\n        const domicilio = await DomicilioCliente.findByPk(id);\r\n\r\n        if (!domicilio) {\r\n            return res.status(404).json({ error: 'Domicilio no encontrado' });\r\n        }\r\n        res.status(200).json(domicilio);\r\n    } catch (error) {\r\n        console.error('Error al obtener el domicilio por ID:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener domicilios por cliente\r\nrouter.get('/cliente/:clienteId', async (req, res) => {\r\n    try {\r\n        const { clienteId } = req.params;\r\n        const domicilios = await DomicilioCliente.findAll({\r\n            where: {\r\n                clienteId: clienteId\r\n            }\r\n        });\r\n        res.status(200).json(domicilios);\r\n    } catch (error) {\r\n        console.error('Error al obtener los domicilios por cliente:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para actualizar un domicilio por ID\r\nrouter.put('/:id', async (req, res) => {\r\n    try {\r\n        const { id } = req.params;\r\n        const [filasActualizadas, domicilioActualizado] = await DomicilioCliente.update(req.body, {\r\n            where: { id: id },\r\n            returning: true,\r\n        });\r\n\r\n        if (filasActualizadas === 0) {\r\n            return res.status(404).json({ error: 'Domicilio no encontrado' });\r\n        }\r\n        res.status(200).json(domicilioActualizado[0]);\r\n    } catch (error) {\r\n        console.error('Error al actualizar el domicilio:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para eliminar un domicilio por ID\r\nrouter.delete('/:id', async (req, res) => {\r\n    try {\r\n        const { id } = req.params;\r\n        const domicilioEliminado = await DomicilioCliente.destroy({\r\n            where: { id: id }\r\n        });\r\n\r\n        if (domicilioEliminado === 0) {\r\n            return res.status(404).json({ error: 'Domicilio no encontrado' });\r\n        }\r\n        res.status(200).json({ message: 'Domicilio eliminado con éxito' });\r\n    } catch (error) {\r\n        console.error('Error al eliminar el domicilio:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Nuevo endpoint para obtener domicilios por clienteEmail\r\nrouter.get('/email/:clienteEmail', async (req, res) => {\r\n    console.log(req.params);\r\n    try {\r\n        const { clienteEmail } = req.params;\r\n\r\n        // Primero, encontrar al cliente por su email\r\n        /*  const cliente = await DomicilioCliente.findOne({\r\n             where: { clienteEmail: clienteEmail }\r\n         });\r\n \r\n         if (!cliente) {\r\n             return res.status(404).json({ error: 'Cliente no encontrado' });\r\n         } */\r\n\r\n        // Luego, encontrar los domicilios asociados a ese cliente\r\n        const domicilios = await DomicilioCliente.findAll({\r\n            where: {\r\n                clienteEmail: clienteEmail,\r\n            }\r\n        });\r\n\r\n        res.status(200).json(domicilios);\r\n    } catch (error) {\r\n        console.error('Error al obtener los domicilios por email del cliente-ojo:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}},"mtime":1758246076187},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\productos_sugeridos.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst db = require('../models');\nconst ProductoSugerido = db.ProductoSugerido;\nconst {\n  Op\n} = require('sequelize');\n\n// Endpoint para crear un nuevo producto\nrouter.post('/', async (req, res) => {\n  try {\n    // Usa `req.body` para acceder a los datos enviados en la solicitud\n    const nuevoProducto = await ProductoSugerido.create(req.body);\n    res.status(201).json(nuevoProducto);\n  } catch (error) {\n    console.error('Error al crear el producto sugerido:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para borrar un producto por su clave\nrouter.delete('/:clave', async (req, res) => {\n  try {\n    const {\n      clave\n    } = req.params;\n    const productoBorrado = await ProductoSugerido.destroy({\n      where: {\n        clave: clave\n      }\n    });\n    if (productoBorrado === 0) {\n      return res.status(404).json({\n        error: 'Producto no encontrado'\n      });\n    }\n    res.status(200).json({\n      message: 'Producto eliminado con éxito'\n    });\n  } catch (error) {\n    console.error('Error al borrar el producto:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener todos los productos\nrouter.get('/', async (req, res) => {\n  try {\n    const productos = await ProductoSugerido.findAll();\n    res.status(200).json(productos);\n  } catch (error) {\n    console.error('Error al obtener todos los productos:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener un producto por su clave\nrouter.get('/:clave', async (req, res) => {\n  console.log(req.params);\n  try {\n    const {\n      clave\n    } = req.params;\n    const producto = await ProductoSugerido.findByPk(clave);\n    if (!producto) {\n      return res.status(404).json({\n        error: 'Producto no encontrado'\n      });\n    }\n    res.status(200).json(producto);\n  } catch (error) {\n    console.error('Error al obtener el producto por clave:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener productos por línea\n/* router.get('/linea/:linea', async (req, res) => {\r\n    try {\r\n        const { linea } = req.params;\r\n        const productos = await ProductosSugeridos.findAll({\r\n            where: {\r\n                linea: {\r\n                    [Op.like]: `%${linea}%` // Usamos Op.like para una búsqueda flexible\r\n                }\r\n            }\r\n        });\r\n        res.status(200).json(productos);\r\n    } catch (error) {\r\n        console.error('Error al obtener los productos por línea:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n}); */\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiUHJvZHVjdG9TdWdlcmlkbyIsIk9wIiwicG9zdCIsInJlcSIsInJlcyIsIm51ZXZvUHJvZHVjdG8iLCJjcmVhdGUiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJkZWxldGUiLCJjbGF2ZSIsInBhcmFtcyIsInByb2R1Y3RvQm9ycmFkbyIsImRlc3Ryb3kiLCJ3aGVyZSIsImdldCIsInByb2R1Y3RvcyIsImZpbmRBbGwiLCJsb2ciLCJwcm9kdWN0byIsImZpbmRCeVBrIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsicHJvZHVjdG9zX3N1Z2VyaWRvcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL21vZGVscycpO1xyXG5jb25zdCBQcm9kdWN0b1N1Z2VyaWRvID0gZGIuUHJvZHVjdG9TdWdlcmlkbztcclxuY29uc3QgeyBPcCB9ID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGNyZWFyIHVuIG51ZXZvIHByb2R1Y3RvXHJcbnJvdXRlci5wb3N0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIFVzYSBgcmVxLmJvZHlgIHBhcmEgYWNjZWRlciBhIGxvcyBkYXRvcyBlbnZpYWRvcyBlbiBsYSBzb2xpY2l0dWRcclxuICAgICAgICBjb25zdCBudWV2b1Byb2R1Y3RvID0gYXdhaXQgUHJvZHVjdG9TdWdlcmlkby5jcmVhdGUocmVxLmJvZHkpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKG51ZXZvUHJvZHVjdG8pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBjcmVhciBlbCBwcm9kdWN0byBzdWdlcmlkbzonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGJvcnJhciB1biBwcm9kdWN0byBwb3Igc3UgY2xhdmVcclxucm91dGVyLmRlbGV0ZSgnLzpjbGF2ZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGNsYXZlIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IHByb2R1Y3RvQm9ycmFkbyA9IGF3YWl0IFByb2R1Y3RvU3VnZXJpZG8uZGVzdHJveSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGNsYXZlOiBjbGF2ZSB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChwcm9kdWN0b0JvcnJhZG8gPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdQcm9kdWN0byBubyBlbmNvbnRyYWRvJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1Byb2R1Y3RvIGVsaW1pbmFkbyBjb24gw6l4aXRvJyB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgYm9ycmFyIGVsIHByb2R1Y3RvOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgb2J0ZW5lciB0b2RvcyBsb3MgcHJvZHVjdG9zXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdG9zID0gYXdhaXQgUHJvZHVjdG9TdWdlcmlkby5maW5kQWxsKCk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdG9zKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciB0b2RvcyBsb3MgcHJvZHVjdG9zOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgb2J0ZW5lciB1biBwcm9kdWN0byBwb3Igc3UgY2xhdmVcclxucm91dGVyLmdldCgnLzpjbGF2ZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2cocmVxLnBhcmFtcyk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhdmUgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdG8gPSBhd2FpdCBQcm9kdWN0b1N1Z2VyaWRvLmZpbmRCeVBrKGNsYXZlKTtcclxuXHJcbiAgICAgICAgaWYgKCFwcm9kdWN0bykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ1Byb2R1Y3RvIG5vIGVuY29udHJhZG8nIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdG8pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIGVsIHByb2R1Y3RvIHBvciBjbGF2ZTonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIG9idGVuZXIgcHJvZHVjdG9zIHBvciBsw61uZWFcclxuLyogcm91dGVyLmdldCgnL2xpbmVhLzpsaW5lYScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGxpbmVhIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IHByb2R1Y3RvcyA9IGF3YWl0IFByb2R1Y3Rvc1N1Z2VyaWRvcy5maW5kQWxsKHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIGxpbmVhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgW09wLmxpa2VdOiBgJSR7bGluZWF9JWAgLy8gVXNhbW9zIE9wLmxpa2UgcGFyYSB1bmEgYsO6c3F1ZWRhIGZsZXhpYmxlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihwcm9kdWN0b3MpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIGxvcyBwcm9kdWN0b3MgcG9yIGzDrW5lYTonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7ICovXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFB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","map":{"version":3,"names":["express","require","router","Router","db","ProductoSugerido","Op","post","req","res","nuevoProducto","create","body","status","json","error","console","message","delete","clave","params","productoBorrado","destroy","where","get","productos","findAll","log","producto","findByPk","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["productos_sugeridos.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\nconst ProductoSugerido = db.ProductoSugerido;\r\nconst { Op } = require('sequelize');\r\n\r\n// Endpoint para crear un nuevo producto\r\nrouter.post('/', async (req, res) => {\r\n    try {\r\n        // Usa `req.body` para acceder a los datos enviados en la solicitud\r\n        const nuevoProducto = await ProductoSugerido.create(req.body);\r\n        res.status(201).json(nuevoProducto);\r\n    } catch (error) {\r\n        console.error('Error al crear el producto sugerido:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para borrar un producto por su clave\r\nrouter.delete('/:clave', async (req, res) => {\r\n    try {\r\n        const { clave } = req.params;\r\n        const productoBorrado = await ProductoSugerido.destroy({\r\n            where: { clave: clave }\r\n        });\r\n\r\n        if (productoBorrado === 0) {\r\n            return res.status(404).json({ error: 'Producto no encontrado' });\r\n        }\r\n\r\n        res.status(200).json({ message: 'Producto eliminado con éxito' });\r\n    } catch (error) {\r\n        console.error('Error al borrar el producto:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener todos los productos\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n        const productos = await ProductoSugerido.findAll();\r\n        res.status(200).json(productos);\r\n    } catch (error) {\r\n        console.error('Error al obtener todos los productos:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener un producto por su clave\r\nrouter.get('/:clave', async (req, res) => {\r\n    console.log(req.params);\r\n    try {\r\n        const { clave } = req.params;\r\n        const producto = await ProductoSugerido.findByPk(clave);\r\n\r\n        if (!producto) {\r\n            return res.status(404).json({ error: 'Producto no encontrado' });\r\n        }\r\n\r\n        res.status(200).json(producto);\r\n    } catch (error) {\r\n        console.error('Error al obtener el producto por clave:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener productos por línea\r\n/* router.get('/linea/:linea', async (req, res) => {\r\n    try {\r\n        const { linea } = req.params;\r\n        const productos = await ProductosSugeridos.findAll({\r\n            where: {\r\n                linea: {\r\n                    [Op.like]: `%${linea}%` // Usamos Op.like para una búsqueda flexible\r\n                }\r\n            }\r\n        });\r\n        res.status(200).json(productos);\r\n    } catch (error) {\r\n        console.error('Error al obtener los productos por línea:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n}); */\r\n\r\n\r\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}},"mtime":1757118478424},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\schema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"// routes/schema.js\nconst express = require('express');\nconst router = express.Router();\nconst db = require('../models');\n\n// Endpoint para obtener el esquema de una tabla por su nombre\nrouter.get('/:tableName', async (req, res) => {\n  try {\n    const {\n      tableName\n    } = req.params;\n    const queryInterface = db.sequelize.getQueryInterface();\n\n    // Verifica si la tabla existe antes de describirla para evitar errores\n    const tables = await queryInterface.showAllTables();\n    if (!tables.includes(tableName)) {\n      return res.status(404).json({\n        error: `La tabla '${tableName}' no existe.`\n      });\n    }\n    const tableDefinition = await queryInterface.describeTable(tableName);\n    const columnsInfo = Object.keys(tableDefinition).map(columnName => {\n      const column = tableDefinition[columnName];\n      const isOptional = column.allowNull;\n      return {\n        name: columnName,\n        isOptional: isOptional,\n        type: column.type\n      };\n    });\n    res.status(200).json({\n      tableName,\n      columns: columnsInfo\n    });\n  } catch (error) {\n    console.error('Error al consultar el esquema de la tabla:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor al consultar el esquema.'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiZ2V0IiwicmVxIiwicmVzIiwidGFibGVOYW1lIiwicGFyYW1zIiwicXVlcnlJbnRlcmZhY2UiLCJzZXF1ZWxpemUiLCJnZXRRdWVyeUludGVyZmFjZSIsInRhYmxlcyIsInNob3dBbGxUYWJsZXMiLCJpbmNsdWRlcyIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInRhYmxlRGVmaW5pdGlvbiIsImRlc2NyaWJlVGFibGUiLCJjb2x1bW5zSW5mbyIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJjb2x1bW5OYW1lIiwiY29sdW1uIiwiaXNPcHRpb25hbCIsImFsbG93TnVsbCIsIm5hbWUiLCJ0eXBlIiwiY29sdW1ucyIsImNvbnNvbGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG9yb2RyXFx3b3Jrc3BhY2VcXEFQSXNcXGFwaS1lY29tbWVyY2VcXHJvdXRlc1xcIiwic291cmNlcyI6WyJzY2hlbWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcm91dGVzL3NjaGVtYS5qc1xyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL21vZGVscycpO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIGVsIGVzcXVlbWEgZGUgdW5hIHRhYmxhIHBvciBzdSBub21icmVcclxucm91dGVyLmdldCgnLzp0YWJsZU5hbWUnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyB0YWJsZU5hbWUgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgcXVlcnlJbnRlcmZhY2UgPSBkYi5zZXF1ZWxpemUuZ2V0UXVlcnlJbnRlcmZhY2UoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBWZXJpZmljYSBzaSBsYSB0YWJsYSBleGlzdGUgYW50ZXMgZGUgZGVzY3JpYmlybGEgcGFyYSBldml0YXIgZXJyb3Jlc1xyXG4gICAgICAgIGNvbnN0IHRhYmxlcyA9IGF3YWl0IHF1ZXJ5SW50ZXJmYWNlLnNob3dBbGxUYWJsZXMoKTtcclxuICAgICAgICBpZiAoIXRhYmxlcy5pbmNsdWRlcyh0YWJsZU5hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiBgTGEgdGFibGEgJyR7dGFibGVOYW1lfScgbm8gZXhpc3RlLmAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHRhYmxlRGVmaW5pdGlvbiA9IGF3YWl0IHF1ZXJ5SW50ZXJmYWNlLmRlc2NyaWJlVGFibGUodGFibGVOYW1lKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29sdW1uc0luZm8gPSBPYmplY3Qua2V5cyh0YWJsZURlZmluaXRpb24pLm1hcChjb2x1bW5OYW1lID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29sdW1uID0gdGFibGVEZWZpbml0aW9uW2NvbHVtbk5hbWVdO1xyXG4gICAgICAgICAgICBjb25zdCBpc09wdGlvbmFsID0gY29sdW1uLmFsbG93TnVsbDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBjb2x1bW5OYW1lLFxyXG4gICAgICAgICAgICAgICAgaXNPcHRpb25hbDogaXNPcHRpb25hbCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IGNvbHVtbi50eXBlLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHRhYmxlTmFtZSwgY29sdW1uczogY29sdW1uc0luZm8gfSk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBjb25zdWx0YXIgZWwgZXNxdWVtYSBkZSBsYSB0YWJsYTonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yIGFsIGNvbnN1bHRhciBlbCBlc3F1ZW1hLicgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxDQUFDLENBQUM7QUFDL0IsTUFBTUMsRUFBRSxHQUFHSCxPQUFPLENBQUMsV0FBVyxDQUFDOztBQUUvQjtBQUNBQyxNQUFNLENBQUNHLEdBQUcsQ0FBQyxhQUFhLEVBQUUsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDMUMsSUFBSTtJQUNBLE1BQU07TUFBRUM7SUFBVSxDQUFDLEdBQUdGLEdBQUcsQ0FBQ0csTUFBTTtJQUNoQyxNQUFNQyxjQUFjLEdBQUdOLEVBQUUsQ0FBQ08sU0FBUyxDQUFDQyxpQkFBaUIsQ0FBQyxDQUFDOztJQUV2RDtJQUNBLE1BQU1DLE1BQU0sR0FBRyxNQUFNSCxjQUFjLENBQUNJLGFBQWEsQ0FBQyxDQUFDO0lBQ25ELElBQUksQ0FBQ0QsTUFBTSxDQUFDRSxRQUFRLENBQUNQLFNBQVMsQ0FBQyxFQUFFO01BQzdCLE9BQU9ELEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUMsS0FBSyxFQUFFLGFBQWFWLFNBQVM7TUFBZSxDQUFDLENBQUM7SUFDaEY7SUFFQSxNQUFNVyxlQUFlLEdBQUcsTUFBTVQsY0FBYyxDQUFDVSxhQUFhLENBQUNaLFNBQVMsQ0FBQztJQUVyRSxNQUFNYSxXQUFXLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDSixlQUFlLENBQUMsQ0FBQ0ssR0FBRyxDQUFDQyxVQUFVLElBQUk7TUFDL0QsTUFBTUMsTUFBTSxHQUFHUCxlQUFlLENBQUNNLFVBQVUsQ0FBQztNQUMxQyxNQUFNRSxVQUFVLEdBQUdELE1BQU0sQ0FBQ0UsU0FBUztNQUVuQyxPQUFPO1FBQ0hDLElBQUksRUFBRUosVUFBVTtRQUNoQkUsVUFBVSxFQUFFQSxVQUFVO1FBQ3RCRyxJQUFJLEVBQUVKLE1BQU0sQ0FBQ0k7TUFDakIsQ0FBQztJQUNMLENBQUMsQ0FBQztJQUVGdkIsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFVCxTQUFTO01BQUV1QixPQUFPLEVBQUVWO0lBQVksQ0FBQyxDQUFDO0VBRTdELENBQUMsQ0FBQyxPQUFPSCxLQUFLLEVBQUU7SUFDWmMsT0FBTyxDQUFDZCxLQUFLLENBQUMsNENBQTRDLEVBQUVBLEtBQUssQ0FBQztJQUNsRVgsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxLQUFLLEVBQUU7SUFBc0QsQ0FBQyxDQUFDO0VBQzFGO0FBQ0osQ0FBQyxDQUFDO0FBRUZlLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHaEMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","router","Router","db","get","req","res","tableName","params","queryInterface","sequelize","getQueryInterface","tables","showAllTables","includes","status","json","error","tableDefinition","describeTable","columnsInfo","Object","keys","map","columnName","column","isOptional","allowNull","name","type","columns","console","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["schema.js"],"sourcesContent":["// routes/schema.js\r\nconst express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\n\r\n// Endpoint para obtener el esquema de una tabla por su nombre\r\nrouter.get('/:tableName', async (req, res) => {\r\n    try {\r\n        const { tableName } = req.params;\r\n        const queryInterface = db.sequelize.getQueryInterface();\r\n        \r\n        // Verifica si la tabla existe antes de describirla para evitar errores\r\n        const tables = await queryInterface.showAllTables();\r\n        if (!tables.includes(tableName)) {\r\n            return res.status(404).json({ error: `La tabla '${tableName}' no existe.` });\r\n        }\r\n        \r\n        const tableDefinition = await queryInterface.describeTable(tableName);\r\n\r\n        const columnsInfo = Object.keys(tableDefinition).map(columnName => {\r\n            const column = tableDefinition[columnName];\r\n            const isOptional = column.allowNull;\r\n            \r\n            return {\r\n                name: columnName,\r\n                isOptional: isOptional,\r\n                type: column.type,\r\n            };\r\n        });\r\n\r\n        res.status(200).json({ tableName, columns: columnsInfo });\r\n\r\n    } catch (error) {\r\n        console.error('Error al consultar el esquema de la tabla:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor al consultar el esquema.' });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"AAAA;AACA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,EAAE,GAAGH,OAAO,CAAC,WAAW,CAAC;;AAE/B;AACAC,MAAM,CAACG,GAAG,CAAC,aAAa,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAC1C,IAAI;IACA,MAAM;MAAEC;IAAU,CAAC,GAAGF,GAAG,CAACG,MAAM;IAChC,MAAMC,cAAc,GAAGN,EAAE,CAACO,SAAS,CAACC,iBAAiB,CAAC,CAAC;;IAEvD;IACA,MAAMC,MAAM,GAAG,MAAMH,cAAc,CAACI,aAAa,CAAC,CAAC;IACnD,IAAI,CAACD,MAAM,CAACE,QAAQ,CAACP,SAAS,CAAC,EAAE;MAC7B,OAAOD,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,KAAK,EAAE,aAAaV,SAAS;MAAe,CAAC,CAAC;IAChF;IAEA,MAAMW,eAAe,GAAG,MAAMT,cAAc,CAACU,aAAa,CAACZ,SAAS,CAAC;IAErE,MAAMa,WAAW,GAAGC,MAAM,CAACC,IAAI,CAACJ,eAAe,CAAC,CAACK,GAAG,CAACC,UAAU,IAAI;MAC/D,MAAMC,MAAM,GAAGP,eAAe,CAACM,UAAU,CAAC;MAC1C,MAAME,UAAU,GAAGD,MAAM,CAACE,SAAS;MAEnC,OAAO;QACHC,IAAI,EAAEJ,UAAU;QAChBE,UAAU,EAAEA,UAAU;QACtBG,IAAI,EAAEJ,MAAM,CAACI;MACjB,CAAC;IACL,CAAC,CAAC;IAEFvB,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAET,SAAS;MAAEuB,OAAO,EAAEV;IAAY,CAAC,CAAC;EAE7D,CAAC,CAAC,OAAOH,KAAK,EAAE;IACZc,OAAO,CAACd,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;IAClEX,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAsD,CAAC,CAAC;EAC1F;AACJ,CAAC,CAAC;AAEFe,MAAM,CAACC,OAAO,GAAGhC,MAAM","ignoreList":[]}},"mtime":1757137727827},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\lineas_vendibles.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst db = require('../models');\nconst LineaVendible = db.LineaVendible;\n\n// Endpoint para crear una nueva linea vendible\nrouter.post('/', async (req, res) => {\n  try {\n    const nuevaLineaVendible = await LineaVendible.create(req.body);\n    res.status(201).json(nuevaLineaVendible);\n  } catch (error) {\n    console.error('Error al crear la linea vendible:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para crear multiples lineas vendibles de forma masiva\nrouter.post('/bulk', async (req, res) => {\n  try {\n    const lineasVendibles = await LineaVendible.bulkCreate(req.body);\n    res.status(201).json(lineasVendibles);\n  } catch (error) {\n    console.error('Error al crear multiples lineas vendibles:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para obtener todas las lineas vendibles\nrouter.get('/', async (req, res) => {\n  try {\n    const lineasVendibles = await LineaVendible.findAll();\n    res.status(200).json(lineasVendibles);\n  } catch (error) {\n    console.error('Error al obtener todas las lineas vendibles:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener una linea vendible por su nombre\nrouter.get('/:linea', async (req, res) => {\n  try {\n    const {\n      linea\n    } = req.params;\n    const lineaVendible = await LineaVendible.findByPk(nombre);\n    if (!lineaVendible) {\n      return res.status(404).json({\n        error: 'Linea vendible no encontrada'\n      });\n    }\n    res.status(200).json(lineaVendible);\n  } catch (error) {\n    console.error('Error al obtener la linea vendible:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener prefijos por linea vendible\nrouter.get('/prefijo/:linea', async (req, res) => {\n  try {\n    const {\n      prefijo\n    } = req.params;\n    const lineasVendibles = await LineaVendible.findAll({\n      where: {\n        prefijo: prefijo\n      }\n    });\n    res.status(200).json(lineasVendibles);\n  } catch (error) {\n    console.error('Error al obtener los prefijos de la linea vendible:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para actualizar una linea vendible por su campo linea\nrouter.put('/:linea', async (req, res) => {\n  try {\n    const {\n      linea\n    } = req.params;\n    const [filasActualizadas, lineaVendibleActualizada] = await LineaVendible.update(req.body, {\n      where: {\n        linea: linea\n      },\n      returning: true\n    });\n    if (filasActualizadas === 0) {\n      return res.status(404).json({\n        error: 'Categoría no encontrada'\n      });\n    }\n    res.status(200).json(lineaVendibleActualizada[0]);\n  } catch (error) {\n    console.error('Error al actualizar la categoría:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para eliminar una linea vendible por su linea\nrouter.delete('/:linea', async (req, res) => {\n  try {\n    const {\n      linea\n    } = req.params;\n    const lineaVendibleEliminada = await LineaVendible.destroy({\n      where: {\n        linea: linea\n      }\n    });\n    if (lineaVendibleEliminada === 0) {\n      return res.status(404).json({\n        error: 'Linea vendible no encontrada'\n      });\n    }\n    res.status(200).json({\n      message: 'Linea vendible eliminada con éxito'\n    });\n  } catch (error) {\n    console.error('Error al eliminar la linea vendible:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiTGluZWFWZW5kaWJsZSIsInBvc3QiLCJyZXEiLCJyZXMiLCJudWV2YUxpbmVhVmVuZGlibGUiLCJjcmVhdGUiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJsaW5lYXNWZW5kaWJsZXMiLCJidWxrQ3JlYXRlIiwiZ2V0IiwiZmluZEFsbCIsImxpbmVhIiwicGFyYW1zIiwibGluZWFWZW5kaWJsZSIsImZpbmRCeVBrIiwibm9tYnJlIiwicHJlZmlqbyIsIndoZXJlIiwicHV0IiwiZmlsYXNBY3R1YWxpemFkYXMiLCJsaW5lYVZlbmRpYmxlQWN0dWFsaXphZGEiLCJ1cGRhdGUiLCJyZXR1cm5pbmciLCJkZWxldGUiLCJsaW5lYVZlbmRpYmxlRWxpbWluYWRhIiwiZGVzdHJveSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcb3JvZHJcXHdvcmtzcGFjZVxcQVBJc1xcYXBpLWVjb21tZXJjZVxccm91dGVzXFwiLCJzb3VyY2VzIjpbImxpbmVhc192ZW5kaWJsZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgZGIgPSByZXF1aXJlKCcuLi9tb2RlbHMnKTtcclxuY29uc3QgTGluZWFWZW5kaWJsZSA9IGRiLkxpbmVhVmVuZGlibGU7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGNyZWFyIHVuYSBudWV2YSBsaW5lYSB2ZW5kaWJsZVxyXG5yb3V0ZXIucG9zdCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBudWV2YUxpbmVhVmVuZGlibGUgPSBhd2FpdCBMaW5lYVZlbmRpYmxlLmNyZWF0ZShyZXEuYm9keSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24obnVldmFMaW5lYVZlbmRpYmxlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgY3JlYXIgbGEgbGluZWEgdmVuZGlibGU6JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBjcmVhciBtdWx0aXBsZXMgbGluZWFzIHZlbmRpYmxlcyBkZSBmb3JtYSBtYXNpdmFcclxucm91dGVyLnBvc3QoJy9idWxrJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGxpbmVhc1ZlbmRpYmxlcyA9IGF3YWl0IExpbmVhVmVuZGlibGUuYnVsa0NyZWF0ZShyZXEuYm9keSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24obGluZWFzVmVuZGlibGVzKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgY3JlYXIgbXVsdGlwbGVzIGxpbmVhcyB2ZW5kaWJsZXM6JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIHRvZGFzIGxhcyBsaW5lYXMgdmVuZGlibGVzXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgbGluZWFzVmVuZGlibGVzID0gYXdhaXQgTGluZWFWZW5kaWJsZS5maW5kQWxsKCk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24obGluZWFzVmVuZGlibGVzKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciB0b2RhcyBsYXMgbGluZWFzIHZlbmRpYmxlczonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIG9idGVuZXIgdW5hIGxpbmVhIHZlbmRpYmxlIHBvciBzdSBub21icmVcclxucm91dGVyLmdldCgnLzpsaW5lYScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGxpbmVhIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IGxpbmVhVmVuZGlibGUgPSBhd2FpdCBMaW5lYVZlbmRpYmxlLmZpbmRCeVBrKG5vbWJyZSk7XHJcblxyXG4gICAgICAgIGlmICghbGluZWFWZW5kaWJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ0xpbmVhIHZlbmRpYmxlIG5vIGVuY29udHJhZGEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihsaW5lYVZlbmRpYmxlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciBsYSBsaW5lYSB2ZW5kaWJsZTonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIG9idGVuZXIgcHJlZmlqb3MgcG9yIGxpbmVhIHZlbmRpYmxlXHJcbnJvdXRlci5nZXQoJy9wcmVmaWpvLzpsaW5lYScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IHByZWZpam8gfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgbGluZWFzVmVuZGlibGVzID0gYXdhaXQgTGluZWFWZW5kaWJsZS5maW5kQWxsKHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIHByZWZpam86IHByZWZpam9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGxpbmVhc1ZlbmRpYmxlcyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIG9idGVuZXIgbG9zIHByZWZpam9zIGRlIGxhIGxpbmVhIHZlbmRpYmxlOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgYWN0dWFsaXphciB1bmEgbGluZWEgdmVuZGlibGUgcG9yIHN1IGNhbXBvIGxpbmVhXHJcbnJvdXRlci5wdXQoJy86bGluZWEnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBsaW5lYSB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgICBjb25zdCBbZmlsYXNBY3R1YWxpemFkYXMsIGxpbmVhVmVuZGlibGVBY3R1YWxpemFkYV0gPSBhd2FpdCBMaW5lYVZlbmRpYmxlLnVwZGF0ZShyZXEuYm9keSwge1xyXG4gICAgICAgICAgICB3aGVyZTogeyBsaW5lYTogbGluZWEgfSxcclxuICAgICAgICAgICAgcmV0dXJuaW5nOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoZmlsYXNBY3R1YWxpemFkYXMgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdDYXRlZ29yw61hIG5vIGVuY29udHJhZGEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihsaW5lYVZlbmRpYmxlQWN0dWFsaXphZGFbMF0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBhY3R1YWxpemFyIGxhIGNhdGVnb3LDrWE6JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBlbGltaW5hciB1bmEgbGluZWEgdmVuZGlibGUgcG9yIHN1IGxpbmVhXHJcbnJvdXRlci5kZWxldGUoJy86bGluZWEnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBsaW5lYSB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgICBjb25zdCBsaW5lYVZlbmRpYmxlRWxpbWluYWRhID0gYXdhaXQgTGluZWFWZW5kaWJsZS5kZXN0cm95KHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgbGluZWE6IGxpbmVhIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGxpbmVhVmVuZGlibGVFbGltaW5hZGEgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdMaW5lYSB2ZW5kaWJsZSBubyBlbmNvbnRyYWRhJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnTGluZWEgdmVuZGlibGUgZWxpbWluYWRhIGNvbiDDqXhpdG8nIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBlbGltaW5hciBsYSBsaW5lYSB2ZW5kaWJsZTonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxDQUFDLENBQUM7QUFDL0IsTUFBTUMsRUFBRSxHQUFHSCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQy9CLE1BQU1JLGFBQWEsR0FBR0QsRUFBRSxDQUFDQyxhQUFhOztBQUV0QztBQUNBSCxNQUFNLENBQUNJLElBQUksQ0FBQyxHQUFHLEVBQUUsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDakMsSUFBSTtJQUNBLE1BQU1DLGtCQUFrQixHQUFHLE1BQU1KLGFBQWEsQ0FBQ0ssTUFBTSxDQUFDSCxHQUFHLENBQUNJLElBQUksQ0FBQztJQUMvREgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0osa0JBQWtCLENBQUM7RUFDNUMsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQyxtQ0FBbUMsRUFBRUEsS0FBSyxDQUFDO0lBQ3pETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRUEsS0FBSyxDQUFDRTtJQUFRLENBQUMsQ0FBQztFQUNsRDtBQUNKLENBQUMsQ0FBQzs7QUFFRjtBQUNBZCxNQUFNLENBQUNJLElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDckMsSUFBSTtJQUNBLE1BQU1TLGVBQWUsR0FBRyxNQUFNWixhQUFhLENBQUNhLFVBQVUsQ0FBQ1gsR0FBRyxDQUFDSSxJQUFJLENBQUM7SUFDaEVILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNJLGVBQWUsQ0FBQztFQUN6QyxDQUFDLENBQUMsT0FBT0gsS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLDRDQUE0QyxFQUFFQSxLQUFLLENBQUM7SUFDbEVOLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsS0FBSyxFQUFFQSxLQUFLLENBQUNFO0lBQVEsQ0FBQyxDQUFDO0VBQ2xEO0FBQ0osQ0FBQyxDQUFDOztBQUVGO0FBQ0FkLE1BQU0sQ0FBQ2lCLEdBQUcsQ0FBQyxHQUFHLEVBQUUsT0FBT1osR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDaEMsSUFBSTtJQUNBLE1BQU1TLGVBQWUsR0FBRyxNQUFNWixhQUFhLENBQUNlLE9BQU8sQ0FBQyxDQUFDO0lBQ3JEWixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDSSxlQUFlLENBQUM7RUFDekMsQ0FBQyxDQUFDLE9BQU9ILEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQyw4Q0FBOEMsRUFBRUEsS0FBSyxDQUFDO0lBQ3BFTixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUE2QixDQUFDLENBQUM7RUFDakU7QUFDSixDQUFDLENBQUM7O0FBRUY7QUFDQVosTUFBTSxDQUFDaUIsR0FBRyxDQUFDLFNBQVMsRUFBRSxPQUFPWixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN0QyxJQUFJO0lBQ0EsTUFBTTtNQUFFYTtJQUFNLENBQUMsR0FBR2QsR0FBRyxDQUFDZSxNQUFNO0lBQzVCLE1BQU1DLGFBQWEsR0FBRyxNQUFNbEIsYUFBYSxDQUFDbUIsUUFBUSxDQUFDQyxNQUFNLENBQUM7SUFFMUQsSUFBSSxDQUFDRixhQUFhLEVBQUU7TUFDaEIsT0FBT2YsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBK0IsQ0FBQyxDQUFDO0lBQzFFO0lBQ0FOLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNVLGFBQWEsQ0FBQztFQUN2QyxDQUFDLENBQUMsT0FBT1QsS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLHFDQUFxQyxFQUFFQSxLQUFLLENBQUM7SUFDM0ROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsS0FBSyxFQUFFO0lBQTZCLENBQUMsQ0FBQztFQUNqRTtBQUNKLENBQUMsQ0FBQzs7QUFFRjtBQUNBWixNQUFNLENBQUNpQixHQUFHLENBQUMsaUJBQWlCLEVBQUUsT0FBT1osR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDOUMsSUFBSTtJQUNBLE1BQU07TUFBRWtCO0lBQVEsQ0FBQyxHQUFHbkIsR0FBRyxDQUFDZSxNQUFNO0lBQzlCLE1BQU1MLGVBQWUsR0FBRyxNQUFNWixhQUFhLENBQUNlLE9BQU8sQ0FBQztNQUNoRE8sS0FBSyxFQUFFO1FBQ0hELE9BQU8sRUFBRUE7TUFDYjtJQUNKLENBQUMsQ0FBQztJQUNGbEIsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0ksZUFBZSxDQUFDO0VBQ3pDLENBQUMsQ0FBQyxPQUFPSCxLQUFLLEVBQUU7SUFDWkMsT0FBTyxDQUFDRCxLQUFLLENBQUMscURBQXFELEVBQUVBLEtBQUssQ0FBQztJQUMzRU4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxLQUFLLEVBQUU7SUFBNkIsQ0FBQyxDQUFDO0VBQ2pFO0FBQ0osQ0FBQyxDQUFDOztBQUVGO0FBQ0FaLE1BQU0sQ0FBQzBCLEdBQUcsQ0FBQyxTQUFTLEVBQUUsT0FBT3JCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3RDLElBQUk7SUFDQSxNQUFNO01BQUVhO0lBQU0sQ0FBQyxHQUFHZCxHQUFHLENBQUNlLE1BQU07SUFDNUIsTUFBTSxDQUFDTyxpQkFBaUIsRUFBRUMsd0JBQXdCLENBQUMsR0FBRyxNQUFNekIsYUFBYSxDQUFDMEIsTUFBTSxDQUFDeEIsR0FBRyxDQUFDSSxJQUFJLEVBQUU7TUFDdkZnQixLQUFLLEVBQUU7UUFBRU4sS0FBSyxFQUFFQTtNQUFNLENBQUM7TUFDdkJXLFNBQVMsRUFBRTtJQUNmLENBQUMsQ0FBQztJQUVGLElBQUlILGlCQUFpQixLQUFLLENBQUMsRUFBRTtNQUN6QixPQUFPckIsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFQyxLQUFLLEVBQUU7TUFBMEIsQ0FBQyxDQUFDO0lBQ3JFO0lBQ0FOLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNpQix3QkFBd0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUNyRCxDQUFDLENBQUMsT0FBT2hCLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQyxtQ0FBbUMsRUFBRUEsS0FBSyxDQUFDO0lBQ3pETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRUEsS0FBSyxDQUFDRTtJQUFRLENBQUMsQ0FBQztFQUNsRDtBQUNKLENBQUMsQ0FBQzs7QUFFRjtBQUNBZCxNQUFNLENBQUMrQixNQUFNLENBQUMsU0FBUyxFQUFFLE9BQU8xQixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN6QyxJQUFJO0lBQ0EsTUFBTTtNQUFFYTtJQUFNLENBQUMsR0FBR2QsR0FBRyxDQUFDZSxNQUFNO0lBQzVCLE1BQU1ZLHNCQUFzQixHQUFHLE1BQU03QixhQUFhLENBQUM4QixPQUFPLENBQUM7TUFDdkRSLEtBQUssRUFBRTtRQUFFTixLQUFLLEVBQUVBO01BQU07SUFDMUIsQ0FBQyxDQUFDO0lBRUYsSUFBSWEsc0JBQXNCLEtBQUssQ0FBQyxFQUFFO01BQzlCLE9BQU8xQixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUVDLEtBQUssRUFBRTtNQUErQixDQUFDLENBQUM7SUFDMUU7SUFDQU4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFRyxPQUFPLEVBQUU7SUFBcUMsQ0FBQyxDQUFDO0VBQzNFLENBQUMsQ0FBQyxPQUFPRixLQUFLLEVBQUU7SUFDWkMsT0FBTyxDQUFDRCxLQUFLLENBQUMsc0NBQXNDLEVBQUVBLEtBQUssQ0FBQztJQUM1RE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxLQUFLLEVBQUU7SUFBNkIsQ0FBQyxDQUFDO0VBQ2pFO0FBQ0osQ0FBQyxDQUFDO0FBRUZzQixNQUFNLENBQUNDLE9BQU8sR0FBR25DLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express","require","router","Router","db","LineaVendible","post","req","res","nuevaLineaVendible","create","body","status","json","error","console","message","lineasVendibles","bulkCreate","get","findAll","linea","params","lineaVendible","findByPk","nombre","prefijo","where","put","filasActualizadas","lineaVendibleActualizada","update","returning","delete","lineaVendibleEliminada","destroy","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["lineas_vendibles.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\nconst LineaVendible = db.LineaVendible;\r\n\r\n// Endpoint para crear una nueva linea vendible\r\nrouter.post('/', async (req, res) => {\r\n    try {\r\n        const nuevaLineaVendible = await LineaVendible.create(req.body);\r\n        res.status(201).json(nuevaLineaVendible);\r\n    } catch (error) {\r\n        console.error('Error al crear la linea vendible:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para crear multiples lineas vendibles de forma masiva\r\nrouter.post('/bulk', async (req, res) => {\r\n    try {\r\n        const lineasVendibles = await LineaVendible.bulkCreate(req.body);\r\n        res.status(201).json(lineasVendibles);\r\n    } catch (error) {\r\n        console.error('Error al crear multiples lineas vendibles:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener todas las lineas vendibles\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n        const lineasVendibles = await LineaVendible.findAll();\r\n        res.status(200).json(lineasVendibles);\r\n    } catch (error) {\r\n        console.error('Error al obtener todas las lineas vendibles:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener una linea vendible por su nombre\r\nrouter.get('/:linea', async (req, res) => {\r\n    try {\r\n        const { linea } = req.params;\r\n        const lineaVendible = await LineaVendible.findByPk(nombre);\r\n\r\n        if (!lineaVendible) {\r\n            return res.status(404).json({ error: 'Linea vendible no encontrada' });\r\n        }\r\n        res.status(200).json(lineaVendible);\r\n    } catch (error) {\r\n        console.error('Error al obtener la linea vendible:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener prefijos por linea vendible\r\nrouter.get('/prefijo/:linea', async (req, res) => {\r\n    try {\r\n        const { prefijo } = req.params;\r\n        const lineasVendibles = await LineaVendible.findAll({\r\n            where: {\r\n                prefijo: prefijo\r\n            }\r\n        });\r\n        res.status(200).json(lineasVendibles);\r\n    } catch (error) {\r\n        console.error('Error al obtener los prefijos de la linea vendible:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para actualizar una linea vendible por su campo linea\r\nrouter.put('/:linea', async (req, res) => {\r\n    try {\r\n        const { linea } = req.params;\r\n        const [filasActualizadas, lineaVendibleActualizada] = await LineaVendible.update(req.body, {\r\n            where: { linea: linea },\r\n            returning: true,\r\n        });\r\n\r\n        if (filasActualizadas === 0) {\r\n            return res.status(404).json({ error: 'Categoría no encontrada' });\r\n        }\r\n        res.status(200).json(lineaVendibleActualizada[0]);\r\n    } catch (error) {\r\n        console.error('Error al actualizar la categoría:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para eliminar una linea vendible por su linea\r\nrouter.delete('/:linea', async (req, res) => {\r\n    try {\r\n        const { linea } = req.params;\r\n        const lineaVendibleEliminada = await LineaVendible.destroy({\r\n            where: { linea: linea }\r\n        });\r\n\r\n        if (lineaVendibleEliminada === 0) {\r\n            return res.status(404).json({ error: 'Linea vendible no encontrada' });\r\n        }\r\n        res.status(200).json({ message: 'Linea vendible eliminada con éxito' });\r\n    } catch (error) {\r\n        console.error('Error al eliminar la linea vendible:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}},"mtime":1757203625825},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\relaciones_productos.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst db = require('../models');\nconst RelacionProducto = db.RelacionProducto;\n\n// Endpoint para crear una nueva categoría\nrouter.post('/', async (req, res) => {\n  try {\n    const nuevaCategoria = await RelacionProducto.create(req.body);\n    res.status(201).json(nuevaCategoria);\n  } catch (error) {\n    console.error('Error al crear la categoría:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para obtener todas las categorías\nrouter.get('/', async (req, res) => {\n  try {\n    const categorias = await RelacionProducto.findAll();\n    res.status(200).json(categorias);\n  } catch (error) {\n    console.error('Error al obtener todas las categorías:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener una categoría por su nombre\nrouter.get('/:categoria', async (req, res) => {\n  try {\n    const {\n      categoria\n    } = req.params;\n    const nombre = await RelacionProducto.findByPk(categoria);\n    if (!nombre) {\n      return res.status(404).json({\n        error: 'Categoría no encontrada'\n      });\n    }\n    res.status(200).json(nombre);\n  } catch (error) {\n    console.error('Error al obtener la categoría:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para actualizar una categoría por su nombre\nrouter.put('/:categoria', async (req, res) => {\n  try {\n    const {\n      categoria\n    } = req.params;\n    const [filasActualizadas, categoriaActualizada] = await RelacionProducto.update(req.body, {\n      where: {\n        categoria: categoria\n      },\n      returning: true\n    });\n    if (filasActualizadas === 0) {\n      return res.status(404).json({\n        error: 'Categoría no encontrada'\n      });\n    }\n    res.status(200).json(categoriaActualizada[0]);\n  } catch (error) {\n    console.error('Error al actualizar la categoría:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para eliminar una categoría por su nombre\nrouter.delete('/:categoria', async (req, res) => {\n  try {\n    const {\n      categoria\n    } = req.params;\n    const categoriaEliminada = await RelacionProducto.destroy({\n      where: {\n        categoria: categoria\n      }\n    });\n    if (categoriaEliminada === 0) {\n      return res.status(404).json({\n        error: 'Categoría no encontrada'\n      });\n    }\n    res.status(200).json({\n      message: 'Categoría eliminada con éxito'\n    });\n  } catch (error) {\n    console.error('Error al eliminar la categoría:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiUmVsYWNpb25Qcm9kdWN0byIsInBvc3QiLCJyZXEiLCJyZXMiLCJudWV2YUNhdGVnb3JpYSIsImNyZWF0ZSIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSIsImdldCIsImNhdGVnb3JpYXMiLCJmaW5kQWxsIiwiY2F0ZWdvcmlhIiwicGFyYW1zIiwibm9tYnJlIiwiZmluZEJ5UGsiLCJwdXQiLCJmaWxhc0FjdHVhbGl6YWRhcyIsImNhdGVnb3JpYUFjdHVhbGl6YWRhIiwidXBkYXRlIiwid2hlcmUiLCJyZXR1cm5pbmciLCJkZWxldGUiLCJjYXRlZ29yaWFFbGltaW5hZGEiLCJkZXN0cm95IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsicmVsYWNpb25lc19wcm9kdWN0b3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgZGIgPSByZXF1aXJlKCcuLi9tb2RlbHMnKTtcclxuY29uc3QgUmVsYWNpb25Qcm9kdWN0byA9IGRiLlJlbGFjaW9uUHJvZHVjdG87XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGNyZWFyIHVuYSBudWV2YSBjYXRlZ29yw61hXHJcbnJvdXRlci5wb3N0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IG51ZXZhQ2F0ZWdvcmlhID0gYXdhaXQgUmVsYWNpb25Qcm9kdWN0by5jcmVhdGUocmVxLmJvZHkpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKG51ZXZhQ2F0ZWdvcmlhKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgY3JlYXIgbGEgY2F0ZWdvcsOtYTonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIG9idGVuZXIgdG9kYXMgbGFzIGNhdGVnb3LDrWFzXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY2F0ZWdvcmlhcyA9IGF3YWl0IFJlbGFjaW9uUHJvZHVjdG8uZmluZEFsbCgpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGNhdGVnb3JpYXMpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIHRvZGFzIGxhcyBjYXRlZ29yw61hczonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIG9idGVuZXIgdW5hIGNhdGVnb3LDrWEgcG9yIHN1IG5vbWJyZVxyXG5yb3V0ZXIuZ2V0KCcvOmNhdGVnb3JpYScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGNhdGVnb3JpYSB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgICBjb25zdCBub21icmUgPSBhd2FpdCBSZWxhY2lvblByb2R1Y3RvLmZpbmRCeVBrKGNhdGVnb3JpYSk7XHJcblxyXG4gICAgICAgIGlmICghbm9tYnJlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnQ2F0ZWdvcsOtYSBubyBlbmNvbnRyYWRhJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24obm9tYnJlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciBsYSBjYXRlZ29yw61hOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgYWN0dWFsaXphciB1bmEgY2F0ZWdvcsOtYSBwb3Igc3Ugbm9tYnJlXHJcbnJvdXRlci5wdXQoJy86Y2F0ZWdvcmlhJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcmlhIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IFtmaWxhc0FjdHVhbGl6YWRhcywgY2F0ZWdvcmlhQWN0dWFsaXphZGFdID0gYXdhaXQgUmVsYWNpb25Qcm9kdWN0by51cGRhdGUocmVxLmJvZHksIHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgY2F0ZWdvcmlhOiBjYXRlZ29yaWEgfSxcclxuICAgICAgICAgICAgcmV0dXJuaW5nOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoZmlsYXNBY3R1YWxpemFkYXMgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdDYXRlZ29yw61hIG5vIGVuY29udHJhZGEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWFBY3R1YWxpemFkYVswXSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGFjdHVhbGl6YXIgbGEgY2F0ZWdvcsOtYTonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGVsaW1pbmFyIHVuYSBjYXRlZ29yw61hIHBvciBzdSBub21icmVcclxucm91dGVyLmRlbGV0ZSgnLzpjYXRlZ29yaWEnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBjYXRlZ29yaWEgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgY2F0ZWdvcmlhRWxpbWluYWRhID0gYXdhaXQgUmVsYWNpb25Qcm9kdWN0by5kZXN0cm95KHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgY2F0ZWdvcmlhOiBjYXRlZ29yaWEgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoY2F0ZWdvcmlhRWxpbWluYWRhID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnQ2F0ZWdvcsOtYSBubyBlbmNvbnRyYWRhJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnQ2F0ZWdvcsOtYSBlbGltaW5hZGEgY29uIMOpeGl0bycgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGVsaW1pbmFyIGxhIGNhdGVnb3LDrWE6JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8s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","map":{"version":3,"names":["express","require","router","Router","db","RelacionProducto","post","req","res","nuevaCategoria","create","body","status","json","error","console","message","get","categorias","findAll","categoria","params","nombre","findByPk","put","filasActualizadas","categoriaActualizada","update","where","returning","delete","categoriaEliminada","destroy","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["relaciones_productos.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\nconst RelacionProducto = db.RelacionProducto;\r\n\r\n// Endpoint para crear una nueva categoría\r\nrouter.post('/', async (req, res) => {\r\n    try {\r\n        const nuevaCategoria = await RelacionProducto.create(req.body);\r\n        res.status(201).json(nuevaCategoria);\r\n    } catch (error) {\r\n        console.error('Error al crear la categoría:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener todas las categorías\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n        const categorias = await RelacionProducto.findAll();\r\n        res.status(200).json(categorias);\r\n    } catch (error) {\r\n        console.error('Error al obtener todas las categorías:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener una categoría por su nombre\r\nrouter.get('/:categoria', async (req, res) => {\r\n    try {\r\n        const { categoria } = req.params;\r\n        const nombre = await RelacionProducto.findByPk(categoria);\r\n\r\n        if (!nombre) {\r\n            return res.status(404).json({ error: 'Categoría no encontrada' });\r\n        }\r\n        res.status(200).json(nombre);\r\n    } catch (error) {\r\n        console.error('Error al obtener la categoría:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para actualizar una categoría por su nombre\r\nrouter.put('/:categoria', async (req, res) => {\r\n    try {\r\n        const { categoria } = req.params;\r\n        const [filasActualizadas, categoriaActualizada] = await RelacionProducto.update(req.body, {\r\n            where: { categoria: categoria },\r\n            returning: true,\r\n        });\r\n\r\n        if (filasActualizadas === 0) {\r\n            return res.status(404).json({ error: 'Categoría no encontrada' });\r\n        }\r\n        res.status(200).json(categoriaActualizada[0]);\r\n    } catch (error) {\r\n        console.error('Error al actualizar la categoría:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para eliminar una categoría por su nombre\r\nrouter.delete('/:categoria', async (req, res) => {\r\n    try {\r\n        const { categoria } = req.params;\r\n        const categoriaEliminada = await RelacionProducto.destroy({\r\n            where: { categoria: categoria }\r\n        });\r\n\r\n        if (categoriaEliminada === 0) {\r\n            return res.status(404).json({ error: 'Categoría no encontrada' });\r\n        }\r\n        res.status(200).json({ message: 'Categoría eliminada con éxito' });\r\n    } catch (error) {\r\n        console.error('Error al eliminar la categoría:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}},"mtime":1757227358615},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\productos_vistos.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst db = require('../models');\nconst ProductoVisto = db.ProductoVisto;\nconst {\n  Op\n} = require('sequelize');\n\n// Endpoint para obtener productos por email\nrouter.get('/email/:email', async (req, res) => {\n  try {\n    const {\n      email\n    } = req.params;\n    const productos = await ProductoVisto.findAll({\n      where: {\n        email: email\n      }\n    });\n    if (productos.length === 0) {\n      return res.status(404).json({\n        error: 'No se encontraron productos para este email'\n      });\n    }\n    res.status(200).json(productos);\n  } catch (error) {\n    console.error('Error al obtener los productos por email:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para crear un nuevo producto\nrouter.post('/', async (req, res) => {\n  try {\n    // Usa `req.body` para acceder a los datos enviados en la solicitud\n    const nuevoProducto = await ProductoVisto.create(req.body);\n    res.status(201).json(nuevoProducto);\n  } catch (error) {\n    console.error('Error al crear el producto sugerido:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para borrar un producto por su clave\nrouter.delete('/:clave', async (req, res) => {\n  try {\n    const {\n      clave\n    } = req.params;\n    const productoBorrado = await ProductoVisto.destroy({\n      where: {\n        clave: clave\n      }\n    });\n    if (productoBorrado === 0) {\n      return res.status(404).json({\n        error: 'Producto no encontrado'\n      });\n    }\n    res.status(200).json({\n      message: 'Producto eliminado con éxito'\n    });\n  } catch (error) {\n    console.error('Error al borrar el producto:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener todos los productos\nrouter.get('/', async (req, res) => {\n  try {\n    const productos = await ProductoVisto.findAll();\n    res.status(200).json(productos);\n  } catch (error) {\n    console.error('Error al obtener todos los productos:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener un producto por su clave\nrouter.get('/:clave', async (req, res) => {\n  console.log(req.params);\n  try {\n    const {\n      clave\n    } = req.params;\n    const producto = await ProductoVisto.findByPk(clave);\n    if (!producto) {\n      return res.status(404).json({\n        error: 'Producto no encontrado'\n      });\n    }\n    res.status(200).json(producto);\n  } catch (error) {\n    console.error('Error al obtener el producto por clave:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiUHJvZHVjdG9WaXN0byIsIk9wIiwiZ2V0IiwicmVxIiwicmVzIiwiZW1haWwiLCJwYXJhbXMiLCJwcm9kdWN0b3MiLCJmaW5kQWxsIiwid2hlcmUiLCJsZW5ndGgiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwicG9zdCIsIm51ZXZvUHJvZHVjdG8iLCJjcmVhdGUiLCJib2R5IiwibWVzc2FnZSIsImRlbGV0ZSIsImNsYXZlIiwicHJvZHVjdG9Cb3JyYWRvIiwiZGVzdHJveSIsImxvZyIsInByb2R1Y3RvIiwiZmluZEJ5UGsiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG9yb2RyXFx3b3Jrc3BhY2VcXEFQSXNcXGFwaS1lY29tbWVyY2VcXHJvdXRlc1xcIiwic291cmNlcyI6WyJwcm9kdWN0b3NfdmlzdG9zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IGRiID0gcmVxdWlyZSgnLi4vbW9kZWxzJyk7XHJcbmNvbnN0IFByb2R1Y3RvVmlzdG8gPSBkYi5Qcm9kdWN0b1Zpc3RvO1xyXG5jb25zdCB7IE9wIH0gPSByZXF1aXJlKCdzZXF1ZWxpemUnKTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgb2J0ZW5lciBwcm9kdWN0b3MgcG9yIGVtYWlsXHJcbnJvdXRlci5nZXQoJy9lbWFpbC86ZW1haWwnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBlbWFpbCB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgICBjb25zdCBwcm9kdWN0b3MgPSBhd2FpdCBQcm9kdWN0b1Zpc3RvLmZpbmRBbGwoe1xyXG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAocHJvZHVjdG9zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ05vIHNlIGVuY29udHJhcm9uIHByb2R1Y3RvcyBwYXJhIGVzdGUgZW1haWwnIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdG9zKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciBsb3MgcHJvZHVjdG9zIHBvciBlbWFpbDonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGNyZWFyIHVuIG51ZXZvIHByb2R1Y3RvXHJcbnJvdXRlci5wb3N0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIFVzYSBgcmVxLmJvZHlgIHBhcmEgYWNjZWRlciBhIGxvcyBkYXRvcyBlbnZpYWRvcyBlbiBsYSBzb2xpY2l0dWRcclxuICAgICAgICBjb25zdCBudWV2b1Byb2R1Y3RvID0gYXdhaXQgUHJvZHVjdG9WaXN0by5jcmVhdGUocmVxLmJvZHkpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKG51ZXZvUHJvZHVjdG8pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBjcmVhciBlbCBwcm9kdWN0byBzdWdlcmlkbzonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGJvcnJhciB1biBwcm9kdWN0byBwb3Igc3UgY2xhdmVcclxucm91dGVyLmRlbGV0ZSgnLzpjbGF2ZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGNsYXZlIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IHByb2R1Y3RvQm9ycmFkbyA9IGF3YWl0IFByb2R1Y3RvVmlzdG8uZGVzdHJveSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGNsYXZlOiBjbGF2ZSB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChwcm9kdWN0b0JvcnJhZG8gPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdQcm9kdWN0byBubyBlbmNvbnRyYWRvJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1Byb2R1Y3RvIGVsaW1pbmFkbyBjb24gw6l4aXRvJyB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgYm9ycmFyIGVsIHByb2R1Y3RvOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgb2J0ZW5lciB0b2RvcyBsb3MgcHJvZHVjdG9zXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdG9zID0gYXdhaXQgUHJvZHVjdG9WaXN0by5maW5kQWxsKCk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdG9zKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciB0b2RvcyBsb3MgcHJvZHVjdG9zOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgb2J0ZW5lciB1biBwcm9kdWN0byBwb3Igc3UgY2xhdmVcclxucm91dGVyLmdldCgnLzpjbGF2ZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2cocmVxLnBhcmFtcyk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhdmUgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdG8gPSBhd2FpdCBQcm9kdWN0b1Zpc3RvLmZpbmRCeVBrKGNsYXZlKTtcclxuXHJcbiAgICAgICAgaWYgKCFwcm9kdWN0bykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ1Byb2R1Y3RvIG5vIGVuY29udHJhZG8nIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdG8pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIGVsIHByb2R1Y3RvIHBvciBjbGF2ZTonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxN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Q0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUE2QixDQUFDLENBQUM7RUFDakU7QUFDSixDQUFDLENBQUM7O0FBRUY7QUFDQWhCLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLEdBQUcsRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNoQyxJQUFJO0lBQ0EsTUFBTUcsU0FBUyxHQUFHLE1BQU1QLGFBQWEsQ0FBQ1EsT0FBTyxDQUFDLENBQUM7SUFDL0NKLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNMLFNBQVMsQ0FBQztFQUNuQyxDQUFDLENBQUMsT0FBT00sS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLHVDQUF1QyxFQUFFQSxLQUFLLENBQUM7SUFDN0RULEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsS0FBSyxFQUFFO0lBQTZCLENBQUMsQ0FBQztFQUNqRTtBQUNKLENBQUMsQ0FBQzs7QUFFRjtBQUNBaEIsTUFBTSxDQUFDSyxHQUFHLENBQUMsU0FBUyxFQUFFLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3RDVSxPQUFPLENBQUNVLEdBQUcsQ0FBQ3JCLEdBQUcsQ0FBQ0csTUFBTSxDQUFDO0VBQ3ZCLElBQUk7SUFDQSxNQUFNO01BQUVlO0lBQU0sQ0FBQyxHQUFHbEIsR0FBRyxDQUFDRyxNQUFNO0lBQzVCLE1BQU1tQixRQUFRLEdBQUcsTUFBTXpCLGFBQWEsQ0FBQzBCLFFBQVEsQ0FBQ0wsS0FBSyxDQUFDO0lBRXBELElBQUksQ0FBQ0ksUUFBUSxFQUFFO01BQ1gsT0FBT3JCLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUMsS0FBSyxFQUFFO01BQXlCLENBQUMsQ0FBQztJQUNwRTtJQUVBVCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDYSxRQUFRLENBQUM7RUFDbEMsQ0FBQyxDQUFDLE9BQU9aLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQyx5Q0FBeUMsRUFBRUEsS0FBSyxDQUFDO0lBQy9EVCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUE2QixDQUFDLENBQUM7RUFDakU7QUFDSixDQUFDLENBQUM7QUFFRmMsTUFBTSxDQUFDQyxPQUFPLEdBQUcvQixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["express","require","router","Router","db","ProductoVisto","Op","get","req","res","email","params","productos","findAll","where","length","status","json","error","console","post","nuevoProducto","create","body","message","delete","clave","productoBorrado","destroy","log","producto","findByPk","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["productos_vistos.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\nconst ProductoVisto = db.ProductoVisto;\r\nconst { Op } = require('sequelize');\r\n\r\n// Endpoint para obtener productos por email\r\nrouter.get('/email/:email', async (req, res) => {\r\n    try {\r\n        const { email } = req.params;\r\n        const productos = await ProductoVisto.findAll({\r\n            where: { email: email }\r\n        });\r\n\r\n        if (productos.length === 0) {\r\n            return res.status(404).json({ error: 'No se encontraron productos para este email' });\r\n        }\r\n\r\n        res.status(200).json(productos);\r\n    } catch (error) {\r\n        console.error('Error al obtener los productos por email:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para crear un nuevo producto\r\nrouter.post('/', async (req, res) => {\r\n    try {\r\n        // Usa `req.body` para acceder a los datos enviados en la solicitud\r\n        const nuevoProducto = await ProductoVisto.create(req.body);\r\n        res.status(201).json(nuevoProducto);\r\n    } catch (error) {\r\n        console.error('Error al crear el producto sugerido:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para borrar un producto por su clave\r\nrouter.delete('/:clave', async (req, res) => {\r\n    try {\r\n        const { clave } = req.params;\r\n        const productoBorrado = await ProductoVisto.destroy({\r\n            where: { clave: clave }\r\n        });\r\n\r\n        if (productoBorrado === 0) {\r\n            return res.status(404).json({ error: 'Producto no encontrado' });\r\n        }\r\n\r\n        res.status(200).json({ message: 'Producto eliminado con éxito' });\r\n    } catch (error) {\r\n        console.error('Error al borrar el producto:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener todos los productos\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n        const productos = await ProductoVisto.findAll();\r\n        res.status(200).json(productos);\r\n    } catch (error) {\r\n        console.error('Error al obtener todos los productos:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener un producto por su clave\r\nrouter.get('/:clave', async (req, res) => {\r\n    console.log(req.params);\r\n    try {\r\n        const { clave } = req.params;\r\n        const producto = await ProductoVisto.findByPk(clave);\r\n\r\n        if (!producto) {\r\n            return res.status(404).json({ error: 'Producto no encontrado' });\r\n        }\r\n\r\n        res.status(200).json(producto);\r\n    } catch (error) {\r\n        console.error('Error al obtener el producto por clave:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}},"mtime":1757795084876},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\productos_promocion.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst db = require('../models');\nconst ProductoPromocion = db.ProductoPromocion;\nconst {\n  Op\n} = require('sequelize');\n\n// Endpoint para crear un nuevo producto\nrouter.post('/', async (req, res) => {\n  try {\n    // Usa `req.body` para acceder a los datos enviados en la solicitud\n    const nuevoProducto = await ProductoPromocion.create(req.body);\n    res.status(201).json(nuevoProducto);\n  } catch (error) {\n    console.error('Error al crear el producto promoción:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para borrar un producto por su clave\nrouter.delete('/:clave', async (req, res) => {\n  try {\n    const {\n      clave\n    } = req.params;\n    const productoBorrado = await ProductoPromocion.destroy({\n      where: {\n        clave: clave\n      }\n    });\n    if (productoBorrado === 0) {\n      return res.status(404).json({\n        error: 'Producto en promoción no encontrado'\n      });\n    }\n    res.status(200).json({\n      message: 'Producto eliminado con éxito'\n    });\n  } catch (error) {\n    console.error('Error al borrar el producto en promoción:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener todos los productos\nrouter.get('/', async (req, res) => {\n  try {\n    const productos = await ProductoPromocion.findAll();\n    res.status(200).json(productos);\n  } catch (error) {\n    console.error('Error al obtener todos los productos en promoción:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiUHJvZHVjdG9Qcm9tb2Npb24iLCJPcCIsInBvc3QiLCJyZXEiLCJyZXMiLCJudWV2b1Byb2R1Y3RvIiwiY3JlYXRlIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiZGVsZXRlIiwiY2xhdmUiLCJwYXJhbXMiLCJwcm9kdWN0b0JvcnJhZG8iLCJkZXN0cm95Iiwid2hlcmUiLCJnZXQiLCJwcm9kdWN0b3MiLCJmaW5kQWxsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsicHJvZHVjdG9zX3Byb21vY2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL21vZGVscycpO1xyXG5jb25zdCBQcm9kdWN0b1Byb21vY2lvbiA9IGRiLlByb2R1Y3RvUHJvbW9jaW9uO1xyXG5jb25zdCB7IE9wIH0gPSByZXF1aXJlKCdzZXF1ZWxpemUnKTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgY3JlYXIgdW4gbnVldm8gcHJvZHVjdG9cclxucm91dGVyLnBvc3QoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gVXNhIGByZXEuYm9keWAgcGFyYSBhY2NlZGVyIGEgbG9zIGRhdG9zIGVudmlhZG9zIGVuIGxhIHNvbGljaXR1ZFxyXG4gICAgICAgIGNvbnN0IG51ZXZvUHJvZHVjdG8gPSBhd2FpdCBQcm9kdWN0b1Byb21vY2lvbi5jcmVhdGUocmVxLmJvZHkpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKG51ZXZvUHJvZHVjdG8pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBjcmVhciBlbCBwcm9kdWN0byBwcm9tb2Npw7NuOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgYm9ycmFyIHVuIHByb2R1Y3RvIHBvciBzdSBjbGF2ZVxyXG5yb3V0ZXIuZGVsZXRlKCcvOmNsYXZlJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgY2xhdmUgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdG9Cb3JyYWRvID0gYXdhaXQgUHJvZHVjdG9Qcm9tb2Npb24uZGVzdHJveSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGNsYXZlOiBjbGF2ZSB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChwcm9kdWN0b0JvcnJhZG8gPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdQcm9kdWN0byBlbiBwcm9tb2Npw7NuIG5vIGVuY29udHJhZG8nIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnUHJvZHVjdG8gZWxpbWluYWRvIGNvbiDDqXhpdG8nIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBib3JyYXIgZWwgcHJvZHVjdG8gZW4gcHJvbW9jacOzbjonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIG9idGVuZXIgdG9kb3MgbG9zIHByb2R1Y3Rvc1xyXG5yb3V0ZXIuZ2V0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHByb2R1Y3RvcyA9IGF3YWl0IFByb2R1Y3RvUHJvbW9jaW9uLmZpbmRBbGwoKTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihwcm9kdWN0b3MpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIHRvZG9zIGxvcyBwcm9kdWN0b3MgZW4gcHJvbW9jacOzbjonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxDQUFDLENBQUM7QUFDL0IsTUFBTUMsRUFBRSxHQUFHSCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQy9CLE1BQU1JLGlCQUFpQixHQUFHRCxFQUFFLENBQUNDLGlCQUFpQjtBQUM5QyxNQUFNO0VBQUVDO0FBQUcsQ0FBQyxHQUFHTCxPQUFPLENBQUMsV0FBVyxDQUFDOztBQUVuQztBQUNBQyxNQUFNLENBQUNLLElBQUksQ0FBQyxHQUFHLEVBQUUsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDakMsSUFBSTtJQUNBO0lBQ0EsTUFBTUMsYUFBYSxHQUFHLE1BQU1MLGlCQUFpQixDQUFDTSxNQUFNLENBQUNILEdBQUcsQ0FBQ0ksSUFBSSxDQUFDO0lBQzlESCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDSixhQUFhLENBQUM7RUFDdkMsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQyx1Q0FBdUMsRUFBRUEsS0FBSyxDQUFDO0lBQzdETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRUEsS0FBSyxDQUFDRTtJQUFRLENBQUMsQ0FBQztFQUNsRDtBQUNKLENBQUMsQ0FBQzs7QUFFRjtBQUNBZixNQUFNLENBQUNnQixNQUFNLENBQUMsU0FBUyxFQUFFLE9BQU9WLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3pDLElBQUk7SUFDQSxNQUFNO01BQUVVO0lBQU0sQ0FBQyxHQUFHWCxHQUFHLENBQUNZLE1BQU07SUFDNUIsTUFBTUMsZUFBZSxHQUFHLE1BQU1oQixpQkFBaUIsQ0FBQ2lCLE9BQU8sQ0FBQztNQUNwREMsS0FBSyxFQUFFO1FBQUVKLEtBQUssRUFBRUE7TUFBTTtJQUMxQixDQUFDLENBQUM7SUFFRixJQUFJRSxlQUFlLEtBQUssQ0FBQyxFQUFFO01BQ3ZCLE9BQU9aLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUMsS0FBSyxFQUFFO01BQXNDLENBQUMsQ0FBQztJQUNqRjtJQUVBTixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVHLE9BQU8sRUFBRTtJQUErQixDQUFDLENBQUM7RUFDckUsQ0FBQyxDQUFDLE9BQU9GLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQywyQ0FBMkMsRUFBRUEsS0FBSyxDQUFDO0lBQ2pFTixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUE2QixDQUFDLENBQUM7RUFDakU7QUFDSixDQUFDLENBQUM7O0FBRUY7QUFDQWIsTUFBTSxDQUFDc0IsR0FBRyxDQUFDLEdBQUcsRUFBRSxPQUFPaEIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDaEMsSUFBSTtJQUNBLE1BQU1nQixTQUFTLEdBQUcsTUFBTXBCLGlCQUFpQixDQUFDcUIsT0FBTyxDQUFDLENBQUM7SUFDbkRqQixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDVyxTQUFTLENBQUM7RUFDbkMsQ0FBQyxDQUFDLE9BQU9WLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQyxvREFBb0QsRUFBRUEsS0FBSyxDQUFDO0lBQzFFTixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUE2QixDQUFDLENBQUM7RUFDakU7QUFDSixDQUFDLENBQUM7QUFFRlksTUFBTSxDQUFDQyxPQUFPLEdBQUcxQixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["express","require","router","Router","db","ProductoPromocion","Op","post","req","res","nuevoProducto","create","body","status","json","error","console","message","delete","clave","params","productoBorrado","destroy","where","get","productos","findAll","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["productos_promocion.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\nconst ProductoPromocion = db.ProductoPromocion;\r\nconst { Op } = require('sequelize');\r\n\r\n// Endpoint para crear un nuevo producto\r\nrouter.post('/', async (req, res) => {\r\n    try {\r\n        // Usa `req.body` para acceder a los datos enviados en la solicitud\r\n        const nuevoProducto = await ProductoPromocion.create(req.body);\r\n        res.status(201).json(nuevoProducto);\r\n    } catch (error) {\r\n        console.error('Error al crear el producto promoción:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para borrar un producto por su clave\r\nrouter.delete('/:clave', async (req, res) => {\r\n    try {\r\n        const { clave } = req.params;\r\n        const productoBorrado = await ProductoPromocion.destroy({\r\n            where: { clave: clave }\r\n        });\r\n\r\n        if (productoBorrado === 0) {\r\n            return res.status(404).json({ error: 'Producto en promoción no encontrado' });\r\n        }\r\n\r\n        res.status(200).json({ message: 'Producto eliminado con éxito' });\r\n    } catch (error) {\r\n        console.error('Error al borrar el producto en promoción:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener todos los productos\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n        const productos = await ProductoPromocion.findAll();\r\n        res.status(200).json(productos);\r\n    } catch (error) {\r\n        console.error('Error al obtener todos los productos en promoción:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,EAAE,GAAGH,OAAO,CAAC,WAAW,CAAC;AAC/B,MAAMI,iBAAiB,GAAGD,EAAE,CAACC,iBAAiB;AAC9C,MAAM;EAAEC;AAAG,CAAC,GAAGL,OAAO,CAAC,WAAW,CAAC;;AAEnC;AACAC,MAAM,CAACK,IAAI,CAAC,GAAG,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACjC,IAAI;IACA;IACA,MAAMC,aAAa,GAAG,MAAML,iBAAiB,CAACM,MAAM,CAACH,GAAG,CAACI,IAAI,CAAC;IAC9DH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACJ,aAAa,CAAC;EACvC,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;IAC7DN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAEA,KAAK,CAACE;IAAQ,CAAC,CAAC;EAClD;AACJ,CAAC,CAAC;;AAEF;AACAf,MAAM,CAACgB,MAAM,CAAC,SAAS,EAAE,OAAOV,GAAG,EAAEC,GAAG,KAAK;EACzC,IAAI;IACA,MAAM;MAAEU;IAAM,CAAC,GAAGX,GAAG,CAACY,MAAM;IAC5B,MAAMC,eAAe,GAAG,MAAMhB,iBAAiB,CAACiB,OAAO,CAAC;MACpDC,KAAK,EAAE;QAAEJ,KAAK,EAAEA;MAAM;IAC1B,CAAC,CAAC;IAEF,IAAIE,eAAe,KAAK,CAAC,EAAE;MACvB,OAAOZ,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,KAAK,EAAE;MAAsC,CAAC,CAAC;IACjF;IAEAN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEG,OAAO,EAAE;IAA+B,CAAC,CAAC;EACrE,CAAC,CAAC,OAAOF,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;IACjEN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAA6B,CAAC,CAAC;EACjE;AACJ,CAAC,CAAC;;AAEF;AACAb,MAAM,CAACsB,GAAG,CAAC,GAAG,EAAE,OAAOhB,GAAG,EAAEC,GAAG,KAAK;EAChC,IAAI;IACA,MAAMgB,SAAS,GAAG,MAAMpB,iBAAiB,CAACqB,OAAO,CAAC,CAAC;IACnDjB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACW,SAAS,CAAC;EACnC,CAAC,CAAC,OAAOV,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,oDAAoD,EAAEA,KAAK,CAAC;IAC1EN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAA6B,CAAC,CAAC;EACjE;AACJ,CAAC,CAAC;AAEFY,MAAM,CAACC,OAAO,GAAG1B,MAAM","ignoreList":[]}},"mtime":1758053758622},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\carritos.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst db = require('../models');\nconst Carrito = db.Carrito;\nconst {\n  Op\n} = require('sequelize');\n\n// Endpoint para crear un nuevo carrito\nrouter.post('/', async (req, res) => {\n  try {\n    // Usa `req.body` para acceder a los datos enviados en la solicitud\n    const nuevoCarrito = await Carrito.create(req.body);\n    res.status(201).json(nuevoCarrito);\n  } catch (error) {\n    console.error('Error al crear el carrito:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para borrar un carrito por email\nrouter.delete('/:email', async (req, res) => {\n  try {\n    const {\n      email\n    } = req.params;\n    const carritoBorrado = await Carrito.destroy({\n      where: {\n        email: email\n      }\n    });\n    if (carritoBorrado === 0) {\n      return res.status(404).json({\n        error: 'Carrito no encontrado'\n      });\n    }\n    res.status(200).json({\n      message: 'Carrito eliminado con éxito'\n    });\n  } catch (error) {\n    console.error('Error al borrar el carrito:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener un carrito por email\nrouter.get('/:email', async (req, res) => {\n  console.log(req.params);\n  try {\n    const {\n      email\n    } = req.params;\n    const carrito = await Carrito.findAll({\n      where: {\n        email: {\n          [Op.like]: `%${email}%` // Usamos Op.like para una búsqueda flexible\n        }\n      }\n    });\n    if (!carrito) {\n      return res.status(404).json({\n        error: 'Carrito no encontrado'\n      });\n    }\n    res.status(200).json(carrito);\n  } catch (error) {\n    console.error('Error al obtener el carrito por email:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener todos los carritos\nrouter.get('/', async (req, res) => {\n  try {\n    const carritos = await Carrito.findAll();\n    res.status(200).json(carritos);\n  } catch (error) {\n    console.error('Error al obtener todos los carritos:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiQ2Fycml0byIsIk9wIiwicG9zdCIsInJlcSIsInJlcyIsIm51ZXZvQ2Fycml0byIsImNyZWF0ZSIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSIsImRlbGV0ZSIsImVtYWlsIiwicGFyYW1zIiwiY2Fycml0b0JvcnJhZG8iLCJkZXN0cm95Iiwid2hlcmUiLCJnZXQiLCJsb2ciLCJjYXJyaXRvIiwiZmluZEFsbCIsImxpa2UiLCJjYXJyaXRvcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcb3JvZHJcXHdvcmtzcGFjZVxcQVBJc1xcYXBpLWVjb21tZXJjZVxccm91dGVzXFwiLCJzb3VyY2VzIjpbImNhcnJpdG9zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IGRiID0gcmVxdWlyZSgnLi4vbW9kZWxzJyk7XHJcbmNvbnN0IENhcnJpdG8gPSBkYi5DYXJyaXRvO1xyXG5jb25zdCB7IE9wIH0gPSByZXF1aXJlKCdzZXF1ZWxpemUnKTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgY3JlYXIgdW4gbnVldm8gY2Fycml0b1xyXG5yb3V0ZXIucG9zdCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBVc2EgYHJlcS5ib2R5YCBwYXJhIGFjY2VkZXIgYSBsb3MgZGF0b3MgZW52aWFkb3MgZW4gbGEgc29saWNpdHVkXHJcbiAgICAgICAgY29uc3QgbnVldm9DYXJyaXRvID0gYXdhaXQgQ2Fycml0by5jcmVhdGUocmVxLmJvZHkpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKG51ZXZvQ2Fycml0byk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGNyZWFyIGVsIGNhcnJpdG86JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBib3JyYXIgdW4gY2Fycml0byBwb3IgZW1haWxcclxucm91dGVyLmRlbGV0ZSgnLzplbWFpbCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGVtYWlsIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IGNhcnJpdG9Cb3JyYWRvID0gYXdhaXQgQ2Fycml0by5kZXN0cm95KHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGVtYWlsIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGNhcnJpdG9Cb3JyYWRvID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnQ2Fycml0byBubyBlbmNvbnRyYWRvJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ0NhcnJpdG8gZWxpbWluYWRvIGNvbiDDqXhpdG8nIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBib3JyYXIgZWwgY2Fycml0bzonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIG9idGVuZXIgdW4gY2Fycml0byBwb3IgZW1haWxcclxucm91dGVyLmdldCgnLzplbWFpbCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2cocmVxLnBhcmFtcyk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZW1haWwgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgY2Fycml0byA9IGF3YWl0IENhcnJpdG8uZmluZEFsbCh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBlbWFpbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIFtPcC5saWtlXTogYCUke2VtYWlsfSVgIC8vIFVzYW1vcyBPcC5saWtlIHBhcmEgdW5hIGLDunNxdWVkYSBmbGV4aWJsZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghY2Fycml0bykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ0NhcnJpdG8gbm8gZW5jb250cmFkbycgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXJyaXRvKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciBlbCBjYXJyaXRvIHBvciBlbWFpbDonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIG9idGVuZXIgdG9kb3MgbG9zIGNhcnJpdG9zXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY2Fycml0b3MgPSBhd2FpdCBDYXJyaXRvLmZpbmRBbGwoKTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXJyaXRvcyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIG9idGVuZXIgdG9kb3MgbG9zIGNhcnJpdG9zOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxDQUFDLENBQUM7QUFDL0IsTUFBTUMsRUFBRSxHQUFHSCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQy9CLE1BQU1JLE9BQU8sR0FBR0QsRUFBRSxDQUFDQyxPQUFPO0FBQzFCLE1BQU07RUFBRUM7QUFBRyxDQUFDLEdBQUdMLE9BQU8sQ0FBQyxXQUFXLENBQUM7O0FBRW5DO0FBQ0FDLE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLEdBQUcsRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNqQyxJQUFJO0lBQ0E7SUFDQSxNQUFNQyxZQUFZLEdBQUcsTUFBTUwsT0FBTyxDQUFDTSxNQUFNLENBQUNILEdBQUcsQ0FBQ0ksSUFBSSxDQUFDO0lBQ25ESCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDSixZQUFZLENBQUM7RUFDdEMsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQyw0QkFBNEIsRUFBRUEsS0FBSyxDQUFDO0lBQ2xETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRUEsS0FBSyxDQUFDRTtJQUFRLENBQUMsQ0FBQztFQUNsRDtBQUNKLENBQUMs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","map":{"version":3,"names":["express","require","router","Router","db","Carrito","Op","post","req","res","nuevoCarrito","create","body","status","json","error","console","message","delete","email","params","carritoBorrado","destroy","where","get","log","carrito","findAll","like","carritos","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["carritos.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\nconst Carrito = db.Carrito;\r\nconst { Op } = require('sequelize');\r\n\r\n// Endpoint para crear un nuevo carrito\r\nrouter.post('/', async (req, res) => {\r\n    try {\r\n        // Usa `req.body` para acceder a los datos enviados en la solicitud\r\n        const nuevoCarrito = await Carrito.create(req.body);\r\n        res.status(201).json(nuevoCarrito);\r\n    } catch (error) {\r\n        console.error('Error al crear el carrito:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para borrar un carrito por email\r\nrouter.delete('/:email', async (req, res) => {\r\n    try {\r\n        const { email } = req.params;\r\n        const carritoBorrado = await Carrito.destroy({\r\n            where: { email: email }\r\n        });\r\n\r\n        if (carritoBorrado === 0) {\r\n            return res.status(404).json({ error: 'Carrito no encontrado' });\r\n        }\r\n\r\n        res.status(200).json({ message: 'Carrito eliminado con éxito' });\r\n    } catch (error) {\r\n        console.error('Error al borrar el carrito:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener un carrito por email\r\nrouter.get('/:email', async (req, res) => {\r\n    console.log(req.params);\r\n    try {\r\n        const { email } = req.params;\r\n        const carrito = await Carrito.findAll({\r\n            where: {\r\n                email: {\r\n                    [Op.like]: `%${email}%` // Usamos Op.like para una búsqueda flexible\r\n                }\r\n            }\r\n        });\r\n\r\n        if (!carrito) {\r\n            return res.status(404).json({ error: 'Carrito no encontrado' });\r\n        }\r\n\r\n        res.status(200).json(carrito);\r\n    } catch (error) {\r\n        console.error('Error al obtener el carrito por email:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener todos los carritos\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n        const carritos = await Carrito.findAll();\r\n        res.status(200).json(carritos);\r\n    } catch (error) {\r\n        console.error('Error al obtener todos los carritos:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n\r\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}},"mtime":1761360591567},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\pedidos.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst db = require('../models');\nconst Pedido = db.Pedido;\nconst nodemailer = require('nodemailer');\nconst React = require('react');\nconst {\n  renderToStaticMarkup\n} = require('react-dom/server');\nconst PedidoEmail = require('../templates/PedidoEmail.jsx');\nconst Cliente = db.Cliente;\n\n// Configuración del transporter (DEBES USAR TUS CREDENCIALES REALES AQUÍ)\nconst transporter = nodemailer.createTransport({\n  host: \"mail.sealmarket.mx\",\n  port: 465,\n  secure: true,\n  // Usar 'true' si el puerto es 465\n  auth: {\n    user: \"auto-confirm@sealmarket.mx\",\n    // Tu correo de envío\n    pass: \"Trof#4102O\" // Tu contraseña o App Password\n  }\n});\n\n// 🚨 FUNCIÓN DE SERVICIO: Obtiene el nombre completo del titular\nasync function obtenerNombreTitular(email) {\n  try {\n    const cliente = await Cliente.findOne({\n      where: {\n        email: email\n      },\n      attributes: ['nombre', 'apellido']\n    });\n    if (cliente) {\n      // Combinamos nombre y apellido para el nombre completo\n      const nombreCompleto = `${cliente.nombre} ${cliente.apellido}`.trim();\n\n      // 🚨 CLAVE: Dividimos el nombre por el espacio y tomamos la primera palabra\n      const primerNombre = cliente.nombre.split(' ')[0];\n      return {\n        completo: nombreCompleto,\n        saludo: primerNombre\n      };\n    }\n    return {\n      completo: 'Titular no encontrado',\n      saludo: 'Cliente'\n    };\n  } catch (error) {\n    console.error('Error al buscar el nombre del titular:', error);\n    return {\n      completo: 'Error de búsqueda',\n      saludo: 'Cliente'\n    };\n  }\n}\n\n// Endpoint para enviar la confirmación de pedido\nrouter.post('/:folio/enviar-confirmacion', async (req, res) => {\n  const {\n    folio\n  } = req.params;\n  const itemsArray = req.body;\n  try {\n    // 1. Validación del Body\n    if (!Array.isArray(itemsArray) || itemsArray.length === 0) {\n      return res.status(400).json({\n        error: 'El cuerpo de la solicitud debe ser un arreglo no vacío de partidas de pedido.'\n      });\n    }\n    const primeraPartida = itemsArray[0];\n    if (!primeraPartida.email || !primeraPartida.enviar_a || !primeraPartida.total_pedido) {\n      return res.status(400).json({\n        error: 'Faltan campos de cabecera críticos (email, enviar_a, o total_pedido) en el cuerpo de la solicitud.'\n      });\n    }\n\n    // 🚨 CLAVE: Llamada a la función para obtener el nombre del titular\n    //const nombreTitular = await obtenerNombreTitular(primeraPartida.email);\n\n    // 2. Reestructurar las partidas en el objeto 'pedido' para la plantilla\n    const pedidoData = {\n      folio: primeraPartida.folio,\n      emailCliente: primeraPartida.email,\n      enviar_a: primeraPartida.enviar_a,\n      estatus: primeraPartida.estatus || 'Pendiente de envío',\n      // 🚨 NUEVO CAMPO AGREGADO\n      //nombreTitular: nombreTitular, \n\n      // Campos adicionales de cabecera\n      createdAt: primeraPartida.createdAt || new Date().toISOString(),\n      metodo_pago: primeraPartida.metodo_pago || 'N/A',\n      costo_envio: primeraPartida.costo_envio || 0,\n      total: parseFloat(primeraPartida.total_pedido).toFixed(2),\n      items: itemsArray.map(item => ({\n        clave: item.clave,\n        descripcion: item.descripcion,\n        cantidad: item.cantidad,\n        total_partida: item.total_partida,\n        linea: item.linea || 'SIN_LINEA',\n        fecha_entrega: item.fecha_entrega || 'N/A'\n      }))\n    };\n\n    // ... (Renderizado, Nodemailer y respuesta) ...\n\n    const html = renderToStaticMarkup(React.createElement(PedidoEmail, {\n      pedido: pedidoData\n    }));\n    const mailOptions = {\n      from: '\"Seal Market\" <auto-confirm@sealmarket.mx>',\n      to: pedidoData.emailCliente,\n      subject: `Confirmación de Pedido #${pedidoData.folio}`,\n      html: html\n    };\n    const info = await transporter.sendMail(mailOptions);\n    console.log('Mensaje enviado: %s', info.messageId);\n    res.status(200).json({\n      message: 'Correo de confirmación enviado con éxito.',\n      messageId: info.messageId\n    });\n  } catch (error) {\n    console.error('Error al enviar el correo de confirmación:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor al enviar el correo.'\n    });\n  }\n});\n\n/* // Endpoint para enviar la confirmación de pedido\r\nrouter.post('/:folio/enviar-confirmacion', async (req, res) => {\r\n    const { folio } = req.params;\r\n    // 🚨 CLAVE: Extraer la fecha_entrega del cuerpo de la solicitud (req.body)\r\n    const { fecha_entrega } = req.body;\r\n\r\n    try {\r\n        if (!fecha_entrega) {\r\n            return res.status(400).json({ error: 'Falta la fecha de entrega en el cuerpo de la solicitud (body).' });\r\n        }\r\n\r\n        // 1. Obtener todas las partidas del pedido de la base de datos\r\n        const partidas = await Pedido.findAll({\r\n            where: { folio: folio },\r\n            order: [['id', 'ASC']]\r\n        });\r\n\r\n        if (!partidas || partidas.length === 0) {\r\n            return res.status(404).json({ error: `Pedido con folio ${folio} no encontrado.` });\r\n        }\r\n\r\n        // 2. Reestructurar las partidas en el objeto 'pedido'\r\n        const primeraPartida = partidas[0];\r\n\r\n        // Calcular el total sumando el total_partida de todas las filas\r\n        const total = partidas.reduce((sum, item) => sum + parseFloat(item.total_partida), 0);\r\n\r\n        // Mapear los datos al formato que PedidoEmail.jsx requiere\r\n        const pedidoData = {\r\n            folio: primeraPartida.folio,\r\n            emailCliente: primeraPartida.email,\r\n            enviar_a: primeraPartida.enviar_a,\r\n            estatus: primeraPartida.estatus,\r\n            createdAt: primeraPartida.createdAt || new Date().toISOString(),\r\n            fecha_entrega: fecha_entrega,\r\n            total: total.toFixed(2),\r\n            items: partidas.map(item => ({\r\n                clave: item.clave,\r\n                descripcion: item.descripcion,\r\n                cantidad: item.cantidad,\r\n                total_partida: item.total_partida,\r\n                linea: item.linea || 'SIN_LINEA'\r\n            }))\r\n        };\r\n\r\n        // 3. Renderizar el componente React a HTML estático\r\n        const html = renderToStaticMarkup(React.createElement(PedidoEmail, { pedido: pedidoData }));\r\n\r\n        // 4. Configurar y enviar el correo (código de Nodemailer...)\r\n        const mailOptions = {\r\n            from: '\"Seal Market\" <auto-confirm@sealmarket.mx>',\r\n            to: pedidoData.emailCliente,\r\n            subject: `Confirmación de Pedido #${pedidoData.folio}`,\r\n            html: html,\r\n        };\r\n\r\n        const info = await transporter.sendMail(mailOptions);\r\n\r\n        console.log('Mensaje enviado: %s', info.messageId);\r\n\r\n        res.status(200).json({\r\n            message: 'Correo de confirmación enviado con éxito.',\r\n            messageId: info.messageId\r\n        });\r\n\r\n    } catch (error) {\r\n        console.error('Error al enviar el correo de confirmación:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor al enviar el correo.' });\r\n    }\r\n}); */\n\n// Endpoint para crear una nueva pedido\nrouter.post('/', async (req, res) => {\n  try {\n    const nuevoPedido = await Pedido.bulkCreate(req.body);\n    res.status(201).json(nuevoPedido);\n  } catch (error) {\n    console.error('Error al crear el pedido:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para obtener todos los pedidos\nrouter.get('/', async (req, res) => {\n  try {\n    const pedidos = await Pedido.findAll();\n    res.status(200).json(pedidos);\n  } catch (error) {\n    console.error('Error al obtener todos los pedidos:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener los pedidos de un cliente\nrouter.get('/cliente/:email', async (req, res) => {\n  try {\n    const {\n      email\n    } = req.params;\n    console.log('Fetching order with email:', email); // Add this line\n    const pedido = await Pedido.findAll({\n      where: {\n        email: email\n      }\n    });\n    if (!pedido || pedido.length === 0) {\n      //console.log('Order not found for folio:', folio); // Add this line\n      return res.status(404).json({\n        error: 'Pedidos no encontrados'\n      });\n    }\n    //console.log('Order found:', pedido); // Add this line\n    res.status(200).json(pedido);\n  } catch (error) {\n    console.error('Error al obtener el pedido:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para obtener un pedido por su folio\nrouter.get('/:folio', async (req, res) => {\n  try {\n    const {\n      folio\n    } = req.params;\n    console.log('Fetching order with folio:', folio); // Add this line\n    const pedido = await Pedido.findAll({\n      where: {\n        folio: folio\n      }\n    });\n    if (!pedido || pedido.length === 0) {\n      console.log('Order not found for folio:', folio); // Add this line\n      return res.status(404).json({\n        error: 'Pedido no encontrado'\n      });\n    }\n    //console.log('Order found:', pedido); // Add this line\n    res.status(200).json(pedido);\n  } catch (error) {\n    console.error('Error al obtener el pedido:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\n\n// Endpoint para actualizar un pedido por su folio\nrouter.put('/:folio', async (req, res) => {\n  try {\n    const {\n      folio\n    } = req.params;\n    const [filasActualizadas, categoriaActualizada] = await Pedido.update(req.body, {\n      where: {\n        folio: folio\n      },\n      returning: true\n    });\n    if (filasActualizadas === 0) {\n      return res.status(404).json({\n        error: 'Pedido no encontrado'\n      });\n    }\n    res.status(200).json(categoriaActualizada[0]);\n  } catch (error) {\n    console.error('Error al actualizar el pedido:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\n\n// Endpoint para eliminar un pedido por su folio\nrouter.delete('/:folio', async (req, res) => {\n  try {\n    const {\n      folio\n    } = req.params;\n    const pedidoEliminado = await Pedido.destroy({\n      where: {\n        folio: folio\n      }\n    });\n    if (pedidoEliminado === 0) {\n      return res.status(404).json({\n        error: 'Pedido no encontrado'\n      });\n    }\n    res.status(200).json({\n      message: 'Pedido eliminado con éxito'\n    });\n  } catch (error) {\n    console.error('Error al eliminar el pedido:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiUGVkaWRvIiwibm9kZW1haWxlciIsIlJlYWN0IiwicmVuZGVyVG9TdGF0aWNNYXJrdXAiLCJQZWRpZG9FbWFpbCIsIkNsaWVudGUiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsImhvc3QiLCJwb3J0Iiwic2VjdXJlIiwiYXV0aCIsInVzZXIiLCJwYXNzIiwib2J0ZW5lck5vbWJyZVRpdHVsYXIiLCJlbWFpbCIsImNsaWVudGUiLCJmaW5kT25lIiwid2hlcmUiLCJhdHRyaWJ1dGVzIiwibm9tYnJlQ29tcGxldG8iLCJub21icmUiLCJhcGVsbGlkbyIsInRyaW0iLCJwcmltZXJOb21icmUiLCJzcGxpdCIsImNvbXBsZXRvIiwic2FsdWRvIiwiZXJyb3IiLCJjb25zb2xlIiwicG9zdCIsInJlcSIsInJlcyIsImZvbGlvIiwicGFyYW1zIiwiaXRlbXNBcnJheSIsImJvZHkiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJzdGF0dXMiLCJqc29uIiwicHJpbWVyYVBhcnRpZGEiLCJlbnZpYXJfYSIsInRvdGFsX3BlZGlkbyIsInBlZGlkb0RhdGEiLCJlbWFpbENsaWVudGUiLCJlc3RhdHVzIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibWV0b2RvX3BhZ28iLCJjb3N0b19lbnZpbyIsInRvdGFsIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJpdGVtcyIsIm1hcCIsIml0ZW0iLCJjbGF2ZSIsImRlc2NyaXBjaW9uIiwiY2FudGlkYWQiLCJ0b3RhbF9wYXJ0aWRhIiwibGluZWEiLCJmZWNoYV9lbnRyZWdhIiwiaHRtbCIsImNyZWF0ZUVsZW1lbnQiLCJwZWRpZG8iLCJtYWlsT3B0aW9ucyIsImZyb20iLCJ0byIsInN1YmplY3QiLCJpbmZvIiwic2VuZE1haWwiLCJsb2ciLCJtZXNzYWdlSWQiLCJtZXNzYWdlIiwibnVldm9QZWRpZG8iLCJidWxrQ3JlYXRlIiwiZ2V0IiwicGVkaWRvcyIsImZpbmRBbGwiLCJwdXQiLCJmaWxhc0FjdHVhbGl6YWRhcyIsImNhdGVnb3JpYUFjdHVhbGl6YWRhIiwidXBkYXRlIiwicmV0dXJuaW5nIiwiZGVsZXRlIiwicGVkaWRvRWxpbWluYWRvIiwiZGVzdHJveSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcb3JvZHJcXHdvcmtzcGFjZVxcQVBJc1xcYXBpLWVjb21tZXJjZVxccm91dGVzXFwiLCJzb3VyY2VzIjpbInBlZGlkb3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgZGIgPSByZXF1aXJlKCcuLi9tb2RlbHMnKTtcclxuY29uc3QgUGVkaWRvID0gZGIuUGVkaWRvO1xyXG5cclxuY29uc3Qgbm9kZW1haWxlciA9IHJlcXVpcmUoJ25vZGVtYWlsZXInKTtcclxuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5jb25zdCB7IHJlbmRlclRvU3RhdGljTWFya3VwIH0gPSByZXF1aXJlKCdyZWFjdC1kb20vc2VydmVyJyk7XHJcblxyXG5jb25zdCBQZWRpZG9FbWFpbCA9IHJlcXVpcmUoJy4uL3RlbXBsYXRlcy9QZWRpZG9FbWFpbC5qc3gnKTtcclxuXHJcbmNvbnN0IENsaWVudGUgPSBkYi5DbGllbnRlO1xyXG5cclxuXHJcblxyXG4vLyBDb25maWd1cmFjacOzbiBkZWwgdHJhbnNwb3J0ZXIgKERFQkVTIFVTQVIgVFVTIENSRURFTkNJQUxFUyBSRUFMRVMgQVFVw40pXHJcbmNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gICAgaG9zdDogXCJtYWlsLnNlYWxtYXJrZXQubXhcIixcclxuICAgIHBvcnQ6IDQ2NSxcclxuICAgIHNlY3VyZTogdHJ1ZSwgLy8gVXNhciAndHJ1ZScgc2kgZWwgcHVlcnRvIGVzIDQ2NVxyXG4gICAgYXV0aDoge1xyXG4gICAgICAgIHVzZXI6IFwiYXV0by1jb25maXJtQHNlYWxtYXJrZXQubXhcIiwgLy8gVHUgY29ycmVvIGRlIGVudsOtb1xyXG4gICAgICAgIHBhc3M6IFwiVHJvZiM0MTAyT1wiIC8vIFR1IGNvbnRyYXNlw7FhIG8gQXBwIFBhc3N3b3JkXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g8J+aqCBGVU5DScOTTiBERSBTRVJWSUNJTzogT2J0aWVuZSBlbCBub21icmUgY29tcGxldG8gZGVsIHRpdHVsYXJcclxuYXN5bmMgZnVuY3Rpb24gb2J0ZW5lck5vbWJyZVRpdHVsYXIoZW1haWwpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY2xpZW50ZSA9IGF3YWl0IENsaWVudGUuZmluZE9uZSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9LFxyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBbJ25vbWJyZScsICdhcGVsbGlkbyddXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGNsaWVudGUpIHtcclxuICAgICAgICAgICAgLy8gQ29tYmluYW1vcyBub21icmUgeSBhcGVsbGlkbyBwYXJhIGVsIG5vbWJyZSBjb21wbGV0b1xyXG4gICAgICAgICAgICBjb25zdCBub21icmVDb21wbGV0byA9IGAke2NsaWVudGUubm9tYnJlfSAke2NsaWVudGUuYXBlbGxpZG99YC50cmltKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyDwn5qoIENMQVZFOiBEaXZpZGltb3MgZWwgbm9tYnJlIHBvciBlbCBlc3BhY2lvIHkgdG9tYW1vcyBsYSBwcmltZXJhIHBhbGFicmFcclxuICAgICAgICAgICAgY29uc3QgcHJpbWVyTm9tYnJlID0gY2xpZW50ZS5ub21icmUuc3BsaXQoJyAnKVswXTsgXHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldG86IG5vbWJyZUNvbXBsZXRvLFxyXG4gICAgICAgICAgICAgICAgc2FsdWRvOiBwcmltZXJOb21icmVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY29tcGxldG86ICdUaXR1bGFyIG5vIGVuY29udHJhZG8nLFxyXG4gICAgICAgICAgICBzYWx1ZG86ICdDbGllbnRlJ1xyXG4gICAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGJ1c2NhciBlbCBub21icmUgZGVsIHRpdHVsYXI6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRvOiAnRXJyb3IgZGUgYsO6c3F1ZWRhJyxcclxuICAgICAgICAgICAgc2FsdWRvOiAnQ2xpZW50ZSdcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGVudmlhciBsYSBjb25maXJtYWNpw7NuIGRlIHBlZGlkb1xyXG5yb3V0ZXIucG9zdCgnLzpmb2xpby9lbnZpYXItY29uZmlybWFjaW9uJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7IGZvbGlvIH0gPSByZXEucGFyYW1zO1xyXG4gICAgY29uc3QgaXRlbXNBcnJheSA9IHJlcS5ib2R5OyBcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIDEuIFZhbGlkYWNpw7NuIGRlbCBCb2R5XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGl0ZW1zQXJyYXkpIHx8IGl0ZW1zQXJyYXkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnRWwgY3VlcnBvIGRlIGxhIHNvbGljaXR1ZCBkZWJlIHNlciB1biBhcnJlZ2xvIG5vIHZhY8OtbyBkZSBwYXJ0aWRhcyBkZSBwZWRpZG8uJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHByaW1lcmFQYXJ0aWRhID0gaXRlbXNBcnJheVswXTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIXByaW1lcmFQYXJ0aWRhLmVtYWlsIHx8ICFwcmltZXJhUGFydGlkYS5lbnZpYXJfYSB8fCAhcHJpbWVyYVBhcnRpZGEudG90YWxfcGVkaWRvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnRmFsdGFuIGNhbXBvcyBkZSBjYWJlY2VyYSBjcsOtdGljb3MgKGVtYWlsLCBlbnZpYXJfYSwgbyB0b3RhbF9wZWRpZG8pIGVuIGVsIGN1ZXJwbyBkZSBsYSBzb2xpY2l0dWQuJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIPCfmqggQ0xBVkU6IExsYW1hZGEgYSBsYSBmdW5jacOzbiBwYXJhIG9idGVuZXIgZWwgbm9tYnJlIGRlbCB0aXR1bGFyXHJcbiAgICAgICAgLy9jb25zdCBub21icmVUaXR1bGFyID0gYXdhaXQgb2J0ZW5lck5vbWJyZVRpdHVsYXIocHJpbWVyYVBhcnRpZGEuZW1haWwpO1xyXG5cclxuICAgICAgICAvLyAyLiBSZWVzdHJ1Y3R1cmFyIGxhcyBwYXJ0aWRhcyBlbiBlbCBvYmpldG8gJ3BlZGlkbycgcGFyYSBsYSBwbGFudGlsbGFcclxuICAgICAgICBjb25zdCBwZWRpZG9EYXRhID0ge1xyXG4gICAgICAgICAgICBmb2xpbzogcHJpbWVyYVBhcnRpZGEuZm9saW8sXHJcbiAgICAgICAgICAgIGVtYWlsQ2xpZW50ZTogcHJpbWVyYVBhcnRpZGEuZW1haWwsIFxyXG4gICAgICAgICAgICBlbnZpYXJfYTogcHJpbWVyYVBhcnRpZGEuZW52aWFyX2EsXHJcbiAgICAgICAgICAgIGVzdGF0dXM6IHByaW1lcmFQYXJ0aWRhLmVzdGF0dXMgfHwgJ1BlbmRpZW50ZSBkZSBlbnbDrW8nLFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8g8J+aqCBOVUVWTyBDQU1QTyBBR1JFR0FET1xyXG4gICAgICAgICAgICAvL25vbWJyZVRpdHVsYXI6IG5vbWJyZVRpdHVsYXIsIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ2FtcG9zIGFkaWNpb25hbGVzIGRlIGNhYmVjZXJhXHJcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogcHJpbWVyYVBhcnRpZGEuY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgbWV0b2RvX3BhZ286IHByaW1lcmFQYXJ0aWRhLm1ldG9kb19wYWdvIHx8ICdOL0EnLFxyXG4gICAgICAgICAgICBjb3N0b19lbnZpbzogcHJpbWVyYVBhcnRpZGEuY29zdG9fZW52aW8gfHwgMCxcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRvdGFsOiBwYXJzZUZsb2F0KHByaW1lcmFQYXJ0aWRhLnRvdGFsX3BlZGlkbykudG9GaXhlZCgyKSxcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGl0ZW1zOiBpdGVtc0FycmF5Lm1hcChpdGVtID0+ICh7XHJcbiAgICAgICAgICAgICAgICBjbGF2ZTogaXRlbS5jbGF2ZSxcclxuICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBpdGVtLmRlc2NyaXBjaW9uLFxyXG4gICAgICAgICAgICAgICAgY2FudGlkYWQ6IGl0ZW0uY2FudGlkYWQsXHJcbiAgICAgICAgICAgICAgICB0b3RhbF9wYXJ0aWRhOiBpdGVtLnRvdGFsX3BhcnRpZGEsXHJcbiAgICAgICAgICAgICAgICBsaW5lYTogaXRlbS5saW5lYSB8fCAnU0lOX0xJTkVBJyxcclxuICAgICAgICAgICAgICAgIGZlY2hhX2VudHJlZ2E6IGl0ZW0uZmVjaGFfZW50cmVnYSB8fCAnTi9BJyBcclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICAvLyAuLi4gKFJlbmRlcml6YWRvLCBOb2RlbWFpbGVyIHkgcmVzcHVlc3RhKSAuLi5cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBodG1sID0gcmVuZGVyVG9TdGF0aWNNYXJrdXAoUmVhY3QuY3JlYXRlRWxlbWVudChQZWRpZG9FbWFpbCwgeyBwZWRpZG86IHBlZGlkb0RhdGEgfSkpO1xyXG5cclxuICAgICAgICBjb25zdCBtYWlsT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgZnJvbTogJ1wiU2VhbCBNYXJrZXRcIiA8YXV0by1jb25maXJtQHNlYWxtYXJrZXQubXg+JyxcclxuICAgICAgICAgICAgdG86IHBlZGlkb0RhdGEuZW1haWxDbGllbnRlLFxyXG4gICAgICAgICAgICBzdWJqZWN0OiBgQ29uZmlybWFjacOzbiBkZSBQZWRpZG8gIyR7cGVkaWRvRGF0YS5mb2xpb31gLFxyXG4gICAgICAgICAgICBodG1sOiBodG1sLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGluZm8gPSBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ01lbnNhamUgZW52aWFkbzogJXMnLCBpbmZvLm1lc3NhZ2VJZCk7XHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdDb3JyZW8gZGUgY29uZmlybWFjacOzbiBlbnZpYWRvIGNvbiDDqXhpdG8uJywgXHJcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogaW5mby5tZXNzYWdlSWQgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBlbnZpYXIgZWwgY29ycmVvIGRlIGNvbmZpcm1hY2nDs246JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvciBhbCBlbnZpYXIgZWwgY29ycmVvLicgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLyogLy8gRW5kcG9pbnQgcGFyYSBlbnZpYXIgbGEgY29uZmlybWFjacOzbiBkZSBwZWRpZG9cclxucm91dGVyLnBvc3QoJy86Zm9saW8vZW52aWFyLWNvbmZpcm1hY2lvbicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgeyBmb2xpbyB9ID0gcmVxLnBhcmFtcztcclxuICAgIC8vIPCfmqggQ0xBVkU6IEV4dHJhZXIgbGEgZmVjaGFfZW50cmVnYSBkZWwgY3VlcnBvIGRlIGxhIHNvbGljaXR1ZCAocmVxLmJvZHkpXHJcbiAgICBjb25zdCB7IGZlY2hhX2VudHJlZ2EgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKCFmZWNoYV9lbnRyZWdhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnRmFsdGEgbGEgZmVjaGEgZGUgZW50cmVnYSBlbiBlbCBjdWVycG8gZGUgbGEgc29saWNpdHVkIChib2R5KS4nIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gMS4gT2J0ZW5lciB0b2RhcyBsYXMgcGFydGlkYXMgZGVsIHBlZGlkbyBkZSBsYSBiYXNlIGRlIGRhdG9zXHJcbiAgICAgICAgY29uc3QgcGFydGlkYXMgPSBhd2FpdCBQZWRpZG8uZmluZEFsbCh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGZvbGlvOiBmb2xpbyB9LFxyXG4gICAgICAgICAgICBvcmRlcjogW1snaWQnLCAnQVNDJ11dXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghcGFydGlkYXMgfHwgcGFydGlkYXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiBgUGVkaWRvIGNvbiBmb2xpbyAke2ZvbGlvfSBubyBlbmNvbnRyYWRvLmAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAyLiBSZWVzdHJ1Y3R1cmFyIGxhcyBwYXJ0aWRhcyBlbiBlbCBvYmpldG8gJ3BlZGlkbydcclxuICAgICAgICBjb25zdCBwcmltZXJhUGFydGlkYSA9IHBhcnRpZGFzWzBdO1xyXG5cclxuICAgICAgICAvLyBDYWxjdWxhciBlbCB0b3RhbCBzdW1hbmRvIGVsIHRvdGFsX3BhcnRpZGEgZGUgdG9kYXMgbGFzIGZpbGFzXHJcbiAgICAgICAgY29uc3QgdG90YWwgPSBwYXJ0aWRhcy5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgcGFyc2VGbG9hdChpdGVtLnRvdGFsX3BhcnRpZGEpLCAwKTtcclxuXHJcbiAgICAgICAgLy8gTWFwZWFyIGxvcyBkYXRvcyBhbCBmb3JtYXRvIHF1ZSBQZWRpZG9FbWFpbC5qc3ggcmVxdWllcmVcclxuICAgICAgICBjb25zdCBwZWRpZG9EYXRhID0ge1xyXG4gICAgICAgICAgICBmb2xpbzogcHJpbWVyYVBhcnRpZGEuZm9saW8sXHJcbiAgICAgICAgICAgIGVtYWlsQ2xpZW50ZTogcHJpbWVyYVBhcnRpZGEuZW1haWwsXHJcbiAgICAgICAgICAgIGVudmlhcl9hOiBwcmltZXJhUGFydGlkYS5lbnZpYXJfYSxcclxuICAgICAgICAgICAgZXN0YXR1czogcHJpbWVyYVBhcnRpZGEuZXN0YXR1cyxcclxuICAgICAgICAgICAgY3JlYXRlZEF0OiBwcmltZXJhUGFydGlkYS5jcmVhdGVkQXQgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICBmZWNoYV9lbnRyZWdhOiBmZWNoYV9lbnRyZWdhLFxyXG4gICAgICAgICAgICB0b3RhbDogdG90YWwudG9GaXhlZCgyKSxcclxuICAgICAgICAgICAgaXRlbXM6IHBhcnRpZGFzLm1hcChpdGVtID0+ICh7XHJcbiAgICAgICAgICAgICAgICBjbGF2ZTogaXRlbS5jbGF2ZSxcclxuICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBpdGVtLmRlc2NyaXBjaW9uLFxyXG4gICAgICAgICAgICAgICAgY2FudGlkYWQ6IGl0ZW0uY2FudGlkYWQsXHJcbiAgICAgICAgICAgICAgICB0b3RhbF9wYXJ0aWRhOiBpdGVtLnRvdGFsX3BhcnRpZGEsXHJcbiAgICAgICAgICAgICAgICBsaW5lYTogaXRlbS5saW5lYSB8fCAnU0lOX0xJTkVBJ1xyXG4gICAgICAgICAgICB9KSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyAzLiBSZW5kZXJpemFyIGVsIGNvbXBvbmVudGUgUmVhY3QgYSBIVE1MIGVzdMOhdGljb1xyXG4gICAgICAgIGNvbnN0IGh0bWwgPSByZW5kZXJUb1N0YXRpY01hcmt1cChSZWFjdC5jcmVhdGVFbGVtZW50KFBlZGlkb0VtYWlsLCB7IHBlZGlkbzogcGVkaWRvRGF0YSB9KSk7XHJcblxyXG4gICAgICAgIC8vIDQuIENvbmZpZ3VyYXIgeSBlbnZpYXIgZWwgY29ycmVvIChjw7NkaWdvIGRlIE5vZGVtYWlsZXIuLi4pXHJcbiAgICAgICAgY29uc3QgbWFpbE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGZyb206ICdcIlNlYWwgTWFya2V0XCIgPGF1dG8tY29uZmlybUBzZWFsbWFya2V0Lm14PicsXHJcbiAgICAgICAgICAgIHRvOiBwZWRpZG9EYXRhLmVtYWlsQ2xpZW50ZSxcclxuICAgICAgICAgICAgc3ViamVjdDogYENvbmZpcm1hY2nDs24gZGUgUGVkaWRvICMke3BlZGlkb0RhdGEuZm9saW99YCxcclxuICAgICAgICAgICAgaHRtbDogaHRtbCxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBpbmZvID0gYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnTWVuc2FqZSBlbnZpYWRvOiAlcycsIGluZm8ubWVzc2FnZUlkKTtcclxuXHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICBtZXNzYWdlOiAnQ29ycmVvIGRlIGNvbmZpcm1hY2nDs24gZW52aWFkbyBjb24gw6l4aXRvLicsXHJcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogaW5mby5tZXNzYWdlSWRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGVudmlhciBlbCBjb3JyZW8gZGUgY29uZmlybWFjacOzbjonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yIGFsIGVudmlhciBlbCBjb3JyZW8uJyB9KTtcclxuICAgIH1cclxufSk7ICovXHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGNyZWFyIHVuYSBudWV2YSBwZWRpZG9cclxucm91dGVyLnBvc3QoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgbnVldm9QZWRpZG8gPSBhd2FpdCBQZWRpZG8uYnVsa0NyZWF0ZShyZXEuYm9keSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24obnVldm9QZWRpZG8pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBjcmVhciBlbCBwZWRpZG86JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIHRvZG9zIGxvcyBwZWRpZG9zXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcGVkaWRvcyA9IGF3YWl0IFBlZGlkby5maW5kQWxsKCk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocGVkaWRvcyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIG9idGVuZXIgdG9kb3MgbG9zIHBlZGlkb3M6JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIGxvcyBwZWRpZG9zIGRlIHVuIGNsaWVudGVcclxucm91dGVyLmdldCgnL2NsaWVudGUvOmVtYWlsJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZW1haWwgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIG9yZGVyIHdpdGggZW1haWw6JywgZW1haWwpOyAvLyBBZGQgdGhpcyBsaW5lXHJcbiAgICAgICAgY29uc3QgcGVkaWRvID0gYXdhaXQgUGVkaWRvLmZpbmRBbGwoe1xyXG4gICAgICAgICAgICB3aGVyZTpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghcGVkaWRvIHx8IHBlZGlkby5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnT3JkZXIgbm90IGZvdW5kIGZvciBmb2xpbzonLCBmb2xpbyk7IC8vIEFkZCB0aGlzIGxpbmVcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdQZWRpZG9zIG5vIGVuY29udHJhZG9zJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnT3JkZXIgZm91bmQ6JywgcGVkaWRvKTsgLy8gQWRkIHRoaXMgbGluZVxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHBlZGlkbyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIG9idGVuZXIgZWwgcGVkaWRvOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEVuZHBvaW50IHBhcmEgb2J0ZW5lciB1biBwZWRpZG8gcG9yIHN1IGZvbGlvXHJcbnJvdXRlci5nZXQoJy86Zm9saW8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBmb2xpbyB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgb3JkZXIgd2l0aCBmb2xpbzonLCBmb2xpbyk7IC8vIEFkZCB0aGlzIGxpbmVcclxuICAgICAgICBjb25zdCBwZWRpZG8gPSBhd2FpdCBQZWRpZG8uZmluZEFsbCh7XHJcbiAgICAgICAgICAgIHdoZXJlOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmb2xpbzogZm9saW8sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFwZWRpZG8gfHwgcGVkaWRvLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnT3JkZXIgbm90IGZvdW5kIGZvciBmb2xpbzonLCBmb2xpbyk7IC8vIEFkZCB0aGlzIGxpbmVcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdQZWRpZG8gbm8gZW5jb250cmFkbycgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ09yZGVyIGZvdW5kOicsIHBlZGlkbyk7IC8vIEFkZCB0aGlzIGxpbmVcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihwZWRpZG8pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIGVsIHBlZGlkbzonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGFjdHVhbGl6YXIgdW4gcGVkaWRvIHBvciBzdSBmb2xpb1xyXG5yb3V0ZXIucHV0KCcvOmZvbGlvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZm9saW8gfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgW2ZpbGFzQWN0dWFsaXphZGFzLCBjYXRlZ29yaWFBY3R1YWxpemFkYV0gPSBhd2FpdCBQZWRpZG8udXBkYXRlKHJlcS5ib2R5LCB7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGZvbGlvOiBmb2xpbyB9LFxyXG4gICAgICAgICAgICByZXR1cm5pbmc6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChmaWxhc0FjdHVhbGl6YWRhcyA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ1BlZGlkbyBubyBlbmNvbnRyYWRvJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oY2F0ZWdvcmlhQWN0dWFsaXphZGFbMF0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBhY3R1YWxpemFyIGVsIHBlZGlkbzonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGVsaW1pbmFyIHVuIHBlZGlkbyBwb3Igc3UgZm9saW9cclxucm91dGVyLmRlbGV0ZSgnLzpmb2xpbycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGZvbGlvIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IHBlZGlkb0VsaW1pbmFkbyA9IGF3YWl0IFBlZGlkby5kZXN0cm95KHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgZm9saW86IGZvbGlvIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHBlZGlkb0VsaW1pbmFkbyA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ1BlZGlkbyBubyBlbmNvbnRyYWRvJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnUGVkaWRvIGVsaW1pbmFkbyBjb24gw6l4aXRvJyB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgZWxpbWluYXIgZWwgcGVkaWRvOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLENBQUMsQ0FBQztBQUMvQixNQUFNQyxFQUFFLEdBQUdILE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDL0IsTUFBTUksTUFBTSxHQUFHRCxFQUFFLENBQUNDLE1BQU07QUFFeEIsTUFBTUMsVUFBVSxHQUFHTCxPQUFPLENBQUMsWUFBWSxDQUFD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","map":{"version":3,"names":["express","require","router","Router","db","Pedido","nodemailer","React","renderToStaticMarkup","PedidoEmail","Cliente","transporter","createTransport","host","port","secure","auth","user","pass","obtenerNombreTitular","email","cliente","findOne","where","attributes","nombreCompleto","nombre","apellido","trim","primerNombre","split","completo","saludo","error","console","post","req","res","folio","params","itemsArray","body","Array","isArray","length","status","json","primeraPartida","enviar_a","total_pedido","pedidoData","emailCliente","estatus","createdAt","Date","toISOString","metodo_pago","costo_envio","total","parseFloat","toFixed","items","map","item","clave","descripcion","cantidad","total_partida","linea","fecha_entrega","html","createElement","pedido","mailOptions","from","to","subject","info","sendMail","log","messageId","message","nuevoPedido","bulkCreate","get","pedidos","findAll","put","filasActualizadas","categoriaActualizada","update","returning","delete","pedidoEliminado","destroy","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["pedidos.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\nconst Pedido = db.Pedido;\r\n\r\nconst nodemailer = require('nodemailer');\r\nconst React = require('react');\r\nconst { renderToStaticMarkup } = require('react-dom/server');\r\n\r\nconst PedidoEmail = require('../templates/PedidoEmail.jsx');\r\n\r\nconst Cliente = db.Cliente;\r\n\r\n\r\n\r\n// Configuración del transporter (DEBES USAR TUS CREDENCIALES REALES AQUÍ)\r\nconst transporter = nodemailer.createTransport({\r\n    host: \"mail.sealmarket.mx\",\r\n    port: 465,\r\n    secure: true, // Usar 'true' si el puerto es 465\r\n    auth: {\r\n        user: \"auto-confirm@sealmarket.mx\", // Tu correo de envío\r\n        pass: \"Trof#4102O\" // Tu contraseña o App Password\r\n    }\r\n});\r\n\r\n// 🚨 FUNCIÓN DE SERVICIO: Obtiene el nombre completo del titular\r\nasync function obtenerNombreTitular(email) {\r\n    try {\r\n        const cliente = await Cliente.findOne({\r\n            where: { email: email },\r\n            attributes: ['nombre', 'apellido']\r\n        });\r\n        \r\n        if (cliente) {\r\n            // Combinamos nombre y apellido para el nombre completo\r\n            const nombreCompleto = `${cliente.nombre} ${cliente.apellido}`.trim();\r\n            \r\n            // 🚨 CLAVE: Dividimos el nombre por el espacio y tomamos la primera palabra\r\n            const primerNombre = cliente.nombre.split(' ')[0]; \r\n\r\n            return {\r\n                completo: nombreCompleto,\r\n                saludo: primerNombre\r\n            };\r\n        }\r\n        return {\r\n            completo: 'Titular no encontrado',\r\n            saludo: 'Cliente'\r\n        };\r\n    } catch (error) {\r\n        console.error('Error al buscar el nombre del titular:', error);\r\n        return {\r\n            completo: 'Error de búsqueda',\r\n            saludo: 'Cliente'\r\n        };\r\n    }\r\n}\r\n\r\n// Endpoint para enviar la confirmación de pedido\r\nrouter.post('/:folio/enviar-confirmacion', async (req, res) => {\r\n    const { folio } = req.params;\r\n    const itemsArray = req.body; \r\n\r\n    try {\r\n        // 1. Validación del Body\r\n        if (!Array.isArray(itemsArray) || itemsArray.length === 0) {\r\n            return res.status(400).json({ error: 'El cuerpo de la solicitud debe ser un arreglo no vacío de partidas de pedido.' });\r\n        }\r\n\r\n        const primeraPartida = itemsArray[0];\r\n        \r\n        if (!primeraPartida.email || !primeraPartida.enviar_a || !primeraPartida.total_pedido) {\r\n            return res.status(400).json({ error: 'Faltan campos de cabecera críticos (email, enviar_a, o total_pedido) en el cuerpo de la solicitud.' });\r\n        }\r\n\r\n        // 🚨 CLAVE: Llamada a la función para obtener el nombre del titular\r\n        //const nombreTitular = await obtenerNombreTitular(primeraPartida.email);\r\n\r\n        // 2. Reestructurar las partidas en el objeto 'pedido' para la plantilla\r\n        const pedidoData = {\r\n            folio: primeraPartida.folio,\r\n            emailCliente: primeraPartida.email, \r\n            enviar_a: primeraPartida.enviar_a,\r\n            estatus: primeraPartida.estatus || 'Pendiente de envío',\r\n            \r\n            // 🚨 NUEVO CAMPO AGREGADO\r\n            //nombreTitular: nombreTitular, \r\n            \r\n            // Campos adicionales de cabecera\r\n            createdAt: primeraPartida.createdAt || new Date().toISOString(),\r\n            metodo_pago: primeraPartida.metodo_pago || 'N/A',\r\n            costo_envio: primeraPartida.costo_envio || 0,\r\n            \r\n            total: parseFloat(primeraPartida.total_pedido).toFixed(2),\r\n            \r\n            items: itemsArray.map(item => ({\r\n                clave: item.clave,\r\n                descripcion: item.descripcion,\r\n                cantidad: item.cantidad,\r\n                total_partida: item.total_partida,\r\n                linea: item.linea || 'SIN_LINEA',\r\n                fecha_entrega: item.fecha_entrega || 'N/A' \r\n            }))\r\n        };\r\n        \r\n        // ... (Renderizado, Nodemailer y respuesta) ...\r\n        \r\n        const html = renderToStaticMarkup(React.createElement(PedidoEmail, { pedido: pedidoData }));\r\n\r\n        const mailOptions = {\r\n            from: '\"Seal Market\" <auto-confirm@sealmarket.mx>',\r\n            to: pedidoData.emailCliente,\r\n            subject: `Confirmación de Pedido #${pedidoData.folio}`,\r\n            html: html,\r\n        };\r\n\r\n        const info = await transporter.sendMail(mailOptions);\r\n        \r\n        console.log('Mensaje enviado: %s', info.messageId);\r\n\r\n        res.status(200).json({ \r\n            message: 'Correo de confirmación enviado con éxito.', \r\n            messageId: info.messageId \r\n        });\r\n\r\n    } catch (error) {\r\n        console.error('Error al enviar el correo de confirmación:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor al enviar el correo.' });\r\n    }\r\n});\r\n\r\n/* // Endpoint para enviar la confirmación de pedido\r\nrouter.post('/:folio/enviar-confirmacion', async (req, res) => {\r\n    const { folio } = req.params;\r\n    // 🚨 CLAVE: Extraer la fecha_entrega del cuerpo de la solicitud (req.body)\r\n    const { fecha_entrega } = req.body;\r\n\r\n    try {\r\n        if (!fecha_entrega) {\r\n            return res.status(400).json({ error: 'Falta la fecha de entrega en el cuerpo de la solicitud (body).' });\r\n        }\r\n\r\n        // 1. Obtener todas las partidas del pedido de la base de datos\r\n        const partidas = await Pedido.findAll({\r\n            where: { folio: folio },\r\n            order: [['id', 'ASC']]\r\n        });\r\n\r\n        if (!partidas || partidas.length === 0) {\r\n            return res.status(404).json({ error: `Pedido con folio ${folio} no encontrado.` });\r\n        }\r\n\r\n        // 2. Reestructurar las partidas en el objeto 'pedido'\r\n        const primeraPartida = partidas[0];\r\n\r\n        // Calcular el total sumando el total_partida de todas las filas\r\n        const total = partidas.reduce((sum, item) => sum + parseFloat(item.total_partida), 0);\r\n\r\n        // Mapear los datos al formato que PedidoEmail.jsx requiere\r\n        const pedidoData = {\r\n            folio: primeraPartida.folio,\r\n            emailCliente: primeraPartida.email,\r\n            enviar_a: primeraPartida.enviar_a,\r\n            estatus: primeraPartida.estatus,\r\n            createdAt: primeraPartida.createdAt || new Date().toISOString(),\r\n            fecha_entrega: fecha_entrega,\r\n            total: total.toFixed(2),\r\n            items: partidas.map(item => ({\r\n                clave: item.clave,\r\n                descripcion: item.descripcion,\r\n                cantidad: item.cantidad,\r\n                total_partida: item.total_partida,\r\n                linea: item.linea || 'SIN_LINEA'\r\n            }))\r\n        };\r\n\r\n        // 3. Renderizar el componente React a HTML estático\r\n        const html = renderToStaticMarkup(React.createElement(PedidoEmail, { pedido: pedidoData }));\r\n\r\n        // 4. Configurar y enviar el correo (código de Nodemailer...)\r\n        const mailOptions = {\r\n            from: '\"Seal Market\" <auto-confirm@sealmarket.mx>',\r\n            to: pedidoData.emailCliente,\r\n            subject: `Confirmación de Pedido #${pedidoData.folio}`,\r\n            html: html,\r\n        };\r\n\r\n        const info = await transporter.sendMail(mailOptions);\r\n\r\n        console.log('Mensaje enviado: %s', info.messageId);\r\n\r\n        res.status(200).json({\r\n            message: 'Correo de confirmación enviado con éxito.',\r\n            messageId: info.messageId\r\n        });\r\n\r\n    } catch (error) {\r\n        console.error('Error al enviar el correo de confirmación:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor al enviar el correo.' });\r\n    }\r\n}); */\r\n\r\n// Endpoint para crear una nueva pedido\r\nrouter.post('/', async (req, res) => {\r\n    try {\r\n        const nuevoPedido = await Pedido.bulkCreate(req.body);\r\n        res.status(201).json(nuevoPedido);\r\n    } catch (error) {\r\n        console.error('Error al crear el pedido:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener todos los pedidos\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n        const pedidos = await Pedido.findAll();\r\n        res.status(200).json(pedidos);\r\n    } catch (error) {\r\n        console.error('Error al obtener todos los pedidos:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener los pedidos de un cliente\r\nrouter.get('/cliente/:email', async (req, res) => {\r\n    try {\r\n        const { email } = req.params;\r\n        console.log('Fetching order with email:', email); // Add this line\r\n        const pedido = await Pedido.findAll({\r\n            where:\r\n            {\r\n                email: email,\r\n            }\r\n        });\r\n\r\n        if (!pedido || pedido.length === 0) {\r\n            //console.log('Order not found for folio:', folio); // Add this line\r\n            return res.status(404).json({ error: 'Pedidos no encontrados' });\r\n        }\r\n        //console.log('Order found:', pedido); // Add this line\r\n        res.status(200).json(pedido);\r\n    } catch (error) {\r\n        console.error('Error al obtener el pedido:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener un pedido por su folio\r\nrouter.get('/:folio', async (req, res) => {\r\n    try {\r\n        const { folio } = req.params;\r\n        console.log('Fetching order with folio:', folio); // Add this line\r\n        const pedido = await Pedido.findAll({\r\n            where:\r\n            {\r\n                folio: folio,\r\n            }\r\n        });\r\n\r\n        if (!pedido || pedido.length === 0) {\r\n            console.log('Order not found for folio:', folio); // Add this line\r\n            return res.status(404).json({ error: 'Pedido no encontrado' });\r\n        }\r\n        //console.log('Order found:', pedido); // Add this line\r\n        res.status(200).json(pedido);\r\n    } catch (error) {\r\n        console.error('Error al obtener el pedido:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\n// Endpoint para actualizar un pedido por su folio\r\nrouter.put('/:folio', async (req, res) => {\r\n    try {\r\n        const { folio } = req.params;\r\n        const [filasActualizadas, categoriaActualizada] = await Pedido.update(req.body, {\r\n            where: { folio: folio },\r\n            returning: true,\r\n        });\r\n\r\n        if (filasActualizadas === 0) {\r\n            return res.status(404).json({ error: 'Pedido no encontrado' });\r\n        }\r\n        res.status(200).json(categoriaActualizada[0]);\r\n    } catch (error) {\r\n        console.error('Error al actualizar el pedido:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\n// Endpoint para eliminar un pedido por su folio\r\nrouter.delete('/:folio', async (req, res) => {\r\n    try {\r\n        const { folio } = req.params;\r\n        const pedidoEliminado = await Pedido.destroy({\r\n            where: { folio: folio }\r\n        });\r\n\r\n        if (pedidoEliminado === 0) {\r\n            return res.status(404).json({ error: 'Pedido no encontrado' });\r\n        }\r\n        res.status(200).json({ message: 'Pedido eliminado con éxito' });\r\n    } catch (error) {\r\n        console.error('Error al eliminar el pedido:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}},"mtime":1761515297547},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\templates\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\templates\\\\PedidoEmail.jsx\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const React = require('react');\nconst PedidoEmailItem = require('./PedidoEmailItem');\nconst PedidoEmail = ({\n  pedido\n}) => {\n  const formatDate = dateString => {\n    const options = {\n      day: \"numeric\",\n      month: \"long\",\n      year: \"numeric\"\n    };\n    return new Date(dateString).toLocaleDateString(\"es-ES\", options);\n  };\n  const styles = {\n    body: {\n      fontFamily: \"Arial, sans-serif\",\n      color: \"#333\",\n      backgroundColor: \"#f4f4f4\",\n      margin: 0,\n      padding: \"20px\"\n    },\n    container: {\n      maxWidth: \"680px\",\n      margin: \"0 auto\",\n      backgroundColor: \"#ffffff\",\n      border: \"1px solid #ddd\",\n      borderRadius: \"8px\",\n      overflow: \"hidden\"\n    },\n    header: {\n      backgroundColor: \"#2177c2\",\n      color: \"#ffffff\",\n      padding: \"30px 20px\",\n      textAlign: \"center\"\n    },\n    headerTitle: {\n      margin: 0,\n      fontSize: \"28px\"\n    },\n    headerSubtitle: {\n      margin: \"5px 0 0\",\n      fontSize: \"16px\"\n    },\n    content: {\n      padding: \"30px\"\n    },\n    orderDetails: {\n      width: \"100%\",\n      borderCollapse: \"collapse\",\n      marginBottom: \"30px\"\n    },\n    orderDetailTd: {\n      padding: \"8px 0\",\n      fontSize: \"14px\"\n    },\n    orderDetailLabel: {\n      color: \"#555\"\n    },\n    itemsTable: {\n      width: \"100%\",\n      borderCollapse: \"collapse\"\n    },\n    itemsTh: {\n      borderBottom: \"2px solid #ddd\",\n      padding: \"0 10px 10px 10px\",\n      textAlign: \"left\",\n      color: \"#555\",\n      fontSize: \"14px\"\n    },\n    totalSection: {\n      padding: \"20px 30px\",\n      textAlign: \"right\",\n      backgroundColor: \"#f9f9f9\",\n      borderTop: \"1px solid #ddd\"\n    },\n    totalText: {\n      margin: 0,\n      fontSize: \"18px\",\n      fontWeight: \"bold\"\n    },\n    footer: {\n      padding: \"20px\",\n      textAlign: \"center\",\n      fontSize: \"12px\",\n      color: \"#888\"\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"html\", {\n    lang: \"es\"\n  }, /*#__PURE__*/React.createElement(\"head\", null, /*#__PURE__*/React.createElement(\"meta\", {\n    charSet: \"UTF-8\"\n  }), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1.0\"\n  }), /*#__PURE__*/React.createElement(\"title\", null, \"Confirmaci\\xF3n de Pedido\")), /*#__PURE__*/React.createElement(\"body\", {\n    style: styles.body\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    style: styles.container,\n    cellPadding: \"0\",\n    cellSpacing: \"0\"\n  }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n    style: styles.header\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: styles.headerTitle\n  }, \"\\xA1Hola, \", pedido.nombreSaludo, \"!\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: styles.headerSubtitle\n  }, \"Confirmaci\\xF3n del Pedido #\", pedido.folio)))), /*#__PURE__*/React.createElement(\"tbody\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n    style: styles.content\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    style: styles.orderDetails\n  }, /*#__PURE__*/React.createElement(\"tbody\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n    style: styles.orderDetailTd\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    style: styles.orderDetailLabel\n  }, \"Titular de la cuenta:\")), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      ...styles.orderDetailTd,\n      textAlign: \"right\",\n      fontWeight: \"bold\"\n    }\n  }, pedido.nombreTitular)), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n    style: styles.orderDetailTd\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    style: styles.orderDetailLabel\n  }, \"Pedido realizado:\")), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      ...styles.orderDetailTd,\n      textAlign: \"right\"\n    }\n  }, formatDate(pedido.createdAt))), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n    style: styles.orderDetailTd\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    style: styles.orderDetailLabel\n  }, \"Enviar a:\")), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      ...styles.orderDetailTd,\n      textAlign: \"right\"\n    }\n  }, pedido.enviar_a)), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n    style: styles.orderDetailTd\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    style: styles.orderDetailLabel\n  }, \"Estatus del pedido:\")), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      ...styles.orderDetailTd,\n      textAlign: \"right\"\n    }\n  }, pedido.estatus)))), /*#__PURE__*/React.createElement(\"table\", {\n    style: styles.itemsTable\n  }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n    style: styles.itemsTh\n  }, \"Producto\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      ...styles.itemsTh,\n      textAlign: \"center\"\n    }\n  }, \"Cantidad\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      ...styles.itemsTh,\n      textAlign: \"right\"\n    }\n  }, \"Total\"))), /*#__PURE__*/React.createElement(\"tbody\", null, pedido.items.map(item => /*#__PURE__*/React.createElement(PedidoEmailItem, {\n    key: item.clave,\n    item: item\n  })))))), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n    style: styles.totalSection\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: styles.totalText\n  }, \"Total del Pedido: $\", parseFloat(pedido.total).toFixed(2))))), /*#__PURE__*/React.createElement(\"tfoot\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n    style: styles.footer\n  }, /*#__PURE__*/React.createElement(\"p\", null, \"Este es un correo de confirmaci\\xF3n autom\\xE1tico. Si tienes alguna pregunta, cont\\xE1ctanos en contacto@sealmarket.mx\"), /*#__PURE__*/React.createElement(\"p\", null, \"\\xA9 \", new Date().getFullYear(), \" Seal Market. Todos los derechos reservados.\")))))));\n};\nmodule.exports = PedidoEmail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJQZWRpZG9FbWFpbEl0ZW0iLCJQZWRpZG9FbWFpbCIsInBlZGlkbyIsImZvcm1hdERhdGUiLCJkYXRlU3RyaW5nIiwib3B0aW9ucyIsImRheSIsIm1vbnRoIiwieWVhciIsIkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJzdHlsZXMiLCJib2R5IiwiZm9udEZhbWlseSIsImNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwibWFyZ2luIiwicGFkZGluZyIsImNvbnRhaW5lciIsIm1heFdpZHRoIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwib3ZlcmZsb3ciLCJoZWFkZXIiLCJ0ZXh0QWxpZ24iLCJoZWFkZXJUaXRsZSIsImZvbnRTaXplIiwiaGVhZGVyU3VidGl0bGUiLCJjb250ZW50Iiwib3JkZXJEZXRhaWxzIiwid2lkdGgiLCJib3JkZXJDb2xsYXBzZSIsIm1hcmdpbkJvdHRvbSIsIm9yZGVyRGV0YWlsVGQiLCJvcmRlckRldGFpbExhYmVsIiwiaXRlbXNUYWJsZSIsIml0ZW1zVGgiLCJib3JkZXJCb3R0b20iLCJ0b3RhbFNlY3Rpb24iLCJib3JkZXJUb3AiLCJ0b3RhbFRleHQiLCJmb250V2VpZ2h0IiwiZm9vdGVyIiwiY3JlYXRlRWxlbWVudCIsImxhbmciLCJjaGFyU2V0IiwibmFtZSIsInN0eWxlIiwiY2VsbFBhZGRpbmciLCJjZWxsU3BhY2luZyIsIm5vbWJyZVNhbHVkbyIsImZvbGlvIiwibm9tYnJlVGl0dWxhciIsImNyZWF0ZWRBdCIsImVudmlhcl9hIiwiZXN0YXR1cyIsIml0ZW1zIiwibWFwIiwiaXRlbSIsImtleSIsImNsYXZlIiwicGFyc2VGbG9hdCIsInRvdGFsIiwidG9GaXhlZCIsImdldEZ1bGxZZWFyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFx0ZW1wbGF0ZXNcXCIsInNvdXJjZXMiOlsiUGVkaWRvRW1haWwuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuY29uc3QgUGVkaWRvRW1haWxJdGVtID0gcmVxdWlyZSgnLi9QZWRpZG9FbWFpbEl0ZW0nKTtcclxuXHJcbmNvbnN0IFBlZGlkb0VtYWlsID0gKHsgcGVkaWRvIH0pID0+IHtcclxuICBjb25zdCBmb3JtYXREYXRlID0gKGRhdGVTdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7IGRheTogXCJudW1lcmljXCIsIG1vbnRoOiBcImxvbmdcIiwgeWVhcjogXCJudW1lcmljXCIgfTtcclxuICAgIHJldHVybiBuZXcgRGF0ZShkYXRlU3RyaW5nKS50b0xvY2FsZURhdGVTdHJpbmcoXCJlcy1FU1wiLCBvcHRpb25zKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzdHlsZXMgPSB7XHJcbiAgICBib2R5OiB7XHJcbiAgICAgIGZvbnRGYW1pbHk6IFwiQXJpYWwsIHNhbnMtc2VyaWZcIixcclxuICAgICAgY29sb3I6IFwiIzMzM1wiLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y0ZjRmNFwiLFxyXG4gICAgICBtYXJnaW46IDAsXHJcbiAgICAgIHBhZGRpbmc6IFwiMjBweFwiLFxyXG4gICAgfSxcclxuICAgIGNvbnRhaW5lcjoge1xyXG4gICAgICBtYXhXaWR0aDogXCI2ODBweFwiLFxyXG4gICAgICBtYXJnaW46IFwiMCBhdXRvXCIsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxyXG4gICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXHJcbiAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxyXG4gICAgfSxcclxuICAgIGhlYWRlcjoge1xyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzIxNzdjMlwiLFxyXG4gICAgICBjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgIHBhZGRpbmc6IFwiMzBweCAyMHB4XCIsXHJcbiAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgIH0sXHJcbiAgICBoZWFkZXJUaXRsZToge1xyXG4gICAgICBtYXJnaW46IDAsXHJcbiAgICAgIGZvbnRTaXplOiBcIjI4cHhcIixcclxuICAgIH0sXHJcbiAgICBoZWFkZXJTdWJ0aXRsZToge1xyXG4gICAgICBtYXJnaW46IFwiNXB4IDAgMFwiLFxyXG4gICAgICBmb250U2l6ZTogXCIxNnB4XCIsXHJcbiAgICB9LFxyXG4gICAgY29udGVudDoge1xyXG4gICAgICBwYWRkaW5nOiBcIjMwcHhcIixcclxuICAgIH0sXHJcbiAgICBvcmRlckRldGFpbHM6IHtcclxuICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICBib3JkZXJDb2xsYXBzZTogXCJjb2xsYXBzZVwiLFxyXG4gICAgICBtYXJnaW5Cb3R0b206IFwiMzBweFwiLFxyXG4gICAgfSxcclxuICAgIG9yZGVyRGV0YWlsVGQ6IHtcclxuICAgICAgcGFkZGluZzogXCI4cHggMFwiLFxyXG4gICAgICBmb250U2l6ZTogXCIxNHB4XCIsXHJcbiAgICB9LFxyXG4gICAgb3JkZXJEZXRhaWxMYWJlbDoge1xyXG4gICAgICBjb2xvcjogXCIjNTU1XCIsXHJcbiAgICB9LFxyXG4gICAgaXRlbXNUYWJsZToge1xyXG4gICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgIGJvcmRlckNvbGxhcHNlOiBcImNvbGxhcHNlXCIsXHJcbiAgICB9LFxyXG4gICAgaXRlbXNUaDoge1xyXG4gICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkICNkZGRcIixcclxuICAgICAgcGFkZGluZzogXCIwIDEwcHggMTBweCAxMHB4XCIsXHJcbiAgICAgIHRleHRBbGlnbjogXCJsZWZ0XCIsXHJcbiAgICAgIGNvbG9yOiBcIiM1NTVcIixcclxuICAgICAgZm9udFNpemU6IFwiMTRweFwiLFxyXG4gICAgfSxcclxuICAgIHRvdGFsU2VjdGlvbjoge1xyXG4gICAgICBwYWRkaW5nOiBcIjIwcHggMzBweFwiLFxyXG4gICAgICB0ZXh0QWxpZ246IFwicmlnaHRcIixcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmOWY5ZjlcIixcclxuICAgICAgYm9yZGVyVG9wOiBcIjFweCBzb2xpZCAjZGRkXCIsXHJcbiAgICB9LFxyXG4gICAgdG90YWxUZXh0OiB7XHJcbiAgICAgIG1hcmdpbjogMCxcclxuICAgICAgZm9udFNpemU6IFwiMThweFwiLFxyXG4gICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcclxuICAgIH0sXHJcbiAgICBmb290ZXI6IHtcclxuICAgICAgcGFkZGluZzogXCIyMHB4XCIsXHJcbiAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgICAgZm9udFNpemU6IFwiMTJweFwiLFxyXG4gICAgICBjb2xvcjogXCIjODg4XCIsXHJcbiAgICB9LFxyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8aHRtbCBsYW5nPVwiZXNcIj5cclxuICAgICAgPGhlYWQ+XHJcbiAgICAgICAgPG1ldGEgY2hhclNldD1cIlVURi04XCIgLz5cclxuICAgICAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiIC8+XHJcbiAgICAgICAgPHRpdGxlPkNvbmZpcm1hY2nDs24gZGUgUGVkaWRvPC90aXRsZT5cclxuICAgICAgPC9oZWFkPlxyXG4gICAgICA8Ym9keSBzdHlsZT17c3R5bGVzLmJvZHl9PlxyXG4gICAgICAgIDx0YWJsZSBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0gY2VsbFBhZGRpbmc9XCIwXCIgY2VsbFNwYWNpbmc9XCIwXCI+XHJcbiAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICA8dGggc3R5bGU9e3N0eWxlcy5oZWFkZXJ9PlxyXG4gICAgICAgICAgICAgICAgPGgxIHN0eWxlPXtzdHlsZXMuaGVhZGVyVGl0bGV9PsKhSG9sYSwge3BlZGlkby5ub21icmVTYWx1ZG99ITwvaDE+XHJcbiAgICAgICAgICAgICAgICB7LyogPGgxIHN0eWxlPXtzdHlsZXMuaGVhZGVyVGl0bGV9PsKhR3JhY2lhcyBwb3IgdHUgcGVkaWRvITwvaDE+ICovfVxyXG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9e3N0eWxlcy5oZWFkZXJTdWJ0aXRsZX0+XHJcbiAgICAgICAgICAgICAgICAgIENvbmZpcm1hY2nDs24gZGVsIFBlZGlkbyAje3BlZGlkby5mb2xpb31cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgIDx0ZCBzdHlsZT17c3R5bGVzLmNvbnRlbnR9PlxyXG4gICAgICAgICAgICAgICAgPHRhYmxlIHN0eWxlPXtzdHlsZXMub3JkZXJEZXRhaWxzfT5cclxuICAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17c3R5bGVzLm9yZGVyRGV0YWlsVGR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nIHN0eWxlPXtzdHlsZXMub3JkZXJEZXRhaWxMYWJlbH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGl0dWxhciBkZSBsYSBjdWVudGE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnN0eWxlcy5vcmRlckRldGFpbFRkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJyaWdodFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7cGVkaWRvLm5vbWJyZVRpdHVsYXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXtzdHlsZXMub3JkZXJEZXRhaWxUZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmcgc3R5bGU9e3N0eWxlcy5vcmRlckRldGFpbExhYmVsfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBQZWRpZG8gcmVhbGl6YWRvOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0cm9uZz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgLi4uc3R5bGVzLm9yZGVyRGV0YWlsVGQsIHRleHRBbGlnbjogXCJyaWdodFwiIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXREYXRlKHBlZGlkby5jcmVhdGVkQXQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3N0eWxlcy5vcmRlckRldGFpbFRkfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBzdHlsZT17c3R5bGVzLm9yZGVyRGV0YWlsTGFiZWx9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIEZlY2hhIGRlIEVudHJlZ2EgRXN0aW1hZGE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnN0eWxlcy5vcmRlckRldGFpbFRkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJyaWdodFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0RGF0ZShwZWRpZG8uZmVjaGFfZW50cmVnYSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+ICovfVxyXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17c3R5bGVzLm9yZGVyRGV0YWlsVGR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nIHN0eWxlPXtzdHlsZXMub3JkZXJEZXRhaWxMYWJlbH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgRW52aWFyIGE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Ryb25nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyAuLi5zdHlsZXMub3JkZXJEZXRhaWxUZCwgdGV4dEFsaWduOiBcInJpZ2h0XCIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3BlZGlkby5lbnZpYXJfYX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3N0eWxlcy5vcmRlckRldGFpbFRkfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBzdHlsZT17c3R5bGVzLm9yZGVyRGV0YWlsTGFiZWx9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIEVzdGF0dXMgZGVsIHBlZGlkbzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHJvbmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IC4uLnN0eWxlcy5vcmRlckRldGFpbFRkLCB0ZXh0QWxpZ246IFwicmlnaHRcIiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7cGVkaWRvLmVzdGF0dXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG5cclxuICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT17c3R5bGVzLml0ZW1zVGFibGV9PlxyXG4gICAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPXtzdHlsZXMuaXRlbXNUaH0+UHJvZHVjdG88L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPXt7IC4uLnN0eWxlcy5pdGVtc1RoLCB0ZXh0QWxpZ246IFwiY2VudGVyXCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbnRpZGFkXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPXt7IC4uLnN0eWxlcy5pdGVtc1RoLCB0ZXh0QWxpZ246IFwicmlnaHRcIiB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgVG90YWxcclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgIHtwZWRpZG8uaXRlbXMubWFwKChpdGVtKSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8UGVkaWRvRW1haWxJdGVtIGtleT17aXRlbS5jbGF2ZX0gaXRlbT17aXRlbX0gLz5cclxuICAgICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgIDx0ZCBzdHlsZT17c3R5bGVzLnRvdGFsU2VjdGlvbn0+XHJcbiAgICAgICAgICAgICAgICA8aDMgc3R5bGU9e3N0eWxlcy50b3RhbFRleHR9PlxyXG4gICAgICAgICAgICAgICAgICBUb3RhbCBkZWwgUGVkaWRvOiAke3BhcnNlRmxvYXQocGVkaWRvLnRvdGFsKS50b0ZpeGVkKDIpfVxyXG4gICAgICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgIDx0Zm9vdD5cclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgIDx0ZCBzdHlsZT17c3R5bGVzLmZvb3Rlcn0+XHJcbiAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgRXN0ZSBlcyB1biBjb3JyZW8gZGUgY29uZmlybWFjacOzbiBhdXRvbcOhdGljby4gU2kgdGllbmVzIGFsZ3VuYVxyXG4gICAgICAgICAgICAgICAgICBwcmVndW50YSwgY29udMOhY3Rhbm9zIGVuIGNvbnRhY3RvQHNlYWxtYXJrZXQubXhcclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAmY29weTsge25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX0gU2VhbCBNYXJrZXQuIFRvZG9zIGxvc1xyXG4gICAgICAgICAgICAgICAgICBkZXJlY2hvcyByZXNlcnZhZG9zLlxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3Rmb290PlxyXG4gICAgICAgIDwvdGFibGU+XHJcbiAgICAgIDwvYm9keT5cclxuICAgIDwvaHRtbD5cclxuICApO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBQZWRpZG9FbWFpbDtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDOUIsTUFBTUMsZUFBZSxHQUFHRCxPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFFcEQsTUFBTUUsV0FBVyxHQUFHQSxDQUFDO0VBQUVDO0FBQU8sQ0FBQyxLQUFLO0VBQ2xDLE1BQU1DLFVBQVUsR0FBSUMsVUFBVSxJQUFLO0lB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","map":{"version":3,"names":["React","require","PedidoEmailItem","PedidoEmail","pedido","formatDate","dateString","options","day","month","year","Date","toLocaleDateString","styles","body","fontFamily","color","backgroundColor","margin","padding","container","maxWidth","border","borderRadius","overflow","header","textAlign","headerTitle","fontSize","headerSubtitle","content","orderDetails","width","borderCollapse","marginBottom","orderDetailTd","orderDetailLabel","itemsTable","itemsTh","borderBottom","totalSection","borderTop","totalText","fontWeight","footer","createElement","lang","charSet","name","style","cellPadding","cellSpacing","nombreSaludo","folio","nombreTitular","createdAt","enviar_a","estatus","items","map","item","key","clave","parseFloat","total","toFixed","getFullYear","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\templates\\","sources":["PedidoEmail.jsx"],"sourcesContent":["const React = require('react');\r\nconst PedidoEmailItem = require('./PedidoEmailItem');\r\n\r\nconst PedidoEmail = ({ pedido }) => {\r\n  const formatDate = (dateString) => {\r\n    const options = { day: \"numeric\", month: \"long\", year: \"numeric\" };\r\n    return new Date(dateString).toLocaleDateString(\"es-ES\", options);\r\n  };\r\n\r\n  const styles = {\r\n    body: {\r\n      fontFamily: \"Arial, sans-serif\",\r\n      color: \"#333\",\r\n      backgroundColor: \"#f4f4f4\",\r\n      margin: 0,\r\n      padding: \"20px\",\r\n    },\r\n    container: {\r\n      maxWidth: \"680px\",\r\n      margin: \"0 auto\",\r\n      backgroundColor: \"#ffffff\",\r\n      border: \"1px solid #ddd\",\r\n      borderRadius: \"8px\",\r\n      overflow: \"hidden\",\r\n    },\r\n    header: {\r\n      backgroundColor: \"#2177c2\",\r\n      color: \"#ffffff\",\r\n      padding: \"30px 20px\",\r\n      textAlign: \"center\",\r\n    },\r\n    headerTitle: {\r\n      margin: 0,\r\n      fontSize: \"28px\",\r\n    },\r\n    headerSubtitle: {\r\n      margin: \"5px 0 0\",\r\n      fontSize: \"16px\",\r\n    },\r\n    content: {\r\n      padding: \"30px\",\r\n    },\r\n    orderDetails: {\r\n      width: \"100%\",\r\n      borderCollapse: \"collapse\",\r\n      marginBottom: \"30px\",\r\n    },\r\n    orderDetailTd: {\r\n      padding: \"8px 0\",\r\n      fontSize: \"14px\",\r\n    },\r\n    orderDetailLabel: {\r\n      color: \"#555\",\r\n    },\r\n    itemsTable: {\r\n      width: \"100%\",\r\n      borderCollapse: \"collapse\",\r\n    },\r\n    itemsTh: {\r\n      borderBottom: \"2px solid #ddd\",\r\n      padding: \"0 10px 10px 10px\",\r\n      textAlign: \"left\",\r\n      color: \"#555\",\r\n      fontSize: \"14px\",\r\n    },\r\n    totalSection: {\r\n      padding: \"20px 30px\",\r\n      textAlign: \"right\",\r\n      backgroundColor: \"#f9f9f9\",\r\n      borderTop: \"1px solid #ddd\",\r\n    },\r\n    totalText: {\r\n      margin: 0,\r\n      fontSize: \"18px\",\r\n      fontWeight: \"bold\",\r\n    },\r\n    footer: {\r\n      padding: \"20px\",\r\n      textAlign: \"center\",\r\n      fontSize: \"12px\",\r\n      color: \"#888\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <html lang=\"es\">\r\n      <head>\r\n        <meta charSet=\"UTF-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n        <title>Confirmación de Pedido</title>\r\n      </head>\r\n      <body style={styles.body}>\r\n        <table style={styles.container} cellPadding=\"0\" cellSpacing=\"0\">\r\n          <thead>\r\n            <tr>\r\n              <th style={styles.header}>\r\n                <h1 style={styles.headerTitle}>¡Hola, {pedido.nombreSaludo}!</h1>\r\n                {/* <h1 style={styles.headerTitle}>¡Gracias por tu pedido!</h1> */}\r\n                <p style={styles.headerSubtitle}>\r\n                  Confirmación del Pedido #{pedido.folio}\r\n                </p>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td style={styles.content}>\r\n                <table style={styles.orderDetails}>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td style={styles.orderDetailTd}>\r\n                        <strong style={styles.orderDetailLabel}>\r\n                          Titular de la cuenta:\r\n                        </strong>\r\n                      </td>\r\n                      <td\r\n                        style={{\r\n                          ...styles.orderDetailTd,\r\n                          textAlign: \"right\",\r\n                          fontWeight: \"bold\",\r\n                        }}\r\n                      >\r\n                        {pedido.nombreTitular}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style={styles.orderDetailTd}>\r\n                        <strong style={styles.orderDetailLabel}>\r\n                          Pedido realizado:\r\n                        </strong>\r\n                      </td>\r\n                      <td\r\n                        style={{ ...styles.orderDetailTd, textAlign: \"right\" }}\r\n                      >\r\n                        {formatDate(pedido.createdAt)}\r\n                      </td>\r\n                    </tr>\r\n                    {/* <tr>\r\n                      <td style={styles.orderDetailTd}>\r\n                        <strong style={styles.orderDetailLabel}>\r\n                          Fecha de Entrega Estimada:\r\n                        </strong>\r\n                      </td>\r\n                      <td\r\n                        style={{\r\n                          ...styles.orderDetailTd,\r\n                          textAlign: \"right\",\r\n                          fontWeight: \"bold\",\r\n                        }}\r\n                      >\r\n                        {formatDate(pedido.fecha_entrega)}\r\n                      </td>\r\n                    </tr> */}\r\n                    <tr>\r\n                      <td style={styles.orderDetailTd}>\r\n                        <strong style={styles.orderDetailLabel}>\r\n                          Enviar a:\r\n                        </strong>\r\n                      </td>\r\n                      <td\r\n                        style={{ ...styles.orderDetailTd, textAlign: \"right\" }}\r\n                      >\r\n                        {pedido.enviar_a}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style={styles.orderDetailTd}>\r\n                        <strong style={styles.orderDetailLabel}>\r\n                          Estatus del pedido:\r\n                        </strong>\r\n                      </td>\r\n                      <td\r\n                        style={{ ...styles.orderDetailTd, textAlign: \"right\" }}\r\n                      >\r\n                        {pedido.estatus}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n\r\n                <table style={styles.itemsTable}>\r\n                  <thead>\r\n                    <tr>\r\n                      <th style={styles.itemsTh}>Producto</th>\r\n                      <th style={{ ...styles.itemsTh, textAlign: \"center\" }}>\r\n                        Cantidad\r\n                      </th>\r\n                      <th style={{ ...styles.itemsTh, textAlign: \"right\" }}>\r\n                        Total\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {pedido.items.map((item) => (\r\n                      <PedidoEmailItem key={item.clave} item={item} />\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td style={styles.totalSection}>\r\n                <h3 style={styles.totalText}>\r\n                  Total del Pedido: ${parseFloat(pedido.total).toFixed(2)}\r\n                </h3>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <td style={styles.footer}>\r\n                <p>\r\n                  Este es un correo de confirmación automático. Si tienes alguna\r\n                  pregunta, contáctanos en contacto@sealmarket.mx\r\n                </p>\r\n                <p>\r\n                  &copy; {new Date().getFullYear()} Seal Market. Todos los\r\n                  derechos reservados.\r\n                </p>\r\n              </td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n      </body>\r\n    </html>\r\n  );\r\n};\r\n\r\nmodule.exports = PedidoEmail;\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1761516021916},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\templates\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\templates\\\\PedidoEmailItem.jsx\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const React = require('react');\nconst PedidoEmailItem = ({\n  item\n}) => {\n  // Asumimos que el backend proveerá la URL completa de la imagen\n  const imageUrl = item.imageUrl || `https://www.sealmarket.mx/Perfiles/${item.linea}.jpg`; // Fallback por si acaso\n\n  const formatDate = dateString => {\n    if (!dateString || dateString === 'N/A') {\n      return 'Fecha no disponible';\n    }\n\n    // 🚨 CORRECCIÓN CLAVE: Dividir la cadena YYYY-MM-DD para crear la fecha\n    // en la hora local y EVITAR el desfase de zona horaria (UTC).\n    const parts = dateString.split('-');\n    const year = parseInt(parts[0], 10);\n    // El mes es base 0 en JavaScript, por eso restamos 1 (Septiembre = 8).\n    const monthIndex = parseInt(parts[1], 10) - 1;\n    const day = parseInt(parts[2], 10);\n\n    // Esto crea la fecha como 2025-09-30T00:00:00 en la zona horaria local.\n    const date = new Date(year, monthIndex, day);\n\n    // Opciones para el formato: \"miércoles, 1 de octubre\"\n    const options = {\n      weekday: 'long',\n      // Nombre completo del día\n      day: 'numeric',\n      // Número del día del mes\n      month: 'long' // Nombre completo del mes\n    };\n\n    // toLocaleDateString generará la cadena (ej. \"martes, 30 de septiembre\")\n    let formattedDate = date.toLocaleDateString('es-ES', options);\n\n    // Capitalizar la primera letra del día\n    formattedDate = formattedDate.charAt(0).toUpperCase() + formattedDate.slice(1);\n\n    // Nota: Dejamos que la función toLocaleDateString maneje la preposición \"de\".\n    // Si tu versión anterior tenía una manipulación de cadena para quitar ' de ', \n    // quítala para que el formato final sea \"Miércoles, 1 de octubre\".\n\n    return formattedDate;\n  };\n  const styles = {\n    tr: {\n      borderBottom: '1px solid #ddd'\n    },\n    td: {\n      padding: '15px 10px',\n      verticalAlign: 'middle'\n    },\n    img: {\n      width: '80px',\n      height: '80px',\n      objectFit: 'cover',\n      marginRight: '15px'\n    },\n    productInfo: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    description: {\n      fontSize: '14px',\n      fontWeight: 'bold',\n      color: '#2177c2',\n      textDecoration: 'none'\n    },\n    sku: {\n      fontSize: '12px',\n      color: '#555'\n    },\n    quantity: {\n      fontSize: '14px',\n      textAlign: 'center'\n    },\n    price: {\n      fontSize: '14px',\n      fontWeight: 'bold',\n      textAlign: 'right'\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    style: styles.tr\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: styles.td\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.productInfo\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: imageUrl,\n    alt: item.descripcion,\n    style: styles.img\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"a\", {\n    href: `https://www.sealmarket.mx/producto/${item.clave}`,\n    style: styles.description\n  }, item.descripcion), /*#__PURE__*/React.createElement(\"p\", {\n    style: styles.sku\n  }, \"SKU: \", item.clave), item.fecha_entrega && item.fecha_entrega !== 'N/A' && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      ...styles.sku,\n      color: '#339966',\n      fontWeight: 'bold'\n    }\n  }, \"Entrega: \", formatDate(item.fecha_entrega))))), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      ...styles.td,\n      ...styles.quantity\n    }\n  }, item.cantidad), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      ...styles.td,\n      ...styles.price\n    }\n  }, \"$\", parseFloat(item.total_partida).toFixed(2)));\n};\nmodule.exports = PedidoEmailItem;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJQZWRpZG9FbWFpbEl0ZW0iLCJpdGVtIiwiaW1hZ2VVcmwiLCJsaW5lYSIsImZvcm1hdERhdGUiLCJkYXRlU3RyaW5nIiwicGFydHMiLCJzcGxpdCIsInllYXIiLCJwYXJzZUludCIsIm1vbnRoSW5kZXgiLCJkYXkiLCJkYXRlIiwiRGF0ZSIsIm9wdGlvbnMiLCJ3ZWVrZGF5IiwibW9udGgiLCJmb3JtYXR0ZWREYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsInN0eWxlcyIsInRyIiwiYm9yZGVyQm90dG9tIiwidGQiLCJwYWRkaW5nIiwidmVydGljYWxBbGlnbiIsImltZyIsIndpZHRoIiwiaGVpZ2h0Iiwib2JqZWN0Rml0IiwibWFyZ2luUmlnaHQiLCJwcm9kdWN0SW5mbyIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiZGVzY3JpcHRpb24iLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJjb2xvciIsInRleHREZWNvcmF0aW9uIiwic2t1IiwicXVhbnRpdHkiLCJ0ZXh0QWxpZ24iLCJwcmljZSIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsInNyYyIsImFsdCIsImRlc2NyaXBjaW9uIiwiaHJlZiIsImNsYXZlIiwiZmVjaGFfZW50cmVnYSIsImNhbnRpZGFkIiwicGFyc2VGbG9hdCIsInRvdGFsX3BhcnRpZGEiLCJ0b0ZpeGVkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFx0ZW1wbGF0ZXNcXCIsInNvdXJjZXMiOlsiUGVkaWRvRW1haWxJdGVtLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcblxyXG5jb25zdCBQZWRpZG9FbWFpbEl0ZW0gPSAoeyBpdGVtIH0pID0+IHtcclxuICAvLyBBc3VtaW1vcyBxdWUgZWwgYmFja2VuZCBwcm92ZWVyw6EgbGEgVVJMIGNvbXBsZXRhIGRlIGxhIGltYWdlblxyXG4gIGNvbnN0IGltYWdlVXJsID0gaXRlbS5pbWFnZVVybCB8fCBgaHR0cHM6Ly93d3cuc2VhbG1hcmtldC5teC9QZXJmaWxlcy8ke2l0ZW0ubGluZWF9LmpwZ2A7IC8vIEZhbGxiYWNrIHBvciBzaSBhY2Fzb1xyXG5cclxuICBjb25zdCBmb3JtYXREYXRlID0gKGRhdGVTdHJpbmcpID0+IHtcclxuICAgIGlmICghZGF0ZVN0cmluZyB8fCBkYXRlU3RyaW5nID09PSAnTi9BJykge1xyXG4gICAgICAgIHJldHVybiAnRmVjaGEgbm8gZGlzcG9uaWJsZSc7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIPCfmqggQ09SUkVDQ0nDk04gQ0xBVkU6IERpdmlkaXIgbGEgY2FkZW5hIFlZWVktTU0tREQgcGFyYSBjcmVhciBsYSBmZWNoYVxyXG4gICAgLy8gZW4gbGEgaG9yYSBsb2NhbCB5IEVWSVRBUiBlbCBkZXNmYXNlIGRlIHpvbmEgaG9yYXJpYSAoVVRDKS5cclxuICAgIGNvbnN0IHBhcnRzID0gZGF0ZVN0cmluZy5zcGxpdCgnLScpOyBcclxuICAgIGNvbnN0IHllYXIgPSBwYXJzZUludChwYXJ0c1swXSwgMTApO1xyXG4gICAgLy8gRWwgbWVzIGVzIGJhc2UgMCBlbiBKYXZhU2NyaXB0LCBwb3IgZXNvIHJlc3RhbW9zIDEgKFNlcHRpZW1icmUgPSA4KS5cclxuICAgIGNvbnN0IG1vbnRoSW5kZXggPSBwYXJzZUludChwYXJ0c1sxXSwgMTApIC0gMTsgXHJcbiAgICBjb25zdCBkYXkgPSBwYXJzZUludChwYXJ0c1syXSwgMTApO1xyXG4gICAgXHJcbiAgICAvLyBFc3RvIGNyZWEgbGEgZmVjaGEgY29tbyAyMDI1LTA5LTMwVDAwOjAwOjAwIGVuIGxhIHpvbmEgaG9yYXJpYSBsb2NhbC5cclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aEluZGV4LCBkYXkpOyBcclxuXHJcbiAgICAvLyBPcGNpb25lcyBwYXJhIGVsIGZvcm1hdG86IFwibWnDqXJjb2xlcywgMSBkZSBvY3R1YnJlXCJcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7IFxyXG4gICAgICAgIHdlZWtkYXk6ICdsb25nJywgLy8gTm9tYnJlIGNvbXBsZXRvIGRlbCBkw61hXHJcbiAgICAgICAgZGF5OiAnbnVtZXJpYycsICAvLyBOw7ptZXJvIGRlbCBkw61hIGRlbCBtZXNcclxuICAgICAgICBtb250aDogJ2xvbmcnLCAgIC8vIE5vbWJyZSBjb21wbGV0byBkZWwgbWVzXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyB0b0xvY2FsZURhdGVTdHJpbmcgZ2VuZXJhcsOhIGxhIGNhZGVuYSAoZWouIFwibWFydGVzLCAzMCBkZSBzZXB0aWVtYnJlXCIpXHJcbiAgICBsZXQgZm9ybWF0dGVkRGF0ZSA9IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlcy1FUycsIG9wdGlvbnMpO1xyXG4gICAgXHJcbiAgICAvLyBDYXBpdGFsaXphciBsYSBwcmltZXJhIGxldHJhIGRlbCBkw61hXHJcbiAgICBmb3JtYXR0ZWREYXRlID0gZm9ybWF0dGVkRGF0ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGZvcm1hdHRlZERhdGUuc2xpY2UoMSk7XHJcblxyXG4gICAgLy8gTm90YTogRGVqYW1vcyBxdWUgbGEgZnVuY2nDs24gdG9Mb2NhbGVEYXRlU3RyaW5nIG1hbmVqZSBsYSBwcmVwb3NpY2nDs24gXCJkZVwiLlxyXG4gICAgLy8gU2kgdHUgdmVyc2nDs24gYW50ZXJpb3IgdGVuw61hIHVuYSBtYW5pcHVsYWNpw7NuIGRlIGNhZGVuYSBwYXJhIHF1aXRhciAnIGRlICcsIFxyXG4gICAgLy8gcXXDrXRhbGEgcGFyYSBxdWUgZWwgZm9ybWF0byBmaW5hbCBzZWEgXCJNacOpcmNvbGVzLCAxIGRlIG9jdHVicmVcIi5cclxuXHJcbiAgICByZXR1cm4gZm9ybWF0dGVkRGF0ZTtcclxufTtcclxuXHJcbiAgY29uc3Qgc3R5bGVzID0ge1xyXG4gICAgdHI6IHtcclxuICAgICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkICNkZGQnLFxyXG4gICAgfSxcclxuICAgIHRkOiB7XHJcbiAgICAgIHBhZGRpbmc6ICcxNXB4IDEwcHgnLFxyXG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcclxuICAgIH0sXHJcbiAgICBpbWc6IHtcclxuICAgICAgd2lkdGg6ICc4MHB4JyxcclxuICAgICAgaGVpZ2h0OiAnODBweCcsXHJcbiAgICAgIG9iamVjdEZpdDogJ2NvdmVyJyxcclxuICAgICAgbWFyZ2luUmlnaHQ6ICcxNXB4JyxcclxuICAgIH0sXHJcbiAgICBwcm9kdWN0SW5mbzoge1xyXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgfSxcclxuICAgIGRlc2NyaXB0aW9uOiB7XHJcbiAgICAgIGZvbnRTaXplOiAnMTRweCcsXHJcbiAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgICAgY29sb3I6ICcjMjE3N2MyJyxcclxuICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcclxuICAgIH0sXHJcbiAgICBza3U6IHtcclxuICAgICAgZm9udFNpemU6ICcxMnB4JyxcclxuICAgICAgY29sb3I6ICcjNTU1JyxcclxuICAgIH0sXHJcbiAgICBxdWFudGl0eToge1xyXG4gICAgICBmb250U2l6ZTogJzE0cHgnLFxyXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxyXG4gICAgfSxcclxuICAgIHByaWNlOiB7XHJcbiAgICAgIGZvbnRTaXplOiAnMTRweCcsXHJcbiAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgICAgdGV4dEFsaWduOiAncmlnaHQnLFxyXG4gICAgfSxcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPHRyIHN0eWxlPXtzdHlsZXMudHJ9PlxyXG4gICAgICA8dGQgc3R5bGU9e3N0eWxlcy50ZH0+XHJcbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLnByb2R1Y3RJbmZvfT5cclxuICAgICAgICAgIDxpbWcgc3JjPXtpbWFnZVVybH0gYWx0PXtpdGVtLmRlc2NyaXBjaW9ufSBzdHlsZT17c3R5bGVzLmltZ30gLz5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxhIGhyZWY9e2BodHRwczovL3d3dy5zZWFsbWFya2V0Lm14L3Byb2R1Y3RvLyR7aXRlbS5jbGF2ZX1gfSBzdHlsZT17c3R5bGVzLmRlc2NyaXB0aW9ufT5cclxuICAgICAgICAgICAgICB7aXRlbS5kZXNjcmlwY2lvbn1cclxuICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICA8cCBzdHlsZT17c3R5bGVzLnNrdX0+U0tVOiB7aXRlbS5jbGF2ZX08L3A+XHJcbiAgICAgICAgICAgIHtpdGVtLmZlY2hhX2VudHJlZ2EgJiYgaXRlbS5mZWNoYV9lbnRyZWdhICE9PSAnTi9BJyAmJiAoXHJcbiAgICAgICAgICAgICAgICA8cCBzdHlsZT17ey4uLnN0eWxlcy5za3UsIGNvbG9yOiAnIzMzOTk2NicsIGZvbnRXZWlnaHQ6ICdib2xkJ319PlxyXG4gICAgICAgICAgICAgICAgICAgIEVudHJlZ2E6IHtmb3JtYXREYXRlKGl0ZW0uZmVjaGFfZW50cmVnYSl9XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC90ZD5cclxuICAgICAgPHRkIHN0eWxlPXt7IC4uLnN0eWxlcy50ZCwgLi4uc3R5bGVzLnF1YW50aXR5IH19PntpdGVtLmNhbnRpZGFkfTwvdGQ+XHJcbiAgICAgIDx0ZCBzdHlsZT17eyAuLi5zdHlsZXMudGQsIC4uLnN0eWxlcy5wcmljZSB9fT4ke3BhcnNlRmxvYXQoaXRlbS50b3RhbF9wYXJ0aWRhKS50b0ZpeGVkKDIpfTwvdGQ+XHJcbiAgICA8L3RyPlxyXG4gICk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFBlZGlkb0VtYWlsSXRlbTtc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","map":{"version":3,"names":["React","require","PedidoEmailItem","item","imageUrl","linea","formatDate","dateString","parts","split","year","parseInt","monthIndex","day","date","Date","options","weekday","month","formattedDate","toLocaleDateString","charAt","toUpperCase","slice","styles","tr","borderBottom","td","padding","verticalAlign","img","width","height","objectFit","marginRight","productInfo","display","alignItems","description","fontSize","fontWeight","color","textDecoration","sku","quantity","textAlign","price","createElement","style","src","alt","descripcion","href","clave","fecha_entrega","cantidad","parseFloat","total_partida","toFixed","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\templates\\","sources":["PedidoEmailItem.jsx"],"sourcesContent":["const React = require('react');\r\n\r\nconst PedidoEmailItem = ({ item }) => {\r\n  // Asumimos que el backend proveerá la URL completa de la imagen\r\n  const imageUrl = item.imageUrl || `https://www.sealmarket.mx/Perfiles/${item.linea}.jpg`; // Fallback por si acaso\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString || dateString === 'N/A') {\r\n        return 'Fecha no disponible';\r\n    }\r\n    \r\n    // 🚨 CORRECCIÓN CLAVE: Dividir la cadena YYYY-MM-DD para crear la fecha\r\n    // en la hora local y EVITAR el desfase de zona horaria (UTC).\r\n    const parts = dateString.split('-'); \r\n    const year = parseInt(parts[0], 10);\r\n    // El mes es base 0 en JavaScript, por eso restamos 1 (Septiembre = 8).\r\n    const monthIndex = parseInt(parts[1], 10) - 1; \r\n    const day = parseInt(parts[2], 10);\r\n    \r\n    // Esto crea la fecha como 2025-09-30T00:00:00 en la zona horaria local.\r\n    const date = new Date(year, monthIndex, day); \r\n\r\n    // Opciones para el formato: \"miércoles, 1 de octubre\"\r\n    const options = { \r\n        weekday: 'long', // Nombre completo del día\r\n        day: 'numeric',  // Número del día del mes\r\n        month: 'long',   // Nombre completo del mes\r\n    };\r\n    \r\n    // toLocaleDateString generará la cadena (ej. \"martes, 30 de septiembre\")\r\n    let formattedDate = date.toLocaleDateString('es-ES', options);\r\n    \r\n    // Capitalizar la primera letra del día\r\n    formattedDate = formattedDate.charAt(0).toUpperCase() + formattedDate.slice(1);\r\n\r\n    // Nota: Dejamos que la función toLocaleDateString maneje la preposición \"de\".\r\n    // Si tu versión anterior tenía una manipulación de cadena para quitar ' de ', \r\n    // quítala para que el formato final sea \"Miércoles, 1 de octubre\".\r\n\r\n    return formattedDate;\r\n};\r\n\r\n  const styles = {\r\n    tr: {\r\n      borderBottom: '1px solid #ddd',\r\n    },\r\n    td: {\r\n      padding: '15px 10px',\r\n      verticalAlign: 'middle',\r\n    },\r\n    img: {\r\n      width: '80px',\r\n      height: '80px',\r\n      objectFit: 'cover',\r\n      marginRight: '15px',\r\n    },\r\n    productInfo: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n    },\r\n    description: {\r\n      fontSize: '14px',\r\n      fontWeight: 'bold',\r\n      color: '#2177c2',\r\n      textDecoration: 'none',\r\n    },\r\n    sku: {\r\n      fontSize: '12px',\r\n      color: '#555',\r\n    },\r\n    quantity: {\r\n      fontSize: '14px',\r\n      textAlign: 'center',\r\n    },\r\n    price: {\r\n      fontSize: '14px',\r\n      fontWeight: 'bold',\r\n      textAlign: 'right',\r\n    },\r\n  };\r\n\r\n  return (\r\n    <tr style={styles.tr}>\r\n      <td style={styles.td}>\r\n        <div style={styles.productInfo}>\r\n          <img src={imageUrl} alt={item.descripcion} style={styles.img} />\r\n          <div>\r\n            <a href={`https://www.sealmarket.mx/producto/${item.clave}`} style={styles.description}>\r\n              {item.descripcion}\r\n            </a>\r\n            <p style={styles.sku}>SKU: {item.clave}</p>\r\n            {item.fecha_entrega && item.fecha_entrega !== 'N/A' && (\r\n                <p style={{...styles.sku, color: '#339966', fontWeight: 'bold'}}>\r\n                    Entrega: {formatDate(item.fecha_entrega)}\r\n                </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </td>\r\n      <td style={{ ...styles.td, ...styles.quantity }}>{item.cantidad}</td>\r\n      <td style={{ ...styles.td, ...styles.price }}>${parseFloat(item.total_partida).toFixed(2)}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nmodule.exports = PedidoEmailItem;\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1761516051829},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\visitas.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst db = require('../models');\nconst Visita = db.Visita;\n\n// Middleware para obtener la dirección IP del cliente.\n// Se recomienda usar un middleware o una función de utilidad para manejar\n// la lógica de proxies (ej. Heroku, AWS, Nginx).\nconst getClientIp = req => {\n  // Si estás detrás de un proxy, la IP real está en 'x-forwarded-for'\n  // La IP del cliente puede ser una lista, se toma la primera.\n  const forwardedIps = req.headers['x-forwarded-for'];\n  if (forwardedIps) {\n    return forwardedIps.split(',')[0].trim();\n  }\n  // Si no hay proxy, la IP está en req.connection.remoteAddress\n  // O simplemente req.ip en Express\n  return req.ip;\n};\n\n// Endpoint para registrar una nueva visita\nrouter.post('/', async (req, res) => {\n  try {\n    const visitorIp = getClientIp(req);\n    const datosVisita = {\n      ...req.body,\n      visitorIp: visitorIp\n    };\n    const nuevaVisita = await Visita.create(datosVisita);\n    res.status(201).json(nuevaVisita);\n  } catch (error) {\n    console.error('Error al registrar la visita:', error);\n    // Validar si es un error de validación de Sequelize\n    if (error.name === 'SequelizeValidationError') {\n      return res.status(400).json({\n        error: 'Error de validación: Asegúrate de que todos los campos requeridos estén presentes y sean del tipo correcto.',\n        details: error.errors.map(e => ({\n          field: e.path,\n          message: e.message\n        }))\n      });\n    }\n    res.status(500).json({\n      error: 'Error interno del servidor al registrar la visita.'\n    });\n  }\n});\n\n// Endpoint para obtener todas las visitas (opcional, útil para pruebas)\nrouter.get('/', async (req, res) => {\n  try {\n    const visitas = await Visita.findAll();\n    res.status(200).json(visitas);\n  } catch (error) {\n    console.error('Error al obtener las visitas:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor'\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiVmlzaXRhIiwiZ2V0Q2xpZW50SXAiLCJyZXEiLCJmb3J3YXJkZWRJcHMiLCJoZWFkZXJzIiwic3BsaXQiLCJ0cmltIiwiaXAiLCJwb3N0IiwicmVzIiwidmlzaXRvcklwIiwiZGF0b3NWaXNpdGEiLCJib2R5IiwibnVldmFWaXNpdGEiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwibmFtZSIsImRldGFpbHMiLCJlcnJvcnMiLCJtYXAiLCJlIiwiZmllbGQiLCJwYXRoIiwibWVzc2FnZSIsImdldCIsInZpc2l0YXMiLCJmaW5kQWxsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsidmlzaXRhcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL21vZGVscycpO1xyXG5jb25zdCBWaXNpdGEgPSBkYi5WaXNpdGE7XHJcblxyXG4vLyBNaWRkbGV3YXJlIHBhcmEgb2J0ZW5lciBsYSBkaXJlY2Npw7NuIElQIGRlbCBjbGllbnRlLlxyXG4vLyBTZSByZWNvbWllbmRhIHVzYXIgdW4gbWlkZGxld2FyZSBvIHVuYSBmdW5jacOzbiBkZSB1dGlsaWRhZCBwYXJhIG1hbmVqYXJcclxuLy8gbGEgbMOzZ2ljYSBkZSBwcm94aWVzIChlai4gSGVyb2t1LCBBV1MsIE5naW54KS5cclxuY29uc3QgZ2V0Q2xpZW50SXAgPSAocmVxKSA9PiB7XHJcbiAgICAvLyBTaSBlc3TDoXMgZGV0csOhcyBkZSB1biBwcm94eSwgbGEgSVAgcmVhbCBlc3TDoSBlbiAneC1mb3J3YXJkZWQtZm9yJ1xyXG4gICAgLy8gTGEgSVAgZGVsIGNsaWVudGUgcHVlZGUgc2VyIHVuYSBsaXN0YSwgc2UgdG9tYSBsYSBwcmltZXJhLlxyXG4gICAgY29uc3QgZm9yd2FyZGVkSXBzID0gcmVxLmhlYWRlcnNbJ3gtZm9yd2FyZGVkLWZvciddO1xyXG4gICAgaWYgKGZvcndhcmRlZElwcykge1xyXG4gICAgICAgIHJldHVybiBmb3J3YXJkZWRJcHMuc3BsaXQoJywnKVswXS50cmltKCk7XHJcbiAgICB9XHJcbiAgICAvLyBTaSBubyBoYXkgcHJveHksIGxhIElQIGVzdMOhIGVuIHJlcS5jb25uZWN0aW9uLnJlbW90ZUFkZHJlc3NcclxuICAgIC8vIE8gc2ltcGxlbWVudGUgcmVxLmlwIGVuIEV4cHJlc3NcclxuICAgIHJldHVybiByZXEuaXA7XHJcbn07XHJcblxyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSByZWdpc3RyYXIgdW5hIG51ZXZhIHZpc2l0YVxyXG5yb3V0ZXIucG9zdCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB2aXNpdG9ySXAgPSBnZXRDbGllbnRJcChyZXEpO1xyXG4gICAgICAgIGNvbnN0IGRhdG9zVmlzaXRhID0ge1xyXG4gICAgICAgICAgICAuLi5yZXEuYm9keSxcclxuICAgICAgICAgICAgdmlzaXRvcklwOiB2aXNpdG9ySXAsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgbnVldmFWaXNpdGEgPSBhd2FpdCBWaXNpdGEuY3JlYXRlKGRhdG9zVmlzaXRhKTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbihudWV2YVZpc2l0YSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIHJlZ2lzdHJhciBsYSB2aXNpdGE6JywgZXJyb3IpO1xyXG4gICAgICAgIC8vIFZhbGlkYXIgc2kgZXMgdW4gZXJyb3IgZGUgdmFsaWRhY2nDs24gZGUgU2VxdWVsaXplXHJcbiAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdTZXF1ZWxpemVWYWxpZGF0aW9uRXJyb3InKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBlcnJvcjogJ0Vycm9yIGRlIHZhbGlkYWNpw7NuOiBBc2Vnw7pyYXRlIGRlIHF1ZSB0b2RvcyBsb3MgY2FtcG9zIHJlcXVlcmlkb3MgZXN0w6luIHByZXNlbnRlcyB5IHNlYW4gZGVsIHRpcG8gY29ycmVjdG8uJyxcclxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yLmVycm9ycy5tYXAoZSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICB9KSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvciBhbCByZWdpc3RyYXIgbGEgdmlzaXRhLicgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRW5kcG9pbnQgcGFyYSBvYnRlbmVyIHRvZGFzIGxhcyB2aXNpdGFzIChvcGNpb25hbCwgw7p0aWwgcGFyYSBwcnVlYmFzKVxyXG5yb3V0ZXIuZ2V0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHZpc2l0YXMgPSBhd2FpdCBWaXNpdGEuZmluZEFsbCgpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHZpc2l0YXMpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIGxhcyB2aXNpdGFzOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLENBQUMsQ0FBQztBQUMvQixNQUFNQyxFQUFFLEdBQUdILE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDL0IsTUFBTUksTUFBTSxHQUFHRCxFQUFFLENBQUNDLE1BQU07O0FBRXhCO0FBQ0E7QUFDQTtBQUNBLE1BQU1DLFdBQVcsR0FBSUMsR0FBRyxJQUFLO0VBQ3pCO0VBQ0E7RUFDQSxNQUFNQyxZQUFZLEdBQUdELEdBQUcsQ0FBQ0UsT0FBTyxDQUFDLGlCQUFpQixDQUFDO0VBQ25ELElBQUlELFlBQVksRUFBRTtJQUNkLE9BQU9BLFlBQVksQ0FBQ0UsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBQztFQUM1QztFQUNBO0VBQ0E7RUFDQSxPQUFPSixHQUFHLENBQUNLLEVBQUU7QUFDakIsQ0FBQzs7QUFHRDtBQUNBVixNQUFNLENBQUNXLElBQUksQ0FBQyxHQUFHLEVBQUUsT0FBT04sR0FBRyxFQUFFTyxHQUFHLEtBQUs7RUFDakMsSUFBSTtJQUNBLE1BQU1DLFNBQVMsR0FBR1QsV0FBVyxDQUFDQyxHQUFHLENBQUM7SUFDbEMsTUFBTVMsV0FBVyxHQUFHO01BQ2hCLEdBQUdULEdBQUcsQ0FBQ1UsSUFBSTtNQUNYRixTQUFTLEVBQUVBO0lBQ2YsQ0FBQztJQUVELE1BQU1HLFdBQVcsR0FBRyxNQUFNYixNQUFNLENBQUNjLE1BQU0sQ0FBQ0gsV0FBVyxDQUFDO0lBQ3BERixHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDSCxXQUFXLENBQUM7RUFDckMsQ0FBQyxDQUFDLE9BQU9JLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQywrQkFBK0IsRUFBRUEsS0FBSyxDQUFDO0lBQ3JEO0lBQ0EsSUFBSUEsS0FBSyxDQUFDRSxJQUFJLEtBQUssMEJBQTBCLEVBQUU7TUFDM0MsT0FBT1YsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUN4QkMsS0FBSyxFQUFFLDZHQUE2RztRQUNwSEcsT0FBTyxFQUFFSCxLQUFLLENBQUNJLE1BQU0sQ0FBQ0MsR0FBRyxDQUFDQyxDQUFDLEtBQUs7VUFDNUJDLEtBQUssRUFBRUQsQ0FBQyxDQUFDRSxJQUFJO1VBQ2JDLE9BQU8sRUFBRUgsQ0FBQyxDQUFDRztRQUNmLENBQUMsQ0FBQztNQUNOLENBQUMsQ0FBQztJQUNOO0lBQ0FqQixHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUFxRCxDQUFDLENBQUM7RUFDekY7QUFDSixDQUFDLENBQUM7O0FBRUY7QUFDQXBCLE1BQU0sQ0FBQzhCLEdBQUcsQ0FBQyxHQUFHLEVBQUUsT0FBT3pCLEdBQUcsRUFBRU8sR0FBRyxLQUFLO0VBQ2hDLElBQUk7SUFDQSxNQUFNbUIsT0FBTyxHQUFHLE1BQU01QixNQUFNLENBQUM2QixPQUFPLENBQUMsQ0FBQztJQUN0Q3BCLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNZLE9BQU8sQ0FBQztFQUNqQyxDQUFDLENBQUMsT0FBT1gsS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLCtCQUErQixFQUFFQSxLQUFLLENBQUM7SUFDckRSLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsS0FBSyxFQUFFO0lBQTZCLENBQUMsQ0FBQztFQUNqRTtBQUNKLENBQUMsQ0FBQztBQUVGYSxNQUFNLENBQUNDLE9BQU8sR0FBR2xDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express","require","router","Router","db","Visita","getClientIp","req","forwardedIps","headers","split","trim","ip","post","res","visitorIp","datosVisita","body","nuevaVisita","create","status","json","error","console","name","details","errors","map","e","field","path","message","get","visitas","findAll","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["visitas.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\nconst Visita = db.Visita;\r\n\r\n// Middleware para obtener la dirección IP del cliente.\r\n// Se recomienda usar un middleware o una función de utilidad para manejar\r\n// la lógica de proxies (ej. Heroku, AWS, Nginx).\r\nconst getClientIp = (req) => {\r\n    // Si estás detrás de un proxy, la IP real está en 'x-forwarded-for'\r\n    // La IP del cliente puede ser una lista, se toma la primera.\r\n    const forwardedIps = req.headers['x-forwarded-for'];\r\n    if (forwardedIps) {\r\n        return forwardedIps.split(',')[0].trim();\r\n    }\r\n    // Si no hay proxy, la IP está en req.connection.remoteAddress\r\n    // O simplemente req.ip en Express\r\n    return req.ip;\r\n};\r\n\r\n\r\n// Endpoint para registrar una nueva visita\r\nrouter.post('/', async (req, res) => {\r\n    try {\r\n        const visitorIp = getClientIp(req);\r\n        const datosVisita = {\r\n            ...req.body,\r\n            visitorIp: visitorIp,\r\n        };\r\n\r\n        const nuevaVisita = await Visita.create(datosVisita);\r\n        res.status(201).json(nuevaVisita);\r\n    } catch (error) {\r\n        console.error('Error al registrar la visita:', error);\r\n        // Validar si es un error de validación de Sequelize\r\n        if (error.name === 'SequelizeValidationError') {\r\n            return res.status(400).json({\r\n                error: 'Error de validación: Asegúrate de que todos los campos requeridos estén presentes y sean del tipo correcto.',\r\n                details: error.errors.map(e => ({\r\n                    field: e.path,\r\n                    message: e.message\r\n                }))\r\n            });\r\n        }\r\n        res.status(500).json({ error: 'Error interno del servidor al registrar la visita.' });\r\n    }\r\n});\r\n\r\n// Endpoint para obtener todas las visitas (opcional, útil para pruebas)\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n        const visitas = await Visita.findAll();\r\n        res.status(200).json(visitas);\r\n    } catch (error) {\r\n        console.error('Error al obtener las visitas:', error);\r\n        res.status(500).json({ error: 'Error interno del servidor' });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,EAAE,GAAGH,OAAO,CAAC,WAAW,CAAC;AAC/B,MAAMI,MAAM,GAAGD,EAAE,CAACC,MAAM;;AAExB;AACA;AACA;AACA,MAAMC,WAAW,GAAIC,GAAG,IAAK;EACzB;EACA;EACA,MAAMC,YAAY,GAAGD,GAAG,CAACE,OAAO,CAAC,iBAAiB,CAAC;EACnD,IAAID,YAAY,EAAE;IACd,OAAOA,YAAY,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;EAC5C;EACA;EACA;EACA,OAAOJ,GAAG,CAACK,EAAE;AACjB,CAAC;;AAGD;AACAV,MAAM,CAACW,IAAI,CAAC,GAAG,EAAE,OAAON,GAAG,EAAEO,GAAG,KAAK;EACjC,IAAI;IACA,MAAMC,SAAS,GAAGT,WAAW,CAACC,GAAG,CAAC;IAClC,MAAMS,WAAW,GAAG;MAChB,GAAGT,GAAG,CAACU,IAAI;MACXF,SAAS,EAAEA;IACf,CAAC;IAED,MAAMG,WAAW,GAAG,MAAMb,MAAM,CAACc,MAAM,CAACH,WAAW,CAAC;IACpDF,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACH,WAAW,CAAC;EACrC,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrD;IACA,IAAIA,KAAK,CAACE,IAAI,KAAK,0BAA0B,EAAE;MAC3C,OAAOV,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACxBC,KAAK,EAAE,6GAA6G;QACpHG,OAAO,EAAEH,KAAK,CAACI,MAAM,CAACC,GAAG,CAACC,CAAC,KAAK;UAC5BC,KAAK,EAAED,CAAC,CAACE,IAAI;UACbC,OAAO,EAAEH,CAAC,CAACG;QACf,CAAC,CAAC;MACN,CAAC,CAAC;IACN;IACAjB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAqD,CAAC,CAAC;EACzF;AACJ,CAAC,CAAC;;AAEF;AACApB,MAAM,CAAC8B,GAAG,CAAC,GAAG,EAAE,OAAOzB,GAAG,EAAEO,GAAG,KAAK;EAChC,IAAI;IACA,MAAMmB,OAAO,GAAG,MAAM5B,MAAM,CAAC6B,OAAO,CAAC,CAAC;IACtCpB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACY,OAAO,CAAC;EACjC,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrDR,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAA6B,CAAC,CAAC;EACjE;AACJ,CAAC,CAAC;AAEFa,MAAM,CAACC,OAAO,GAAGlC,MAAM","ignoreList":[]}},"mtime":1758340687147},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\pagos.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"// /routes/pagos.js\n\nconst express = require('express');\nconst router = express.Router();\n// Carga las variables de entorno si no lo haces en app.js\n// require('dotenv').config(); \n\n// 🚨 CLAVE: Inicializa Stripe con la Clave Secreta del .env\nconst stripe = require('stripe')(process.env.STRIPE_SECRET_KEY);\n\n// ==========================================================\n// Endpoint POST para crear un PaymentIntent\n// ==========================================================\nrouter.post('/crearintento', async (req, res) => {\n  // ⚠️ NOTA DE SEGURIDAD: El monto siempre debe ser calculado \n  // en el backend para evitar manipulaciones en el frontend.\n\n  // Suponemos que el body recibe el monto total y el folio del pedido\n  const {\n    totalPedido,\n    folio,\n    currency = 'mxn'\n  } = req.body;\n  if (!totalPedido || !folio) {\n    return res.status(400).json({\n      error: 'Faltan el monto total o el folio del pedido.'\n    });\n  }\n\n  // 🚨 CLAVE DEL MONTO: Stripe espera el monto en la unidad más pequeña \n  // de la moneda (ej. centavos para MXN, USD). Multiplicamos por 100.\n  const amountInCents = Math.round(totalPedido * 100);\n  try {\n    const paymentIntent = await stripe.paymentIntents.create({\n      amount: amountInCents,\n      currency: currency,\n      // Esto le indica a Stripe que debe manejar automáticamente los métodos de pago (tarjetas, etc.)\n      automatic_payment_methods: {\n        enabled: true\n      },\n      // Almacena información del pedido para referencia futura en el Dashboard de Stripe\n      metadata: {\n        order_folio: folio,\n        client_email: req.body.emailCliente // Ejemplo de campo adicional\n      }\n    });\n\n    // 🏆 Éxito: Devolvemos el clientSecret al frontend\n    // El clientSecret es NECESARIO para que Stripe.js en el frontend \n    // pueda confirmar el pago de forma segura.\n    res.status(200).json({\n      clientSecret: paymentIntent.client_secret\n    });\n  } catch (error) {\n    console.error('Error al crear PaymentIntent:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor al procesar el intento de pago.',\n      details: error.message\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInN0cmlwZSIsInByb2Nlc3MiLCJlbnYiLCJTVFJJUEVfU0VDUkVUX0tFWSIsInBvc3QiLCJyZXEiLCJyZXMiLCJ0b3RhbFBlZGlkbyIsImZvbGlvIiwiY3VycmVuY3kiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiYW1vdW50SW5DZW50cyIsIk1hdGgiLCJyb3VuZCIsInBheW1lbnRJbnRlbnQiLCJwYXltZW50SW50ZW50cyIsImNyZWF0ZSIsImFtb3VudCIsImF1dG9tYXRpY19wYXltZW50X21ldGhvZHMiLCJlbmFibGVkIiwibWV0YWRhdGEiLCJvcmRlcl9mb2xpbyIsImNsaWVudF9lbWFpbCIsImVtYWlsQ2xpZW50ZSIsImNsaWVudFNlY3JldCIsImNsaWVudF9zZWNyZXQiLCJjb25zb2xlIiwiZGV0YWlscyIsIm1lc3NhZ2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG9yb2RyXFx3b3Jrc3BhY2VcXEFQSXNcXGFwaS1lY29tbWVyY2VcXHJvdXRlc1xcIiwic291cmNlcyI6WyJwYWdvcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAvcm91dGVzL3BhZ29zLmpzXHJcblxyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG4vLyBDYXJnYSBsYXMgdmFyaWFibGVzIGRlIGVudG9ybm8gc2kgbm8gbG8gaGFjZXMgZW4gYXBwLmpzXHJcbi8vIHJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpOyBcclxuXHJcbi8vIPCfmqggQ0xBVkU6IEluaWNpYWxpemEgU3RyaXBlIGNvbiBsYSBDbGF2ZSBTZWNyZXRhIGRlbCAuZW52XHJcbmNvbnN0IHN0cmlwZSA9IHJlcXVpcmUoJ3N0cmlwZScpKHByb2Nlc3MuZW52LlNUUklQRV9TRUNSRVRfS0VZKTsgXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEVuZHBvaW50IFBPU1QgcGFyYSBjcmVhciB1biBQYXltZW50SW50ZW50XHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxucm91dGVyLnBvc3QoJy9jcmVhcmludGVudG8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIC8vIOKaoO+4jyBOT1RBIERFIFNFR1VSSURBRDogRWwgbW9udG8gc2llbXByZSBkZWJlIHNlciBjYWxjdWxhZG8gXHJcbiAgICAvLyBlbiBlbCBiYWNrZW5kIHBhcmEgZXZpdGFyIG1hbmlwdWxhY2lvbmVzIGVuIGVsIGZyb250ZW5kLlxyXG4gICAgXHJcbiAgICAvLyBTdXBvbmVtb3MgcXVlIGVsIGJvZHkgcmVjaWJlIGVsIG1vbnRvIHRvdGFsIHkgZWwgZm9saW8gZGVsIHBlZGlkb1xyXG4gICAgY29uc3QgeyB0b3RhbFBlZGlkbywgZm9saW8sIGN1cnJlbmN5ID0gJ214bicgfSA9IHJlcS5ib2R5OyBcclxuXHJcbiAgICBpZiAoIXRvdGFsUGVkaWRvIHx8ICFmb2xpbykge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnRmFsdGFuIGVsIG1vbnRvIHRvdGFsIG8gZWwgZm9saW8gZGVsIHBlZGlkby4nIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIPCfmqggQ0xBVkUgREVMIE1PTlRPOiBTdHJpcGUgZXNwZXJhIGVsIG1vbnRvIGVuIGxhIHVuaWRhZCBtw6FzIHBlcXVlw7FhIFxyXG4gICAgLy8gZGUgbGEgbW9uZWRhIChlai4gY2VudGF2b3MgcGFyYSBNWE4sIFVTRCkuIE11bHRpcGxpY2Ftb3MgcG9yIDEwMC5cclxuICAgIGNvbnN0IGFtb3VudEluQ2VudHMgPSBNYXRoLnJvdW5kKHRvdGFsUGVkaWRvICogMTAwKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHBheW1lbnRJbnRlbnQgPSBhd2FpdCBzdHJpcGUucGF5bWVudEludGVudHMuY3JlYXRlKHtcclxuICAgICAgICAgICAgYW1vdW50OiBhbW91bnRJbkNlbnRzLCBcclxuICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LCBcclxuICAgICAgICAgICAgLy8gRXN0byBsZSBpbmRpY2EgYSBTdHJpcGUgcXVlIGRlYmUgbWFuZWphciBhdXRvbcOhdGljYW1lbnRlIGxvcyBtw6l0b2RvcyBkZSBwYWdvICh0YXJqZXRhcywgZXRjLilcclxuICAgICAgICAgICAgYXV0b21hdGljX3BheW1lbnRfbWV0aG9kczogeyBcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUgXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIEFsbWFjZW5hIGluZm9ybWFjacOzbiBkZWwgcGVkaWRvIHBhcmEgcmVmZXJlbmNpYSBmdXR1cmEgZW4gZWwgRGFzaGJvYXJkIGRlIFN0cmlwZVxyXG4gICAgICAgICAgICBtZXRhZGF0YTogeyBcclxuICAgICAgICAgICAgICAgIG9yZGVyX2ZvbGlvOiBmb2xpbyxcclxuICAgICAgICAgICAgICAgIGNsaWVudF9lbWFpbDogcmVxLmJvZHkuZW1haWxDbGllbnRlIC8vIEVqZW1wbG8gZGUgY2FtcG8gYWRpY2lvbmFsXHJcbiAgICAgICAgICAgIH0sIFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDwn4+GIMOJeGl0bzogRGV2b2x2ZW1vcyBlbCBjbGllbnRTZWNyZXQgYWwgZnJvbnRlbmRcclxuICAgICAgICAvLyBFbCBjbGllbnRTZWNyZXQgZXMgTkVDRVNBUklPIHBhcmEgcXVlIFN0cmlwZS5qcyBlbiBlbCBmcm9udGVuZCBcclxuICAgICAgICAvLyBwdWVkYSBjb25maXJtYXIgZWwgcGFnbyBkZSBmb3JtYSBzZWd1cmEuXHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICBjbGllbnRTZWNyZXQ6IHBheW1lbnRJbnRlbnQuY2xpZW50X3NlY3JldCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGNyZWFyIFBheW1lbnRJbnRlbnQ6JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXHJcbiAgICAgICAgICAgIGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3IgYWwgcHJvY2VzYXIgZWwgaW50ZW50byBkZSBwYWdvLicsXHJcbiAgICAgICAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UgXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sQ0FBQyxDQUFDO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQSxNQUFNQyxNQUFNLEdBQUdILE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQ0ksT0FBTyxDQUFDQyxHQUFHLENBQUNDLGlCQUFpQixDQUFDOztBQUUvRDtBQUNBO0FBQ0E7QUFDQUwsTUFBTSxDQUFDTSxJQUFJLENBQUMsZUFBZSxFQUFFLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzdDO0VBQ0E7O0VBRUE7RUFDQSxNQUFNO0lBQUVDLFdBQVc7SUFBRUMsS0FBSztJQUFFQyxRQUFRLEdBQUc7RUFBTSxDQUFDLEdBQUdKLEdBQUcsQ0FBQ0ssSUFBSTtFQUV6RCxJQUFJLENBQUNILFdBQVcsSUFBSSxDQUFDQyxLQUFLLEVBQUU7SUFDeEIsT0FBT0YsR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxLQUFLLEVBQUU7SUFBK0MsQ0FBQyxDQUFDO0VBQzFGOztFQUVBO0VBQ0E7RUFDQSxNQUFNQyxhQUFhLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDVCxXQUFXLEdBQUcsR0FBRyxDQUFDO0VBRW5ELElBQUk7SUFDQSxNQUFNVSxhQUFhLEdBQUcsTUFBTWpCLE1BQU0sQ0FBQ2tCLGNBQWMsQ0FBQ0MsTUFBTSxDQUFDO01BQ3JEQyxNQUFNLEVBQUVOLGFBQWE7TUFDckJMLFFBQVEsRUFBRUEsUUFBUTtNQUNsQjtNQUNBWSx5QkFBeUIsRUFBRTtRQUN2QkMsT0FBTyxFQUFFO01BQ2IsQ0FBQztNQUNEO01BQ0FDLFFBQVEsRUFBRTtRQUNOQyxXQUFXLEVBQUVoQixLQUFLO1FBQ2xCaUIsWUFBWSxFQUFFcEIsR0FBRyxDQUFDSyxJQUFJLENBQUNnQixZQUFZLENBQUM7TUFDeEM7SUFDSixDQUFDLENBQUM7O0lBRUY7SUFDQTtJQUNBO0lBQ0FwQixHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQ2pCZSxZQUFZLEVBQUVWLGFBQWEsQ0FBQ1c7SUFDaEMsQ0FBQyxDQUFDO0VBRU4sQ0FBQyxDQUFDLE9BQU9mLEtBQUssRUFBRTtJQUNaZ0IsT0FBTyxDQUFDaEIsS0FBSyxDQUFDLCtCQUErQixFQUFFQSxLQUFLLENBQUM7SUFDckRQLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFDakJDLEtBQUssRUFBRSw0REFBNEQ7TUFDbkVpQixPQUFPLEVBQUVqQixLQUFLLENBQUNrQjtJQUNuQixDQUFDLENBQUM7RUFDTjtBQUNKLENBQUMsQ0FBQztBQUVGQyxNQUFNLENBQUNDLE9BQU8sR0FBR25DLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express","require","router","Router","stripe","process","env","STRIPE_SECRET_KEY","post","req","res","totalPedido","folio","currency","body","status","json","error","amountInCents","Math","round","paymentIntent","paymentIntents","create","amount","automatic_payment_methods","enabled","metadata","order_folio","client_email","emailCliente","clientSecret","client_secret","console","details","message","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["pagos.js"],"sourcesContent":["// /routes/pagos.js\r\n\r\nconst express = require('express');\r\nconst router = express.Router();\r\n// Carga las variables de entorno si no lo haces en app.js\r\n// require('dotenv').config(); \r\n\r\n// 🚨 CLAVE: Inicializa Stripe con la Clave Secreta del .env\r\nconst stripe = require('stripe')(process.env.STRIPE_SECRET_KEY); \r\n\r\n// ==========================================================\r\n// Endpoint POST para crear un PaymentIntent\r\n// ==========================================================\r\nrouter.post('/crearintento', async (req, res) => {\r\n    // ⚠️ NOTA DE SEGURIDAD: El monto siempre debe ser calculado \r\n    // en el backend para evitar manipulaciones en el frontend.\r\n    \r\n    // Suponemos que el body recibe el monto total y el folio del pedido\r\n    const { totalPedido, folio, currency = 'mxn' } = req.body; \r\n\r\n    if (!totalPedido || !folio) {\r\n        return res.status(400).json({ error: 'Faltan el monto total o el folio del pedido.' });\r\n    }\r\n\r\n    // 🚨 CLAVE DEL MONTO: Stripe espera el monto en la unidad más pequeña \r\n    // de la moneda (ej. centavos para MXN, USD). Multiplicamos por 100.\r\n    const amountInCents = Math.round(totalPedido * 100);\r\n\r\n    try {\r\n        const paymentIntent = await stripe.paymentIntents.create({\r\n            amount: amountInCents, \r\n            currency: currency, \r\n            // Esto le indica a Stripe que debe manejar automáticamente los métodos de pago (tarjetas, etc.)\r\n            automatic_payment_methods: { \r\n                enabled: true \r\n            },\r\n            // Almacena información del pedido para referencia futura en el Dashboard de Stripe\r\n            metadata: { \r\n                order_folio: folio,\r\n                client_email: req.body.emailCliente // Ejemplo de campo adicional\r\n            }, \r\n        });\r\n\r\n        // 🏆 Éxito: Devolvemos el clientSecret al frontend\r\n        // El clientSecret es NECESARIO para que Stripe.js en el frontend \r\n        // pueda confirmar el pago de forma segura.\r\n        res.status(200).json({\r\n            clientSecret: paymentIntent.client_secret,\r\n        });\r\n\r\n    } catch (error) {\r\n        console.error('Error al crear PaymentIntent:', error);\r\n        res.status(500).json({ \r\n            error: 'Error interno del servidor al procesar el intento de pago.',\r\n            details: error.message \r\n        });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"AAAA;;AAEA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B;AACA;;AAEA;AACA,MAAMC,MAAM,GAAGH,OAAO,CAAC,QAAQ,CAAC,CAACI,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAAC;;AAE/D;AACA;AACA;AACAL,MAAM,CAACM,IAAI,CAAC,eAAe,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAC7C;EACA;;EAEA;EACA,MAAM;IAAEC,WAAW;IAAEC,KAAK;IAAEC,QAAQ,GAAG;EAAM,CAAC,GAAGJ,GAAG,CAACK,IAAI;EAEzD,IAAI,CAACH,WAAW,IAAI,CAACC,KAAK,EAAE;IACxB,OAAOF,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAA+C,CAAC,CAAC;EAC1F;;EAEA;EACA;EACA,MAAMC,aAAa,GAAGC,IAAI,CAACC,KAAK,CAACT,WAAW,GAAG,GAAG,CAAC;EAEnD,IAAI;IACA,MAAMU,aAAa,GAAG,MAAMjB,MAAM,CAACkB,cAAc,CAACC,MAAM,CAAC;MACrDC,MAAM,EAAEN,aAAa;MACrBL,QAAQ,EAAEA,QAAQ;MAClB;MACAY,yBAAyB,EAAE;QACvBC,OAAO,EAAE;MACb,CAAC;MACD;MACAC,QAAQ,EAAE;QACNC,WAAW,EAAEhB,KAAK;QAClBiB,YAAY,EAAEpB,GAAG,CAACK,IAAI,CAACgB,YAAY,CAAC;MACxC;IACJ,CAAC,CAAC;;IAEF;IACA;IACA;IACApB,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MACjBe,YAAY,EAAEV,aAAa,CAACW;IAChC,CAAC,CAAC;EAEN,CAAC,CAAC,OAAOf,KAAK,EAAE;IACZgB,OAAO,CAAChB,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrDP,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MACjBC,KAAK,EAAE,4DAA4D;MACnEiB,OAAO,EAAEjB,KAAK,CAACkB;IACnB,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGnC,MAAM","ignoreList":[]}},"mtime":1761510864513},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\models\\\\boletin.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Boletin extends Model {\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\n    static associate(models) {\n      // Un pedido tiene muchos detalles de pedido\n      /* Cliente.hasMany(models.Pedido, {\r\n        foreignKey: 'clienteEmail',\r\n        as: 'pedidos',\r\n        onDelete: 'CASCADE', // Esta línea es clave para el borrado en cascada\r\n        sourceKey: 'email',\r\n      }); */\n      // Un cliente tiene muchos domicilios\n      /* Boletin.hasMany(models.DomicilioCliente, {\r\n        foreignKey: 'clienteEmail',\r\n        as: 'domicilios',\r\n        sourceKey: 'email',\r\n      }); */\n    }\n  }\n  Boletin.init({\n    id: {\n      type: DataTypes.INTEGER,\n      autoIncrement: true,\n      primaryKey: true\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      primaryKey: true,\n      unique: true\n    },\n    estatus: {\n      type: DataTypes.STRING,\n      allowNull: false\n    }\n  }, {\n    sequelize,\n    modelName: 'Boletin',\n    tableName: 'Boletines'\n  });\n  return Boletin;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiQm9sZXRpbiIsImFzc29jaWF0ZSIsIm1vZGVscyIsImluaXQiLCJpZCIsInR5cGUiLCJJTlRFR0VSIiwiYXV0b0luY3JlbWVudCIsInByaW1hcnlLZXkiLCJlbWFpbCIsIlNUUklORyIsImFsbG93TnVsbCIsInVuaXF1ZSIsImVzdGF0dXMiLCJtb2RlbE5hbWUiLCJ0YWJsZU5hbWUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcb3JvZHJcXHdvcmtzcGFjZVxcQVBJc1xcYXBpLWVjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImJvbGV0aW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5jb25zdCB7XHJcbiAgTW9kZWxcclxufSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIEJvbGV0aW4gZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgZm9yIGRlZmluaW5nIGFzc29jaWF0aW9ucy5cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhIHBhcnQgb2YgU2VxdWVsaXplIGxpZmVjeWNsZS5cclxuICAgICAqIFRoZSBgbW9kZWxzL2luZGV4YCBmaWxlIHdpbGwgY2FsbCB0aGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5LlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBVbiBwZWRpZG8gdGllbmUgbXVjaG9zIGRldGFsbGVzIGRlIHBlZGlkb1xyXG4gICAgICAvKiBDbGllbnRlLmhhc01hbnkobW9kZWxzLlBlZGlkbywge1xyXG4gICAgICAgIGZvcmVpZ25LZXk6ICdjbGllbnRlRW1haWwnLFxyXG4gICAgICAgIGFzOiAncGVkaWRvcycsXHJcbiAgICAgICAgb25EZWxldGU6ICdDQVNDQURFJywgLy8gRXN0YSBsw61uZWEgZXMgY2xhdmUgcGFyYSBlbCBib3JyYWRvIGVuIGNhc2NhZGFcclxuICAgICAgICBzb3VyY2VLZXk6ICdlbWFpbCcsXHJcbiAgICAgIH0pOyAqL1xyXG4gICAgICAvLyBVbiBjbGllbnRlIHRpZW5lIG11Y2hvcyBkb21pY2lsaW9zXHJcbiAgICAgIC8qIEJvbGV0aW4uaGFzTWFueShtb2RlbHMuRG9taWNpbGlvQ2xpZW50ZSwge1xyXG4gICAgICAgIGZvcmVpZ25LZXk6ICdjbGllbnRlRW1haWwnLFxyXG4gICAgICAgIGFzOiAnZG9taWNpbGlvcycsXHJcbiAgICAgICAgc291cmNlS2V5OiAnZW1haWwnLFxyXG4gICAgICB9KTsgKi9cclxuICAgIH1cclxuICB9XHJcbkJvbGV0aW4uaW5pdCh7XHJcbiAgICBpZDoge1xyXG4gICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXHJcbiAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxyXG4gICAgcHJpbWFyeUtleTogdHJ1ZVxyXG4gIH0sXHJcbiAgICBlbWFpbDogIHtcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSwgXHJcbiAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgIHVuaXF1ZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgICBlc3RhdHVzOiB7XHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsIFxyXG4gICAgfSxcclxuICB9LCB7XHJcbiAgICBzZXF1ZWxpemUsXHJcbiAgICBtb2RlbE5hbWU6ICdCb2xldGluJyxcclxuICAgIHRhYmxlTmFtZTogJ0JvbGV0aW5lcydcclxuICB9KTtcclxuICByZXR1cm4gQm9sZXRpbjtcclxufTsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osTUFBTTtFQUNKQTtBQUNGLENBQUMsR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUN4QkMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsQ0FBQ0MsU0FBUyxFQUFFQyxTQUFTLEtBQUs7RUFDekMsTUFBTUMsT0FBTyxTQUFTTixLQUFLLENBQUM7SUFDMUI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtJQUNJLE9BQU9PLFNBQVNBLENBQUNDLE1BQU0sRUFBRTtNQUN2QjtNQUNBO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtNQUNNO01BQ0E7QUFDTjtBQUNBO0FBQ0E7QUFDQTtJQUpNO0VBTUo7RUFDRkYsT0FBTyxDQUFDRyxJQUFJLENBQUM7SUFDVEMsRUFBRSxFQUFFO01BQ0pDLElBQUksRUFBRU4sU0FBUyxDQUFDTyxPQUFPO01BQ3ZCQyxhQUFhLEVBQUUsSUFBSTtNQUNuQkMsVUFBVSxFQUFFO0lBQ2QsQ0FBQztJQUNDQyxLQUFLLEVBQUc7TUFDTkosSUFBSSxFQUFFTixTQUFTLENBQUNXLE1BQU07TUFDdEJDLFNBQVMsRUFBRSxLQUFLO01BQ2hCSCxVQUFVLEVBQUUsSUFBSTtNQUNoQkksTUFBTSxFQUFFO0lBQ1YsQ0FBQztJQUNBQyxPQUFPLEVBQUU7TUFDUlIsSUFBSSxFQUFFTixTQUFTLENBQUNXLE1BQU07TUFDdEJDLFNBQVMsRUFBRTtJQUNiO0VBQ0YsQ0FBQyxFQUFFO0lBQ0RiLFNBQVM7SUFDVGdCLFNBQVMsRUFBRSxTQUFTO0lBQ3BCQyxTQUFTLEVBQUU7RUFDYixDQUFDLENBQUM7RUFDRixPQUFPZixPQUFPO0FBQ2hCLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Boletin","associate","models","init","id","type","INTEGER","autoIncrement","primaryKey","email","STRING","allowNull","unique","estatus","modelName","tableName"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\models\\","sources":["boletin.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Boletin extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // Un pedido tiene muchos detalles de pedido\r\n      /* Cliente.hasMany(models.Pedido, {\r\n        foreignKey: 'clienteEmail',\r\n        as: 'pedidos',\r\n        onDelete: 'CASCADE', // Esta línea es clave para el borrado en cascada\r\n        sourceKey: 'email',\r\n      }); */\r\n      // Un cliente tiene muchos domicilios\r\n      /* Boletin.hasMany(models.DomicilioCliente, {\r\n        foreignKey: 'clienteEmail',\r\n        as: 'domicilios',\r\n        sourceKey: 'email',\r\n      }); */\r\n    }\r\n  }\r\nBoletin.init({\r\n    id: {\r\n    type: DataTypes.INTEGER,\r\n    autoIncrement: true,\r\n    primaryKey: true\r\n  },\r\n    email:  {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n      primaryKey: true,\r\n      unique: true\r\n    },\r\n     estatus: {\r\n      type: DataTypes.STRING,\r\n      allowNull: false, \r\n    },\r\n  }, {\r\n    sequelize,\r\n    modelName: 'Boletin',\r\n    tableName: 'Boletines'\r\n  });\r\n  return Boletin;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,OAAO,SAASN,KAAK,CAAC;IAC1B;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;MACA;AACN;AACA;AACA;AACA;AACA;MACM;MACA;AACN;AACA;AACA;AACA;IAJM;EAMJ;EACFF,OAAO,CAACG,IAAI,CAAC;IACTC,EAAE,EAAE;MACJC,IAAI,EAAEN,SAAS,CAACO,OAAO;MACvBC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE;IACd,CAAC;IACCC,KAAK,EAAG;MACNJ,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE,KAAK;MAChBH,UAAU,EAAE,IAAI;MAChBI,MAAM,EAAE;IACV,CAAC;IACAC,OAAO,EAAE;MACRR,IAAI,EAAEN,SAAS,CAACW,MAAM;MACtBC,SAAS,EAAE;IACb;EACF,CAAC,EAAE;IACDb,SAAS;IACTgB,SAAS,EAAE,SAAS;IACpBC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOf,OAAO;AAChB,CAAC","ignoreList":[]}},"mtime":1761543673539},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\boletines.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst db = require('../models');\nconst Boletin = db.Boletin;\nconst {\n  Op\n} = require('sequelize');\n\n// Endpoint para crear un nuevo Boletin\nrouter.post('/', async (req, res) => {\n  try {\n    // Usa `req.body` para acceder a los datos enviados en la solicitud\n    const nuevoBoletin = await Boletin.create(req.body);\n    res.status(201).json(nuevoBoletin);\n  } catch (error) {\n    console.error('Error al crear el Boletin:', error);\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImRiIiwiQm9sZXRpbiIsIk9wIiwicG9zdCIsInJlcSIsInJlcyIsIm51ZXZvQm9sZXRpbiIsImNyZWF0ZSIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcb3JvZHJcXHdvcmtzcGFjZVxcQVBJc1xcYXBpLWVjb21tZXJjZVxccm91dGVzXFwiLCJzb3VyY2VzIjpbImJvbGV0aW5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL21vZGVscycpO1xyXG5jb25zdCBCb2xldGluID0gZGIuQm9sZXRpbjtcclxuY29uc3QgeyBPcCB9ID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIGNyZWFyIHVuIG51ZXZvIEJvbGV0aW5cclxucm91dGVyLnBvc3QoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gVXNhIGByZXEuYm9keWAgcGFyYSBhY2NlZGVyIGEgbG9zIGRhdG9zIGVudmlhZG9zIGVuIGxhIHNvbGljaXR1ZFxyXG4gICAgICAgIGNvbnN0IG51ZXZvQm9sZXRpbiA9IGF3YWl0IEJvbGV0aW4uY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbihudWV2b0JvbGV0aW4pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBjcmVhciBlbCBCb2xldGluOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLENBQUMsQ0FBQztBQUMvQixNQUFNQyxFQUFFLEdBQUdILE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDL0IsTUFBTUksT0FBTyxHQUFHRCxFQUFFLENBQUNDLE9BQU87QUFDMUIsTUFBTTtFQUFFQztBQUFHLENBQUMsR0FBR0wsT0FBTyxDQUFDLFdBQVcsQ0FBQzs7QUFFbkM7QUFDQUMsTUFBTSxDQUFDSyxJQUFJLENBQUMsR0FBRyxFQUFFLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ2pDLElBQUk7SUFDQTtJQUNBLE1BQU1DLFlBQVksR0FBRyxNQUFNTCxPQUFPLENBQUNNLE1BQU0sQ0FBQ0gsR0FBRyxDQUFDSSxJQUFJLENBQUM7SUFDbkRILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNKLFlBQVksQ0FBQztFQUN0QyxDQUFDLENBQUMsT0FBT0ssS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLDRCQUE0QixFQUFFQSxLQUFLLENBQUM7SUFDbEROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsS0FBSyxFQUFFQSxLQUFLLENBQUNFO0lBQVEsQ0FBQyxDQUFDO0VBQ2xEO0FBQ0osQ0FBQyxDQUFDO0FBRUZDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHakIsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","router","Router","db","Boletin","Op","post","req","res","nuevoBoletin","create","body","status","json","error","console","message","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["boletines.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../models');\r\nconst Boletin = db.Boletin;\r\nconst { Op } = require('sequelize');\r\n\r\n// Endpoint para crear un nuevo Boletin\r\nrouter.post('/', async (req, res) => {\r\n    try {\r\n        // Usa `req.body` para acceder a los datos enviados en la solicitud\r\n        const nuevoBoletin = await Boletin.create(req.body);\r\n        res.status(201).json(nuevoBoletin);\r\n    } catch (error) {\r\n        console.error('Error al crear el Boletin:', error);\r\n        res.status(400).json({ error: error.message });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,EAAE,GAAGH,OAAO,CAAC,WAAW,CAAC;AAC/B,MAAMI,OAAO,GAAGD,EAAE,CAACC,OAAO;AAC1B,MAAM;EAAEC;AAAG,CAAC,GAAGL,OAAO,CAAC,WAAW,CAAC;;AAEnC;AACAC,MAAM,CAACK,IAAI,CAAC,GAAG,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACjC,IAAI;IACA;IACA,MAAMC,YAAY,GAAG,MAAML,OAAO,CAACM,MAAM,CAACH,GAAG,CAACI,IAAI,CAAC;IACnDH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACJ,YAAY,CAAC;EACtC,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAEA,KAAK,CAACE;IAAQ,CAAC,CAAC;EAClD;AACJ,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGjB,MAAM","ignoreList":[]}},"mtime":1761542460730},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\envios.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"// /routes/envios.js (Añadir este bloque al final del archivo)\n\n// Importar utilidades necesarias\nconst express = require('express');\nconst router = express.Router();\nconst nodemailer = require('nodemailer');\nconst React = require('react');\nconst {\n  renderToStaticMarkup\n} = require('react-dom/server');\n\n// ⚠️ CONFIGURACIÓN DE NODEMAILER (Asegúrate que estas credenciales sean válidas)\n// Asumo que ya tienes esta configuración al inicio del archivo\nconst transporter = nodemailer.createTransport({\n  host: \"mail.sealmarket.mx\",\n  port: 465,\n  secure: true,\n  auth: {\n    user: \"auto-confirm@sealmarket.mx\",\n    // O la cuenta que uses para enviar\n    pass: \"Trof#4102O\"\n  }\n});\n\n// Importar la nueva plantilla (Ajusta la ruta si es necesario)\nconst SurtidoEmail = require('../templates/SurtidoEmail');\n\n// Función auxiliar para renderizar el componente React\nconst renderSurtidoEmail = envioData => {\n  return renderToStaticMarkup(React.createElement(SurtidoEmail, {\n    envio: envioData\n  }));\n};\n\n// Mapeo de correos por almacén\nconst ALMACEN_EMAILS = {\n  '1': 'contacto@sealmarket.mx',\n  '6': 'orodriguez@sealmarket.mx'\n  // Agrega más almacenes según los necesites\n};\n\n// =======================================================\n// RUTA 5: POST /api/envios/surtir\n// Recibe un arreglo de envíos (uno por almacén) y notifica\n// =======================================================\nrouter.post('/surtir', async (req, res) => {\n  // 🚨 CORRECCIÓN CLAVE: Aseguramos que data sea un arreglo.\n  // Si req.body es un arreglo, lo usa. Si es un objeto, lo envuelve en un arreglo.\n  const enviosArray = Array.isArray(req.body) ? req.body : [req.body];\n  if (enviosArray.length === 0) {\n    return res.status(400).json({\n      error: 'El cuerpo debe ser un arreglo no vacío de envíos.'\n    });\n  }\n  const resultados = [];\n\n  // Iterar sobre cada objeto de envío\n  for (const envio of enviosArray) {\n    const almacen = String(envio.almacen_asignado);\n    const destinatario = ALMACEN_EMAILS[almacen];\n    if (!destinatario) {\n      resultados.push({\n        folio: envio.folio,\n        almacen: almacen,\n        status: 'Error',\n        message: `Correo no definido para el almacén ${almacen}`\n      });\n      continue;\n    }\n    const htmlContent = renderSurtidoEmail(envio);\n    try {\n      await transporter.sendMail({\n        from: '\"Notificador de Surtido\" <auto-confirm@sealmarket.mx>',\n        to: destinatario,\n        subject: `[URGENTE] Nuevo Pedido - Surtido para Almacén ${almacen} (Folio: ${envio.folio})`,\n        html: htmlContent\n      });\n      resultados.push({\n        folio: envio.folio,\n        almacen: almacen,\n        status: 'Éxito',\n        message: `Notificación enviada a ${destinatario}`\n      });\n    } catch (error) {\n      console.error(`Error al enviar correo para el envío ${envio.folio}:`, error);\n      // Revertimos la respuesta a 500 si hay un fallo de Nodemailer\n      resultados.push({\n        folio: envio.folio,\n        almacen: almacen,\n        status: 'Error',\n        message: `Fallo de Nodemailer: ${error.message}`\n      });\n    }\n  }\n\n  // Devuelve el estado de todas las notificaciones\n  res.status(200).json({\n    message: 'Proceso de notificación a almacenes completado.',\n    resultados: resultados\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIm5vZGVtYWlsZXIiLCJSZWFjdCIsInJlbmRlclRvU3RhdGljTWFya3VwIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicG9ydCIsInNlY3VyZSIsImF1dGgiLCJ1c2VyIiwicGFzcyIsIlN1cnRpZG9FbWFpbCIsInJlbmRlclN1cnRpZG9FbWFpbCIsImVudmlvRGF0YSIsImNyZWF0ZUVsZW1lbnQiLCJlbnZpbyIsIkFMTUFDRU5fRU1BSUxTIiwicG9zdCIsInJlcSIsInJlcyIsImVudmlvc0FycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiYm9keSIsImxlbmd0aCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInJlc3VsdGFkb3MiLCJhbG1hY2VuIiwiU3RyaW5nIiwiYWxtYWNlbl9hc2lnbmFkbyIsImRlc3RpbmF0YXJpbyIsInB1c2giLCJmb2xpbyIsIm1lc3NhZ2UiLCJodG1sQ29udGVudCIsInNlbmRNYWlsIiwiZnJvbSIsInRvIiwic3ViamVjdCIsImh0bWwiLCJjb25zb2xlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiZW52aW9zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIC9yb3V0ZXMvZW52aW9zLmpzIChBw7FhZGlyIGVzdGUgYmxvcXVlIGFsIGZpbmFsIGRlbCBhcmNoaXZvKVxyXG5cclxuLy8gSW1wb3J0YXIgdXRpbGlkYWRlcyBuZWNlc2FyaWFzXHJcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IG5vZGVtYWlsZXIgPSByZXF1aXJlKCdub2RlbWFpbGVyJyk7XHJcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuY29uc3QgeyByZW5kZXJUb1N0YXRpY01hcmt1cCB9ID0gcmVxdWlyZSgncmVhY3QtZG9tL3NlcnZlcicpO1xyXG5cclxuLy8g4pqg77iPIENPTkZJR1VSQUNJw5NOIERFIE5PREVNQUlMRVIgKEFzZWfDunJhdGUgcXVlIGVzdGFzIGNyZWRlbmNpYWxlcyBzZWFuIHbDoWxpZGFzKVxyXG4vLyBBc3VtbyBxdWUgeWEgdGllbmVzIGVzdGEgY29uZmlndXJhY2nDs24gYWwgaW5pY2lvIGRlbCBhcmNoaXZvXHJcbmNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gICAgaG9zdDogXCJtYWlsLnNlYWxtYXJrZXQubXhcIiwgXHJcbiAgICBwb3J0OiA0NjUsIFxyXG4gICAgc2VjdXJlOiB0cnVlLCBcclxuICAgIGF1dGg6IHtcclxuICAgICAgICB1c2VyOiBcImF1dG8tY29uZmlybUBzZWFsbWFya2V0Lm14XCIsIC8vIE8gbGEgY3VlbnRhIHF1ZSB1c2VzIHBhcmEgZW52aWFyXHJcbiAgICAgICAgcGFzczogXCJUcm9mIzQxMDJPXCIgXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gSW1wb3J0YXIgbGEgbnVldmEgcGxhbnRpbGxhIChBanVzdGEgbGEgcnV0YSBzaSBlcyBuZWNlc2FyaW8pXHJcbmNvbnN0IFN1cnRpZG9FbWFpbCA9IHJlcXVpcmUoJy4uL3RlbXBsYXRlcy9TdXJ0aWRvRW1haWwnKTsgXHJcblxyXG4vLyBGdW5jacOzbiBhdXhpbGlhciBwYXJhIHJlbmRlcml6YXIgZWwgY29tcG9uZW50ZSBSZWFjdFxyXG5jb25zdCByZW5kZXJTdXJ0aWRvRW1haWwgPSAoZW52aW9EYXRhKSA9PiB7XHJcbiAgICByZXR1cm4gcmVuZGVyVG9TdGF0aWNNYXJrdXAoUmVhY3QuY3JlYXRlRWxlbWVudChTdXJ0aWRvRW1haWwsIHsgZW52aW86IGVudmlvRGF0YSB9KSk7XHJcbn07XHJcblxyXG4vLyBNYXBlbyBkZSBjb3JyZW9zIHBvciBhbG1hY8OpblxyXG5jb25zdCBBTE1BQ0VOX0VNQUlMUyA9IHtcclxuICAgICcxJzogJ2NvbnRhY3RvQHNlYWxtYXJrZXQubXgnLFxyXG4gICAgJzYnOiAnb3JvZHJpZ3VlekBzZWFsbWFya2V0Lm14JyxcclxuICAgIC8vIEFncmVnYSBtw6FzIGFsbWFjZW5lcyBzZWfDum4gbG9zIG5lY2VzaXRlc1xyXG59O1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUlVUQSA1OiBQT1NUIC9hcGkvZW52aW9zL3N1cnRpclxyXG4vLyBSZWNpYmUgdW4gYXJyZWdsbyBkZSBlbnbDrW9zICh1bm8gcG9yIGFsbWFjw6luKSB5IG5vdGlmaWNhXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxucm91dGVyLnBvc3QoJy9zdXJ0aXInLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIC8vIPCfmqggQ09SUkVDQ0nDk04gQ0xBVkU6IEFzZWd1cmFtb3MgcXVlIGRhdGEgc2VhIHVuIGFycmVnbG8uXHJcbiAgICAvLyBTaSByZXEuYm9keSBlcyB1biBhcnJlZ2xvLCBsbyB1c2EuIFNpIGVzIHVuIG9iamV0bywgbG8gZW52dWVsdmUgZW4gdW4gYXJyZWdsby5cclxuICAgIGNvbnN0IGVudmlvc0FycmF5ID0gQXJyYXkuaXNBcnJheShyZXEuYm9keSkgPyByZXEuYm9keSA6IFtyZXEuYm9keV07XHJcblxyXG4gICAgaWYgKGVudmlvc0FycmF5Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnRWwgY3VlcnBvIGRlYmUgc2VyIHVuIGFycmVnbG8gbm8gdmFjw61vIGRlIGVudsOtb3MuJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHRhZG9zID0gW107XHJcblxyXG4gICAgLy8gSXRlcmFyIHNvYnJlIGNhZGEgb2JqZXRvIGRlIGVudsOtb1xyXG4gICAgZm9yIChjb25zdCBlbnZpbyBvZiBlbnZpb3NBcnJheSkge1xyXG4gICAgICAgIGNvbnN0IGFsbWFjZW4gPSBTdHJpbmcoZW52aW8uYWxtYWNlbl9hc2lnbmFkbyk7XHJcbiAgICAgICAgY29uc3QgZGVzdGluYXRhcmlvID0gQUxNQUNFTl9FTUFJTFNbYWxtYWNlbl07XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFkZXN0aW5hdGFyaW8pIHtcclxuICAgICAgICAgICAgcmVzdWx0YWRvcy5wdXNoKHsgXHJcbiAgICAgICAgICAgICAgICBmb2xpbzogZW52aW8uZm9saW8sIFxyXG4gICAgICAgICAgICAgICAgYWxtYWNlbjogYWxtYWNlbiwgXHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdFcnJvcicsIFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYENvcnJlbyBubyBkZWZpbmlkbyBwYXJhIGVsIGFsbWFjw6luICR7YWxtYWNlbn1gIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGh0bWxDb250ZW50ID0gcmVuZGVyU3VydGlkb0VtYWlsKGVudmlvKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwoe1xyXG4gICAgICAgICAgICAgICAgZnJvbTogJ1wiTm90aWZpY2Fkb3IgZGUgU3VydGlkb1wiIDxhdXRvLWNvbmZpcm1Ac2VhbG1hcmtldC5teD4nLFxyXG4gICAgICAgICAgICAgICAgdG86IGRlc3RpbmF0YXJpbyxcclxuICAgICAgICAgICAgICAgIHN1YmplY3Q6IGBbVVJHRU5URV0gTnVldm8gUGVkaWRvIC0gU3VydGlkbyBwYXJhIEFsbWFjw6luICR7YWxtYWNlbn0gKEZvbGlvOiAke2VudmlvLmZvbGlvfSlgLFxyXG4gICAgICAgICAgICAgICAgaHRtbDogaHRtbENvbnRlbnQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzdWx0YWRvcy5wdXNoKHsgXHJcbiAgICAgICAgICAgICAgICBmb2xpbzogZW52aW8uZm9saW8sIFxyXG4gICAgICAgICAgICAgICAgYWxtYWNlbjogYWxtYWNlbiwgXHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICfDiXhpdG8nLCBcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBOb3RpZmljYWNpw7NuIGVudmlhZGEgYSAke2Rlc3RpbmF0YXJpb31gIFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgYWwgZW52aWFyIGNvcnJlbyBwYXJhIGVsIGVudsOtbyAke2VudmlvLmZvbGlvfTpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgIC8vIFJldmVydGltb3MgbGEgcmVzcHVlc3RhIGEgNTAwIHNpIGhheSB1biBmYWxsbyBkZSBOb2RlbWFpbGVyXHJcbiAgICAgICAgICAgIHJlc3VsdGFkb3MucHVzaCh7IFxyXG4gICAgICAgICAgICAgICAgZm9saW86IGVudmlvLmZvbGlvLCBcclxuICAgICAgICAgICAgICAgIGFsbWFjZW46IGFsbWFjZW4sIFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnRXJyb3InLCBcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBGYWxsbyBkZSBOb2RlbWFpbGVyOiAke2Vycm9yLm1lc3NhZ2V9YCBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIERldnVlbHZlIGVsIGVzdGFkbyBkZSB0b2RhcyBsYXMgbm90aWZpY2FjaW9uZXNcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiAnUHJvY2VzbyBkZSBub3RpZmljYWNpw7NuIGEgYWxtYWNlbmVzIGNvbXBsZXRhZG8uJyxcclxuICAgICAgICByZXN1bHRhZG9zOiByZXN1bHRhZG9zXHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0EsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLENBQUMsQ0FBQztBQUMvQixNQUFNQyxVQUFVLEdBQUdILE9BQU8sQ0FBQyxZQUFZLENBQUM7QUFDeEMsTUFBTUksS0FBSyxHQUFHSixPQUFPLENBQUMsT0FBTyxDQUFDO0FBQzlCLE1BQU07RUFBRUs7QUFBcUIsQ0FBQyxHQUFHTCxPQUFPLENBQUMsa0JBQWtCLENBQUM7O0FBRTVEO0FBQ0E7QUFDQSxNQUFNTSxXQUFXLEdBQUdILFVBQVUsQ0FBQ0ksZUFBZSxDQUFDO0VBQzNDQyxJQUFJLEVBQUUsb0JBQW9CO0VBQzFCQyxJQUFJLEVBQUUsR0FBRztFQUNUQyxNQUFNLEVBQUUsSUFBSTtFQUNaQyxJQUFJLEVBQUU7SUFDRkMsSUFBSSxFQUFFLDRCQUE0QjtJQUFFO0lBQ3BDQyxJQUFJLEVBQUU7RUFDVjtBQUNKLENBQUMsQ0FBQzs7QUFFRjtBQUNBLE1BQU1DLFlBQVksR0FBR2QsT0FBTyxDQUFDLDJCQUEyQixDQUFDOztBQUV6RDtBQUNBLE1BQU1lLGtCQUFrQixHQUFJQyxTQUFTLElBQUs7RUFDdEMsT0FBT1gsb0JBQW9CLENBQUNELEtBQUssQ0FBQ2EsYUFBYSxDQUFDSCxZQUFZLEVBQUU7SUFBRUksS0FBSyxFQUFFRjtFQUFVLENBQUMsQ0FBQyxDQUFDO0FBQ3hGLENBQUM7O0FBRUQ7QUFDQSxNQUFNRyxjQUFjLEdBQUc7RUFDbkIsR0FBRyxFQUFFLHdCQUF3QjtFQUM3QixHQUFHLEVBQUU7RUFDTDtBQUNKLENBQUM7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQWxCLE1BQU0sQ0FBQ21CLElBQUksQ0FBQyxTQUFT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","map":{"version":3,"names":["express","require","router","Router","nodemailer","React","renderToStaticMarkup","transporter","createTransport","host","port","secure","auth","user","pass","SurtidoEmail","renderSurtidoEmail","envioData","createElement","envio","ALMACEN_EMAILS","post","req","res","enviosArray","Array","isArray","body","length","status","json","error","resultados","almacen","String","almacen_asignado","destinatario","push","folio","message","htmlContent","sendMail","from","to","subject","html","console","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["envios.js"],"sourcesContent":["// /routes/envios.js (Añadir este bloque al final del archivo)\r\n\r\n// Importar utilidades necesarias\r\nconst express = require('express');\r\nconst router = express.Router();\r\nconst nodemailer = require('nodemailer');\r\nconst React = require('react');\r\nconst { renderToStaticMarkup } = require('react-dom/server');\r\n\r\n// ⚠️ CONFIGURACIÓN DE NODEMAILER (Asegúrate que estas credenciales sean válidas)\r\n// Asumo que ya tienes esta configuración al inicio del archivo\r\nconst transporter = nodemailer.createTransport({\r\n    host: \"mail.sealmarket.mx\", \r\n    port: 465, \r\n    secure: true, \r\n    auth: {\r\n        user: \"auto-confirm@sealmarket.mx\", // O la cuenta que uses para enviar\r\n        pass: \"Trof#4102O\" \r\n    }\r\n});\r\n\r\n// Importar la nueva plantilla (Ajusta la ruta si es necesario)\r\nconst SurtidoEmail = require('../templates/SurtidoEmail'); \r\n\r\n// Función auxiliar para renderizar el componente React\r\nconst renderSurtidoEmail = (envioData) => {\r\n    return renderToStaticMarkup(React.createElement(SurtidoEmail, { envio: envioData }));\r\n};\r\n\r\n// Mapeo de correos por almacén\r\nconst ALMACEN_EMAILS = {\r\n    '1': 'contacto@sealmarket.mx',\r\n    '6': 'orodriguez@sealmarket.mx',\r\n    // Agrega más almacenes según los necesites\r\n};\r\n\r\n\r\n// =======================================================\r\n// RUTA 5: POST /api/envios/surtir\r\n// Recibe un arreglo de envíos (uno por almacén) y notifica\r\n// =======================================================\r\nrouter.post('/surtir', async (req, res) => {\r\n    // 🚨 CORRECCIÓN CLAVE: Aseguramos que data sea un arreglo.\r\n    // Si req.body es un arreglo, lo usa. Si es un objeto, lo envuelve en un arreglo.\r\n    const enviosArray = Array.isArray(req.body) ? req.body : [req.body];\r\n\r\n    if (enviosArray.length === 0) {\r\n        return res.status(400).json({ error: 'El cuerpo debe ser un arreglo no vacío de envíos.' });\r\n    }\r\n\r\n    const resultados = [];\r\n\r\n    // Iterar sobre cada objeto de envío\r\n    for (const envio of enviosArray) {\r\n        const almacen = String(envio.almacen_asignado);\r\n        const destinatario = ALMACEN_EMAILS[almacen];\r\n        \r\n        if (!destinatario) {\r\n            resultados.push({ \r\n                folio: envio.folio, \r\n                almacen: almacen, \r\n                status: 'Error', \r\n                message: `Correo no definido para el almacén ${almacen}` \r\n            });\r\n            continue;\r\n        }\r\n        \r\n        const htmlContent = renderSurtidoEmail(envio);\r\n\r\n        try {\r\n            await transporter.sendMail({\r\n                from: '\"Notificador de Surtido\" <auto-confirm@sealmarket.mx>',\r\n                to: destinatario,\r\n                subject: `[URGENTE] Nuevo Pedido - Surtido para Almacén ${almacen} (Folio: ${envio.folio})`,\r\n                html: htmlContent,\r\n            });\r\n            \r\n            resultados.push({ \r\n                folio: envio.folio, \r\n                almacen: almacen, \r\n                status: 'Éxito', \r\n                message: `Notificación enviada a ${destinatario}` \r\n            });\r\n\r\n        } catch (error) {\r\n            console.error(`Error al enviar correo para el envío ${envio.folio}:`, error);\r\n            // Revertimos la respuesta a 500 si hay un fallo de Nodemailer\r\n            resultados.push({ \r\n                folio: envio.folio, \r\n                almacen: almacen, \r\n                status: 'Error', \r\n                message: `Fallo de Nodemailer: ${error.message}` \r\n            });\r\n        }\r\n    }\r\n\r\n    // Devuelve el estado de todas las notificaciones\r\n    res.status(200).json({\r\n        message: 'Proceso de notificación a almacenes completado.',\r\n        resultados: resultados\r\n    });\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"AAAA;;AAEA;AACA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,UAAU,GAAGH,OAAO,CAAC,YAAY,CAAC;AACxC,MAAMI,KAAK,GAAGJ,OAAO,CAAC,OAAO,CAAC;AAC9B,MAAM;EAAEK;AAAqB,CAAC,GAAGL,OAAO,CAAC,kBAAkB,CAAC;;AAE5D;AACA;AACA,MAAMM,WAAW,GAAGH,UAAU,CAACI,eAAe,CAAC;EAC3CC,IAAI,EAAE,oBAAoB;EAC1BC,IAAI,EAAE,GAAG;EACTC,MAAM,EAAE,IAAI;EACZC,IAAI,EAAE;IACFC,IAAI,EAAE,4BAA4B;IAAE;IACpCC,IAAI,EAAE;EACV;AACJ,CAAC,CAAC;;AAEF;AACA,MAAMC,YAAY,GAAGd,OAAO,CAAC,2BAA2B,CAAC;;AAEzD;AACA,MAAMe,kBAAkB,GAAIC,SAAS,IAAK;EACtC,OAAOX,oBAAoB,CAACD,KAAK,CAACa,aAAa,CAACH,YAAY,EAAE;IAAEI,KAAK,EAAEF;EAAU,CAAC,CAAC,CAAC;AACxF,CAAC;;AAED;AACA,MAAMG,cAAc,GAAG;EACnB,GAAG,EAAE,wBAAwB;EAC7B,GAAG,EAAE;EACL;AACJ,CAAC;;AAGD;AACA;AACA;AACA;AACAlB,MAAM,CAACmB,IAAI,CAAC,SAAS,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACvC;EACA;EACA,MAAMC,WAAW,GAAGC,KAAK,CAACC,OAAO,CAACJ,GAAG,CAACK,IAAI,CAAC,GAAGL,GAAG,CAACK,IAAI,GAAG,CAACL,GAAG,CAACK,IAAI,CAAC;EAEnE,IAAIH,WAAW,CAACI,MAAM,KAAK,CAAC,EAAE;IAC1B,OAAOL,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAoD,CAAC,CAAC;EAC/F;EAEA,MAAMC,UAAU,GAAG,EAAE;;EAErB;EACA,KAAK,MAAMb,KAAK,IAAIK,WAAW,EAAE;IAC7B,MAAMS,OAAO,GAAGC,MAAM,CAACf,KAAK,CAACgB,gBAAgB,CAAC;IAC9C,MAAMC,YAAY,GAAGhB,cAAc,CAACa,OAAO,CAAC;IAE5C,IAAI,CAACG,YAAY,EAAE;MACfJ,UAAU,CAACK,IAAI,CAAC;QACZC,KAAK,EAAEnB,KAAK,CAACmB,KAAK;QAClBL,OAAO,EAAEA,OAAO;QAChBJ,MAAM,EAAE,OAAO;QACfU,OAAO,EAAE,sCAAsCN,OAAO;MAC1D,CAAC,CAAC;MACF;IACJ;IAEA,MAAMO,WAAW,GAAGxB,kBAAkB,CAACG,KAAK,CAAC;IAE7C,IAAI;MACA,MAAMZ,WAAW,CAACkC,QAAQ,CAAC;QACvBC,IAAI,EAAE,uDAAuD;QAC7DC,EAAE,EAAEP,YAAY;QAChBQ,OAAO,EAAE,iDAAiDX,OAAO,YAAYd,KAAK,CAACmB,KAAK,GAAG;QAC3FO,IAAI,EAAEL;MACV,CAAC,CAAC;MAEFR,UAAU,CAACK,IAAI,CAAC;QACZC,KAAK,EAAEnB,KAAK,CAACmB,KAAK;QAClBL,OAAO,EAAEA,OAAO;QAChBJ,MAAM,EAAE,OAAO;QACfU,OAAO,EAAE,0BAA0BH,YAAY;MACnD,CAAC,CAAC;IAEN,CAAC,CAAC,OAAOL,KAAK,EAAE;MACZe,OAAO,CAACf,KAAK,CAAC,wCAAwCZ,KAAK,CAACmB,KAAK,GAAG,EAAEP,KAAK,CAAC;MAC5E;MACAC,UAAU,CAACK,IAAI,CAAC;QACZC,KAAK,EAAEnB,KAAK,CAACmB,KAAK;QAClBL,OAAO,EAAEA,OAAO;QAChBJ,MAAM,EAAE,OAAO;QACfU,OAAO,EAAE,wBAAwBR,KAAK,CAACQ,OAAO;MAClD,CAAC,CAAC;IACN;EACJ;;EAEA;EACAhB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IACjBS,OAAO,EAAE,iDAAiD;IAC1DP,UAAU,EAAEA;EAChB,CAAC,CAAC;AACN,CAAC,CAAC;AAEFe,MAAM,CAACC,OAAO,GAAG9C,MAAM","ignoreList":[]}},"mtime":1761625537208},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\templates\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\templates\\\\SurtidoEmail.jsx\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"// /SurtidoEmail/SurtidoEmail.jsx\n\nconst React = require(\"react\");\nconst SurtidoEmailItem = require(\"./SurtidoEmailItem\");\nconst SurtidoEmail = ({\n  envio\n}) => {\n  const styles = {\n    // ... (Mantén los mismos estilos generales de PedidoEmail.jsx)\n    container: {\n      maxWidth: \"680px\",\n      margin: \"0 auto\",\n      backgroundColor: \"#ffffff\",\n      border: \"1px solid #ddd\",\n      borderRadius: \"8px\",\n      overflow: \"hidden\"\n    },\n    header: {\n      backgroundColor: \"#d9534e\",\n      // Un color distintivo para interno\n      color: \"#ffffff\",\n      padding: \"30px 20px\",\n      textAlign: \"left\"\n    },\n    headerTitle: {\n      margin: 0,\n      fontSize: \"28px\"\n    },\n    content: {\n      padding: \"30px\"\n    },\n    // ... otros estilos ...\n    addressDetails: {\n      border: \"1px solid #ddd\",\n      padding: \"15px\",\n      backgroundColor: \"#f9f9f9\",\n      marginBottom: \"30px\"\n    },\n    itemsTable: {\n      width: \"100%\",\n      borderCollapse: \"collapse\",\n      marginBottom: \"30px\"\n    },\n    itemsTh: {\n      borderBottom: \"2px solid #333\",\n      padding: \"10px 0\",\n      textAlign: \"left\",\n      fontSize: \"16px\",\n      color: \"#333\"\n    },\n    footer: {\n      backgroundColor: \"#f4f4f4\",\n      padding: \"20px\",\n      textAlign: \"center\",\n      fontSize: \"12px\",\n      color: \"#666\",\n      borderTop: \"1px solid #ddd\"\n    }\n  };\n  const destino = envio.destino;\n  return /*#__PURE__*/React.createElement(\"html\", null, /*#__PURE__*/React.createElement(\"body\", {\n    style: styles.body\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    style: styles.container\n  }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n    style: styles.header\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: styles.headerTitle\n  }, \"\\uD83D\\uDEA8 NUEVO SURTIDO (ALM. \", envio.almacen_asignado, \")\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: styles.headerSubtitle\n  }, \"**Folio Env\\xEDo:** \", envio.folio, \" | **Folio Pedido:** \", envio.folio_pedido), /*#__PURE__*/React.createElement(\"p\", {\n    style: styles.headerSubtitle\n  }, \"**Tipo Log\\xEDstica:** \", envio.tipo_logistica)))), /*#__PURE__*/React.createElement(\"tbody\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n    style: styles.content\n  }, /*#__PURE__*/React.createElement(\"h2\", null, \"Detalles de Surtido\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.addressDetails\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: 0,\n      fontWeight: \"bold\"\n    }\n  }, \"DESTINO FINAL:\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"5px 0\"\n    }\n  }, \"**\", destino.nombre_completo, \"** | Tel: \", destino.numero_telefono), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"5px 0\"\n    }\n  }, destino.calle, \" #\", destino.numero_ext, destino.numero_int ? ` Int. ${destino.numero_int}` : '', \", Col. \", destino.colonia), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"5px 0\"\n    }\n  }, destino.ciudad, \", \", destino.estado, \", C.P. \", destino.codigo_postal), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"5px 0\",\n      color: \"#666\"\n    }\n  }, \"**Instrucciones:** \", destino.instrucciones_entrega || 'N/A')), /*#__PURE__*/React.createElement(\"table\", {\n    style: styles.itemsTable,\n    cellPadding: \"0\",\n    cellSpacing: \"0\"\n  }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n    style: styles.itemsTh\n  }, \"Producto / Descripci\\xF3n\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      ...styles.itemsTh,\n      textAlign: \"center\"\n    }\n  }, \"Cantidad a Surtir\"))), /*#__PURE__*/React.createElement(\"tbody\", null, envio.items_envio.map(item => /*#__PURE__*/React.createElement(SurtidoEmailItem, {\n    key: item.clave,\n    item: item\n  }))))))), /*#__PURE__*/React.createElement(\"tfoot\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n    style: styles.footer\n  }, /*#__PURE__*/React.createElement(\"p\", null, \"Este es un aviso autom\\xE1tico de un nuevo env\\xEDo. Favor de surtirlo lo antes posible.\"), /*#__PURE__*/React.createElement(\"p\", null, \"Cualquier duda, contacte al \\xE1rea de ventas.\")))))));\n};\nmodule.exports = SurtidoEmail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJTdXJ0aWRvRW1haWxJdGVtIiwiU3VydGlkb0VtYWlsIiwiZW52aW8iLCJzdHlsZXMiLCJjb250YWluZXIiLCJtYXhXaWR0aCIsIm1hcmdpbiIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsIm92ZXJmbG93IiwiaGVhZGVyIiwiY29sb3IiLCJwYWRkaW5nIiwidGV4dEFsaWduIiwiaGVhZGVyVGl0bGUiLCJmb250U2l6ZSIsImNvbnRlbnQiLCJhZGRyZXNzRGV0YWlscyIsIm1hcmdpbkJvdHRvbSIsIml0ZW1zVGFibGUiLCJ3aWR0aCIsImJvcmRlckNvbGxhcHNlIiwiaXRlbXNUaCIsImJvcmRlckJvdHRvbSIsImZvb3RlciIsImJvcmRlclRvcCIsImRlc3Rpbm8iLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJib2R5IiwiY2VsbFBhZGRpbmciLCJjZWxsU3BhY2luZyIsImFsbWFjZW5fYXNpZ25hZG8iLCJoZWFkZXJTdWJ0aXRsZSIsImZvbGlvIiwiZm9saW9fcGVkaWRvIiwidGlwb19sb2dpc3RpY2EiLCJmb250V2VpZ2h0Iiwibm9tYnJlX2NvbXBsZXRvIiwibnVtZXJvX3RlbGVmb25vIiwiY2FsbGUiLCJudW1lcm9fZXh0IiwibnVtZXJvX2ludCIsImNvbG9uaWEiLCJjaXVkYWQiLCJlc3RhZG8iLCJjb2RpZ29fcG9zdGFsIiwiaW5zdHJ1Y2Npb25lc19lbnRyZWdhIiwiaXRlbXNfZW52aW8iLCJtYXAiLCJpdGVtIiwia2V5IiwiY2xhdmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG9yb2RyXFx3b3Jrc3BhY2VcXEFQSXNcXGFwaS1lY29tbWVyY2VcXHRlbXBsYXRlc1xcIiwic291cmNlcyI6WyJTdXJ0aWRvRW1haWwuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIC9TdXJ0aWRvRW1haWwvU3VydGlkb0VtYWlsLmpzeFxyXG5cclxuY29uc3QgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XHJcbmNvbnN0IFN1cnRpZG9FbWFpbEl0ZW0gPSByZXF1aXJlKFwiLi9TdXJ0aWRvRW1haWxJdGVtXCIpOyBcclxuXHJcbmNvbnN0IFN1cnRpZG9FbWFpbCA9ICh7IGVudmlvIH0pID0+IHtcclxuICBjb25zdCBzdHlsZXMgPSB7XHJcbiAgICAvLyAuLi4gKE1hbnTDqW4gbG9zIG1pc21vcyBlc3RpbG9zIGdlbmVyYWxlcyBkZSBQZWRpZG9FbWFpbC5qc3gpXHJcbiAgICBjb250YWluZXI6IHtcclxuICAgICAgbWF4V2lkdGg6IFwiNjgwcHhcIixcclxuICAgICAgbWFyZ2luOiBcIjAgYXV0b1wiLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcclxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjhweFwiLFxyXG4gICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcclxuICAgIH0sXHJcbiAgICBoZWFkZXI6IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNkOTUzNGVcIiwgLy8gVW4gY29sb3IgZGlzdGludGl2byBwYXJhIGludGVybm9cclxuICAgICAgY29sb3I6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICBwYWRkaW5nOiBcIjMwcHggMjBweFwiLFxyXG4gICAgICB0ZXh0QWxpZ246IFwibGVmdFwiLFxyXG4gICAgfSxcclxuICAgIGhlYWRlclRpdGxlOiB7XHJcbiAgICAgIG1hcmdpbjogMCxcclxuICAgICAgZm9udFNpemU6IFwiMjhweFwiLFxyXG4gICAgfSxcclxuICAgIGNvbnRlbnQ6IHtcclxuICAgICAgcGFkZGluZzogXCIzMHB4XCIsXHJcbiAgICB9LFxyXG4gICAgLy8gLi4uIG90cm9zIGVzdGlsb3MgLi4uXHJcbiAgICBhZGRyZXNzRGV0YWlsczoge1xyXG4gICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNkZGRcIixcclxuICAgICAgcGFkZGluZzogXCIxNXB4XCIsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjlmOWY5XCIsXHJcbiAgICAgIG1hcmdpbkJvdHRvbTogXCIzMHB4XCIsXHJcbiAgICB9LFxyXG4gICAgaXRlbXNUYWJsZToge1xyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBib3JkZXJDb2xsYXBzZTogXCJjb2xsYXBzZVwiLFxyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCIzMHB4XCIsXHJcbiAgICB9LFxyXG4gICAgaXRlbXNUaDoge1xyXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIycHggc29saWQgIzMzM1wiLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiMTBweCAwXCIsXHJcbiAgICAgICAgdGV4dEFsaWduOiBcImxlZnRcIixcclxuICAgICAgICBmb250U2l6ZTogXCIxNnB4XCIsXHJcbiAgICAgICAgY29sb3I6IFwiIzMzM1wiXHJcbiAgICB9LFxyXG4gICAgZm9vdGVyOiB7XHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjRmNGY0XCIsXHJcbiAgICAgIHBhZGRpbmc6IFwiMjBweFwiLFxyXG4gICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICAgIGZvbnRTaXplOiBcIjEycHhcIixcclxuICAgICAgY29sb3I6IFwiIzY2NlwiLFxyXG4gICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkICNkZGRcIixcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGVzdGlubyA9IGVudmlvLmRlc3Rpbm87XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8aHRtbD5cclxuICAgICAgPGJvZHkgc3R5bGU9e3N0eWxlcy5ib2R5fT5cclxuICAgICAgICA8dGFibGUgY2VsbFBhZGRpbmc9XCIwXCIgY2VsbFNwYWNpbmc9XCIwXCIgc3R5bGU9e3N0eWxlcy5jb250YWluZXJ9PlxyXG4gICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgPHRkIHN0eWxlPXtzdHlsZXMuaGVhZGVyfT5cclxuICAgICAgICAgICAgICAgIDxoMSBzdHlsZT17c3R5bGVzLmhlYWRlclRpdGxlfT5cclxuICAgICAgICAgICAgICAgICAg8J+aqCBOVUVWTyBTVVJUSURPIChBTE0uIHtlbnZpby5hbG1hY2VuX2FzaWduYWRvfSlcclxuICAgICAgICAgICAgICAgIDwvaDE+XHJcbiAgICAgICAgICAgICAgICA8cCBzdHlsZT17c3R5bGVzLmhlYWRlclN1YnRpdGxlfT5cclxuICAgICAgICAgICAgICAgICAgKipGb2xpbyBFbnbDrW86Kioge2VudmlvLmZvbGlvfSB8ICoqRm9saW8gUGVkaWRvOioqIHtlbnZpby5mb2xpb19wZWRpZG99XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8cCBzdHlsZT17c3R5bGVzLmhlYWRlclN1YnRpdGxlfT5cclxuICAgICAgICAgICAgICAgICAgKipUaXBvIExvZ8Otc3RpY2E6Kioge2VudmlvLnRpcG9fbG9naXN0aWNhfVxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgPHRkIHN0eWxlPXtzdHlsZXMuY29udGVudH0+XHJcbiAgICAgICAgICAgICAgICA8aDI+RGV0YWxsZXMgZGUgU3VydGlkbzwvaDI+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHsvKiAxLiBTRUNDScOTTiBERSBERVNUSU5PIFBBUkEgTEEgR1XDjUEgKi99XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMuYWRkcmVzc0RldGFpbHN9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogMCwgZm9udFdlaWdodDogXCJib2xkXCIgfX0+REVTVElOTyBGSU5BTDo8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiBcIjVweCAwXCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICoqe2Rlc3Rpbm8ubm9tYnJlX2NvbXBsZXRvfSoqIHwgVGVsOiB7ZGVzdGluby5udW1lcm9fdGVsZWZvbm99XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogXCI1cHggMFwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGVzdGluby5jYWxsZX0gI3tkZXN0aW5vLm51bWVyb19leHR9e2Rlc3Rpbm8ubnVtZXJvX2ludCA/IGAgSW50LiAke2Rlc3Rpbm8ubnVtZXJvX2ludH1gIDogJyd9LCBDb2wuIHtkZXN0aW5vLmNvbG9uaWF9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogXCI1cHggMFwiIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGVzdGluby5jaXVkYWR9LCB7ZGVzdGluby5lc3RhZG99LCBDLlAuIHtkZXN0aW5vLmNvZGlnb19wb3N0YWx9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogXCI1cHggMFwiLCBjb2xvcjogXCIjNjY2XCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICoqSW5zdHJ1Y2Npb25lczoqKiB7ZGVzdGluby5pbnN0cnVjY2lvbmVzX2VudHJlZ2EgfHwgJ04vQSd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgey8qIDIuIFNFQ0NJw5NOIERFIFBST0RVQ1RPUyBBIFNVUlRJUiAqL31cclxuICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT17c3R5bGVzLml0ZW1zVGFibGV9IGNlbGxQYWRkaW5nPVwiMFwiIGNlbGxTcGFjaW5nPVwiMFwiPlxyXG4gICAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPXtzdHlsZXMuaXRlbXNUaH0+UHJvZHVjdG8gLyBEZXNjcmlwY2nDs248L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPXt7IC4uLnN0eWxlcy5pdGVtc1RoLCB0ZXh0QWxpZ246IFwiY2VudGVyXCIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbnRpZGFkIGEgU3VydGlyXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICB7ZW52aW8uaXRlbXNfZW52aW8ubWFwKChpdGVtKSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8U3VydGlkb0VtYWlsSXRlbSBrZXk9e2l0ZW0uY2xhdmV9IGl0ZW09e2l0ZW19IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgPHRmb290PlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgPHRkIHN0eWxlPXtzdHlsZXMuZm9vdGVyfT5cclxuICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICBFc3RlIGVzIHVuIGF2aXNvIGF1dG9tw6F0aWNvIGRlIHVuIG51ZXZvIGVudsOtby4gRmF2b3IgZGUgc3VydGlybG8gbG8gYW50ZXMgcG9zaWJsZS5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICBDdWFscXVpZXIgZHVkYSwgY29udGFjdGUgYWwgw6FyZWEgZGUgdmVudGFzLlxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3Rmb290PlxyXG4gICAgICAgIDwvdGFibGU+XHJcbiAgICAgIDwvYm9keT5cclxuICAgIDwvaHRtbD5cclxuICApO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBTdXJ0aWRvRW1haWw7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxNQUFNQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDOUIsTUFBTUMsZ0JBQWdCLEdBQUdELE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztBQUV0RCxNQUFNRSxZQUFZLEdBQUdBLENBQUM7RUFBRUM7QUFBTSxDQUFDLEtBQUs7RUFDbEMsTUFBTUMsTUFBTSxHQUFHO0lBQ2I7SUFDQUMsU0FBUyxFQUFFO01BQ1RDLFFBQVEsRUFBRSxPQUFPO01BQ2pCQyxNQUFNLEVBQUUsUUFBUTtNQUNoQkMsZUFBZSxFQUFFLFNBQVM7TUFDMUJDLE1BQU0sRUFBRSxnQkFBZ0I7TUFDeEJDLFlBQVksRUFBRSxLQUFLO01BQ25CQyxRQUFRLEVBQUU7SUFDWixDQUFDO0lBQ0RDLE1BQU0sRUFBRTtNQUNOSixlQUFlLEVBQUUsU0FBUztNQUFFO01BQzVCSyxLQUFLLEVBQUUsU0FBUztNQUNoQkMsT0FBTyxFQUFFLFdBQVc7TUFDcEJDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREMsV0FBVyxFQUFFO01BQ1hULE1BQU0sRUFBRSxDQUFDO01BQ1RVLFFBQVEsRUFBRTtJQUNaLENBQUM7SUFDREMsT0FBTyxFQUFFO01BQ1BKLE9BQU8sRUFBRTtJ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","map":{"version":3,"names":["React","require","SurtidoEmailItem","SurtidoEmail","envio","styles","container","maxWidth","margin","backgroundColor","border","borderRadius","overflow","header","color","padding","textAlign","headerTitle","fontSize","content","addressDetails","marginBottom","itemsTable","width","borderCollapse","itemsTh","borderBottom","footer","borderTop","destino","createElement","style","body","cellPadding","cellSpacing","almacen_asignado","headerSubtitle","folio","folio_pedido","tipo_logistica","fontWeight","nombre_completo","numero_telefono","calle","numero_ext","numero_int","colonia","ciudad","estado","codigo_postal","instrucciones_entrega","items_envio","map","item","key","clave","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\templates\\","sources":["SurtidoEmail.jsx"],"sourcesContent":["// /SurtidoEmail/SurtidoEmail.jsx\r\n\r\nconst React = require(\"react\");\r\nconst SurtidoEmailItem = require(\"./SurtidoEmailItem\"); \r\n\r\nconst SurtidoEmail = ({ envio }) => {\r\n  const styles = {\r\n    // ... (Mantén los mismos estilos generales de PedidoEmail.jsx)\r\n    container: {\r\n      maxWidth: \"680px\",\r\n      margin: \"0 auto\",\r\n      backgroundColor: \"#ffffff\",\r\n      border: \"1px solid #ddd\",\r\n      borderRadius: \"8px\",\r\n      overflow: \"hidden\",\r\n    },\r\n    header: {\r\n      backgroundColor: \"#d9534e\", // Un color distintivo para interno\r\n      color: \"#ffffff\",\r\n      padding: \"30px 20px\",\r\n      textAlign: \"left\",\r\n    },\r\n    headerTitle: {\r\n      margin: 0,\r\n      fontSize: \"28px\",\r\n    },\r\n    content: {\r\n      padding: \"30px\",\r\n    },\r\n    // ... otros estilos ...\r\n    addressDetails: {\r\n      border: \"1px solid #ddd\",\r\n      padding: \"15px\",\r\n      backgroundColor: \"#f9f9f9\",\r\n      marginBottom: \"30px\",\r\n    },\r\n    itemsTable: {\r\n        width: \"100%\",\r\n        borderCollapse: \"collapse\",\r\n        marginBottom: \"30px\",\r\n    },\r\n    itemsTh: {\r\n        borderBottom: \"2px solid #333\",\r\n        padding: \"10px 0\",\r\n        textAlign: \"left\",\r\n        fontSize: \"16px\",\r\n        color: \"#333\"\r\n    },\r\n    footer: {\r\n      backgroundColor: \"#f4f4f4\",\r\n      padding: \"20px\",\r\n      textAlign: \"center\",\r\n      fontSize: \"12px\",\r\n      color: \"#666\",\r\n      borderTop: \"1px solid #ddd\",\r\n    },\r\n  };\r\n\r\n  const destino = envio.destino;\r\n\r\n  return (\r\n    <html>\r\n      <body style={styles.body}>\r\n        <table cellPadding=\"0\" cellSpacing=\"0\" style={styles.container}>\r\n          <thead>\r\n            <tr>\r\n              <td style={styles.header}>\r\n                <h1 style={styles.headerTitle}>\r\n                  🚨 NUEVO SURTIDO (ALM. {envio.almacen_asignado})\r\n                </h1>\r\n                <p style={styles.headerSubtitle}>\r\n                  **Folio Envío:** {envio.folio} | **Folio Pedido:** {envio.folio_pedido}\r\n                </p>\r\n                <p style={styles.headerSubtitle}>\r\n                  **Tipo Logística:** {envio.tipo_logistica}\r\n                </p>\r\n              </td>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td style={styles.content}>\r\n                <h2>Detalles de Surtido</h2>\r\n                \r\n                {/* 1. SECCIÓN DE DESTINO PARA LA GUÍA */}\r\n                <div style={styles.addressDetails}>\r\n                    <p style={{ margin: 0, fontWeight: \"bold\" }}>DESTINO FINAL:</p>\r\n                    <p style={{ margin: \"5px 0\" }}>\r\n                        **{destino.nombre_completo}** | Tel: {destino.numero_telefono}\r\n                    </p>\r\n                    <p style={{ margin: \"5px 0\" }}>\r\n                        {destino.calle} #{destino.numero_ext}{destino.numero_int ? ` Int. ${destino.numero_int}` : ''}, Col. {destino.colonia}\r\n                    </p>\r\n                    <p style={{ margin: \"5px 0\" }}>\r\n                        {destino.ciudad}, {destino.estado}, C.P. {destino.codigo_postal}\r\n                    </p>\r\n                    <p style={{ margin: \"5px 0\", color: \"#666\" }}>\r\n                        **Instrucciones:** {destino.instrucciones_entrega || 'N/A'}\r\n                    </p>\r\n                </div>\r\n\r\n                {/* 2. SECCIÓN DE PRODUCTOS A SURTIR */}\r\n                <table style={styles.itemsTable} cellPadding=\"0\" cellSpacing=\"0\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th style={styles.itemsTh}>Producto / Descripción</th>\r\n                      <th style={{ ...styles.itemsTh, textAlign: \"center\" }}>\r\n                        Cantidad a Surtir\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {envio.items_envio.map((item) => (\r\n                      <SurtidoEmailItem key={item.clave} item={item} />\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <td style={styles.footer}>\r\n                <p>\r\n                  Este es un aviso automático de un nuevo envío. Favor de surtirlo lo antes posible.\r\n                </p>\r\n                <p>\r\n                  Cualquier duda, contacte al área de ventas.\r\n                </p>\r\n              </td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n      </body>\r\n    </html>\r\n  );\r\n};\r\n\r\nmodule.exports = SurtidoEmail;"],"mappings":"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","ignoreList":[]}},"mtime":1761624197601},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\templates\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\templates\\\\SurtidoEmailItem.jsx\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"// /SurtidoEmail/SurtidoEmailItem.jsx\n\nconst React = require(\"react\");\nconst SurtidoEmailItem = ({\n  item\n}) => {\n  const styles = {\n    tr: {\n      borderBottom: \"1px solid #eee\"\n    },\n    td: {\n      padding: \"10px 0\",\n      verticalAlign: \"middle\",\n      fontSize: \"14px\"\n    },\n    clave: {\n      fontSize: \"12px\",\n      color: \"#666\"\n    },\n    description: {\n      fontSize: \"14px\",\n      fontWeight: \"bold\",\n      color: \"#333\"\n    },\n    quantity: {\n      fontSize: \"14px\",\n      fontWeight: \"bold\",\n      textAlign: \"center\",\n      color: \"#d9534e\" // Rojo para resaltar la cantidad\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    style: styles.tr\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: styles.td\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: styles.description\n  }, item.descripcion), /*#__PURE__*/React.createElement(\"p\", {\n    style: styles.clave\n  }, \"Clave: \", item.clave)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      ...styles.td,\n      ...styles.quantity\n    }\n  }, item.cantidad, \" UNIDAD(ES)\"));\n};\nmodule.exports = SurtidoEmailItem;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJTdXJ0aWRvRW1haWxJdGVtIiwiaXRlbSIsInN0eWxlcyIsInRyIiwiYm9yZGVyQm90dG9tIiwidGQiLCJwYWRkaW5nIiwidmVydGljYWxBbGlnbiIsImZvbnRTaXplIiwiY2xhdmUiLCJjb2xvciIsImRlc2NyaXB0aW9uIiwiZm9udFdlaWdodCIsInF1YW50aXR5IiwidGV4dEFsaWduIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZGVzY3JpcGNpb24iLCJjYW50aWRhZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcb3JvZHJcXHdvcmtzcGFjZVxcQVBJc1xcYXBpLWVjb21tZXJjZVxcdGVtcGxhdGVzXFwiLCJzb3VyY2VzIjpbIlN1cnRpZG9FbWFpbEl0ZW0uanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIC9TdXJ0aWRvRW1haWwvU3VydGlkb0VtYWlsSXRlbS5qc3hcclxuXHJcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xyXG5cclxuY29uc3QgU3VydGlkb0VtYWlsSXRlbSA9ICh7IGl0ZW0gfSkgPT4ge1xyXG4gIGNvbnN0IHN0eWxlcyA9IHtcclxuICAgIHRyOiB7XHJcbiAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgI2VlZVwiLFxyXG4gICAgfSxcclxuICAgIHRkOiB7XHJcbiAgICAgIHBhZGRpbmc6IFwiMTBweCAwXCIsXHJcbiAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXHJcbiAgICAgIGZvbnRTaXplOiBcIjE0cHhcIixcclxuICAgIH0sXHJcbiAgICBjbGF2ZToge1xyXG4gICAgICBmb250U2l6ZTogXCIxMnB4XCIsXHJcbiAgICAgIGNvbG9yOiBcIiM2NjZcIixcclxuICAgIH0sXHJcbiAgICBkZXNjcmlwdGlvbjoge1xyXG4gICAgICBmb250U2l6ZTogXCIxNHB4XCIsXHJcbiAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxyXG4gICAgICBjb2xvcjogXCIjMzMzXCIsXHJcbiAgICB9LFxyXG4gICAgcXVhbnRpdHk6IHtcclxuICAgICAgZm9udFNpemU6IFwiMTRweFwiLFxyXG4gICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcclxuICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gICAgICBjb2xvcjogXCIjZDk1MzRlXCIsIC8vIFJvam8gcGFyYSByZXNhbHRhciBsYSBjYW50aWRhZFxyXG4gICAgfSxcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPHRyIHN0eWxlPXtzdHlsZXMudHJ9PlxyXG4gICAgICB7LyogQ29sdW1uYSAxOiBDbGF2ZSB5IERlc2NyaXBjacOzbiAqL31cclxuICAgICAgPHRkIHN0eWxlPXtzdHlsZXMudGR9PlxyXG4gICAgICAgIDxwIHN0eWxlPXtzdHlsZXMuZGVzY3JpcHRpb259PntpdGVtLmRlc2NyaXBjaW9ufTwvcD5cclxuICAgICAgICA8cCBzdHlsZT17c3R5bGVzLmNsYXZlfT5DbGF2ZToge2l0ZW0uY2xhdmV9PC9wPlxyXG4gICAgICA8L3RkPlxyXG4gICAgICB7LyogQ29sdW1uYSAyOiBDYW50aWRhZCAqL31cclxuICAgICAgPHRkIHN0eWxlPXt7IC4uLnN0eWxlcy50ZCwgLi4uc3R5bGVzLnF1YW50aXR5IH19PlxyXG4gICAgICAgIHtpdGVtLmNhbnRpZGFkfSBVTklEQUQoRVMpXHJcbiAgICAgIDwvdGQ+XHJcbiAgICA8L3RyPlxyXG4gICk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFN1cnRpZG9FbWFpbEl0ZW07Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxNQUFNQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFFOUIsTUFBTUMsZ0JBQWdCLEdBQUdBLENBQUM7RUFBRUM7QUFBSyxDQUFDLEtBQUs7RUFDckMsTUFBTUMsTUFBTSxHQUFHO0lBQ2JDLEVBQUUsRUFBRTtNQUNGQyxZQUFZLEVBQUU7SUFDaEIsQ0FBQztJQUNEQyxFQUFFLEVBQUU7TUFDRkMsT0FBTyxFQUFFLFFBQVE7TUFDakJDLGFBQWEsRUFBRSxRQUFRO01BQ3ZCQyxRQUFRLEVBQUU7SUFDWixDQUFDO0lBQ0RDLEtBQUssRUFBRTtNQUNMRCxRQUFRLEVBQUUsTUFBTTtNQUNoQkUsS0FBSyxFQUFFO0lBQ1QsQ0FBQztJQUNEQyxXQUFXLEVBQUU7TUFDWEgsUUFBUSxFQUFFLE1BQU07TUFDaEJJLFVBQVUsRUFBRSxNQUFNO01BQ2xCRixLQUFLLEVBQUU7SUFDVCxDQUFDO0lBQ0RHLFFBQVEsRUFBRTtNQUNSTCxRQUFRLEVBQUUsTUFBTTtNQUNoQkksVUFBVSxFQUFFLE1BQU07TUFDbEJFLFNBQVMsRUFBRSxRQUFRO01BQ25CSixLQUFLLEVBQUUsU0FBUyxDQUFFO0lBQ3BCO0VBQ0YsQ0FBQztFQUVELG9CQUNFWixLQUFBLENBQUFpQixhQUFBO0lBQUlDLEtBQUssRUFBRWQsTUFBTSxDQUFDQztFQUFHLGdCQUVuQkwsS0FBQSxDQUFBaUIsYUFBQTtJQUFJQyxLQUFLLEVBQUVkLE1BQU0sQ0FBQ0c7RUFBRyxnQkFDbkJQLEtBQUEsQ0FBQWlCLGFBQUE7SUFBR0MsS0FBSyxFQUFFZCxNQUFNLENBQUNTO0VBQVksR0FBRVYsSUFBSSxDQUFDZ0IsV0FBZSxDQUFDLGVBQ3BEbkIsS0FBQSxDQUFBaUIsYUFBQTtJQUFHQyxLQUFLLEVBQUVkLE1BQU0sQ0FBQ087RUFBTSxHQUFDLFNBQU8sRUFBQ1IsSUFBSSxDQUFDUSxLQUFTLENBQzVDLENBQUMsZUFFTFgsS0FBQSxDQUFBaUIsYUFBQTtJQUFJQyxLQUFLLEVBQUU7TUFBRSxHQUFHZCxNQUFNLENBQUNHLEVBQUU7TUFBRSxHQUFHSCxNQUFNLENBQUNXO0lBQVM7RUFBRSxHQUM3Q1osSUFBSSxDQUFDaUIsUUFBUSxFQUFDLGFBQ2IsQ0FDRixDQUFDO0FBRVQsQ0FBQztBQUVEQyxNQUFNLENBQUNDLE9BQU8sR0FBR3BCLGdCQUFnQiIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["React","require","SurtidoEmailItem","item","styles","tr","borderBottom","td","padding","verticalAlign","fontSize","clave","color","description","fontWeight","quantity","textAlign","createElement","style","descripcion","cantidad","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\templates\\","sources":["SurtidoEmailItem.jsx"],"sourcesContent":["// /SurtidoEmail/SurtidoEmailItem.jsx\r\n\r\nconst React = require(\"react\");\r\n\r\nconst SurtidoEmailItem = ({ item }) => {\r\n  const styles = {\r\n    tr: {\r\n      borderBottom: \"1px solid #eee\",\r\n    },\r\n    td: {\r\n      padding: \"10px 0\",\r\n      verticalAlign: \"middle\",\r\n      fontSize: \"14px\",\r\n    },\r\n    clave: {\r\n      fontSize: \"12px\",\r\n      color: \"#666\",\r\n    },\r\n    description: {\r\n      fontSize: \"14px\",\r\n      fontWeight: \"bold\",\r\n      color: \"#333\",\r\n    },\r\n    quantity: {\r\n      fontSize: \"14px\",\r\n      fontWeight: \"bold\",\r\n      textAlign: \"center\",\r\n      color: \"#d9534e\", // Rojo para resaltar la cantidad\r\n    },\r\n  };\r\n\r\n  return (\r\n    <tr style={styles.tr}>\r\n      {/* Columna 1: Clave y Descripción */}\r\n      <td style={styles.td}>\r\n        <p style={styles.description}>{item.descripcion}</p>\r\n        <p style={styles.clave}>Clave: {item.clave}</p>\r\n      </td>\r\n      {/* Columna 2: Cantidad */}\r\n      <td style={{ ...styles.td, ...styles.quantity }}>\r\n        {item.cantidad} UNIDAD(ES)\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nmodule.exports = SurtidoEmailItem;"],"mappings":"AAAA;;AAEA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;AAE9B,MAAMC,gBAAgB,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EACrC,MAAMC,MAAM,GAAG;IACbC,EAAE,EAAE;MACFC,YAAY,EAAE;IAChB,CAAC;IACDC,EAAE,EAAE;MACFC,OAAO,EAAE,QAAQ;MACjBC,aAAa,EAAE,QAAQ;MACvBC,QAAQ,EAAE;IACZ,CAAC;IACDC,KAAK,EAAE;MACLD,QAAQ,EAAE,MAAM;MAChBE,KAAK,EAAE;IACT,CAAC;IACDC,WAAW,EAAE;MACXH,QAAQ,EAAE,MAAM;MAChBI,UAAU,EAAE,MAAM;MAClBF,KAAK,EAAE;IACT,CAAC;IACDG,QAAQ,EAAE;MACRL,QAAQ,EAAE,MAAM;MAChBI,UAAU,EAAE,MAAM;MAClBE,SAAS,EAAE,QAAQ;MACnBJ,KAAK,EAAE,SAAS,CAAE;IACpB;EACF,CAAC;EAED,oBACEZ,KAAA,CAAAiB,aAAA;IAAIC,KAAK,EAAEd,MAAM,CAACC;EAAG,gBAEnBL,KAAA,CAAAiB,aAAA;IAAIC,KAAK,EAAEd,MAAM,CAACG;EAAG,gBACnBP,KAAA,CAAAiB,aAAA;IAAGC,KAAK,EAAEd,MAAM,CAACS;EAAY,GAAEV,IAAI,CAACgB,WAAe,CAAC,eACpDnB,KAAA,CAAAiB,aAAA;IAAGC,KAAK,EAAEd,MAAM,CAACO;EAAM,GAAC,SAAO,EAACR,IAAI,CAACQ,KAAS,CAC5C,CAAC,eAELX,KAAA,CAAAiB,aAAA;IAAIC,KAAK,EAAE;MAAE,GAAGd,MAAM,CAACG,EAAE;MAAE,GAAGH,MAAM,CAACW;IAAS;EAAE,GAC7CZ,IAAI,CAACiB,QAAQ,EAAC,aACb,CACF,CAAC;AAET,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGpB,gBAAgB","ignoreList":[]}},"mtime":1761624248236},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"filename\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\\\\routes\\\\facturacion.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\orodr\\\\workspace\\\\APIs\\\\api-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst multer = require('multer');\nconst nodemailer = require('nodemailer');\n\n// --- 1. CONFIGURACIÓN DE MULTER ---\n// Multer para almacenar el archivo temporalmente en memoria (buffer).\nconst storage = multer.memoryStorage();\nconst upload = multer({\n  storage: storage\n});\n\n// --- 2. CONFIGURACIÓN DE NODEMAILER ---\nconst transporter = nodemailer.createTransport({\n  host: \"mail.sealmarket.mx\",\n  port: 465,\n  secure: true,\n  // Usar 'true' si el puerto es 465\n  auth: {\n    user: \"auto-confirm@sealmarket.mx\",\n    // Tu correo de envío\n    pass: \"Trof#4102O\" // Tu contraseña o App Password\n  }\n});\n\n// Correo fijo del personal de facturación\nconst CORREO_PERSONAL_FACTURACION = 'orodriguez@sealmarket.mx';\n\n// --- ENDPOINT: POST /enviaconstancia ---\n// 'upload.single('pdfFile')' procesa el archivo del frontend\nrouter.post('/enviaconstancia', upload.single('pdfFile'), async (req, res) => {\n  try {\n    // A. Obtener datos (Multer procesa el body y el file)\n    const {\n      folio\n    } = req.body;\n    const {\n      monto\n    } = req.body;\n    const file = req.file; // Archivo está en req.file\n\n    if (!folio || !file) {\n      return res.status(400).json({\n        error: 'Faltan el número de folio o el archivo PDF.'\n      });\n    }\n\n    // B. Preparar el attachment\n    const attachment = {\n      filename: `Solicitud_Factura_${folio}.pdf`,\n      // Nombre que verá el receptor\n      content: file.buffer,\n      // El buffer de memoria del archivo\n      contentType: file.mimetype\n    };\n\n    // C. Opciones del correo\n    const mailOptions = {\n      from: '\"Sistema Automático\" <auto-confirm@sealmarket.mx>',\n      to: CORREO_PERSONAL_FACTURACION,\n      subject: `📧 Solicitud de Facturación - Folio: ${folio}`,\n      html: `\n                <p>Estimado personal de Facturación,</p>\n                <p>Se ha recibido una nueva solicitud para facturar el pedido con el **Folio ${folio}**. El monto de este pedido es de $${monto}</p>\n                <p>El documento adjunto debe ser procesado. Favor de generar la factura y enviarla al cliente.</p>\n            `,\n      attachments: [attachment]\n    };\n\n    // D. Envío\n    const info = await transporter.sendMail(mailOptions);\n    console.log('Correo de solicitud enviado a facturación. ID: %s', info.messageId);\n\n    // E. Respuesta exitosa al frontend\n    res.status(200).json({\n      mensaje: 'Solicitud enviada al personal de facturación con éxito.',\n      folio: folio\n    });\n  } catch (error) {\n    console.error('Error al procesar la solicitud o enviar el correo:', error);\n    res.status(500).json({\n      error: 'Error interno del servidor al procesar la solicitud.',\n      detalle: error.message\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIm11bHRlciIsIm5vZGVtYWlsZXIiLCJzdG9yYWdlIiwibWVtb3J5U3RvcmFnZSIsInVwbG9hZCIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwiaG9zdCIsInBvcnQiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsInBhc3MiLCJDT1JSRU9fUEVSU09OQUxfRkFDVFVSQUNJT04iLCJwb3N0Iiwic2luZ2xlIiwicmVxIiwicmVzIiwiZm9saW8iLCJib2R5IiwibW9udG8iLCJmaWxlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiYXR0YWNobWVudCIsImZpbGVuYW1lIiwiY29udGVudCIsImJ1ZmZlciIsImNvbnRlbnRUeXBlIiwibWltZXR5cGUiLCJtYWlsT3B0aW9ucyIsImZyb20iLCJ0byIsInN1YmplY3QiLCJodG1sIiwiYXR0YWNobWVudHMiLCJpbmZvIiwic2VuZE1haWwiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZUlkIiwibWVuc2FqZSIsImRldGFsbGUiLCJtZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxvcm9kclxcd29ya3NwYWNlXFxBUElzXFxhcGktZWNvbW1lcmNlXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiZmFjdHVyYWNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgbXVsdGVyID0gcmVxdWlyZSgnbXVsdGVyJyk7XHJcbmNvbnN0IG5vZGVtYWlsZXIgPSByZXF1aXJlKCdub2RlbWFpbGVyJyk7XHJcblxyXG4vLyAtLS0gMS4gQ09ORklHVVJBQ0nDk04gREUgTVVMVEVSIC0tLVxyXG4vLyBNdWx0ZXIgcGFyYSBhbG1hY2VuYXIgZWwgYXJjaGl2byB0ZW1wb3JhbG1lbnRlIGVuIG1lbW9yaWEgKGJ1ZmZlcikuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIubWVtb3J5U3RvcmFnZSgpO1xyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pO1xyXG5cclxuLy8gLS0tIDIuIENPTkZJR1VSQUNJw5NOIERFIE5PREVNQUlMRVIgLS0tXHJcbmNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gICAgaG9zdDogXCJtYWlsLnNlYWxtYXJrZXQubXhcIixcclxuICAgIHBvcnQ6IDQ2NSxcclxuICAgIHNlY3VyZTogdHJ1ZSwgLy8gVXNhciAndHJ1ZScgc2kgZWwgcHVlcnRvIGVzIDQ2NVxyXG4gICAgYXV0aDoge1xyXG4gICAgICAgIHVzZXI6IFwiYXV0by1jb25maXJtQHNlYWxtYXJrZXQubXhcIiwgLy8gVHUgY29ycmVvIGRlIGVudsOtb1xyXG4gICAgICAgIHBhc3M6IFwiVHJvZiM0MTAyT1wiIC8vIFR1IGNvbnRyYXNlw7FhIG8gQXBwIFBhc3N3b3JkXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gQ29ycmVvIGZpam8gZGVsIHBlcnNvbmFsIGRlIGZhY3R1cmFjacOzblxyXG5jb25zdCBDT1JSRU9fUEVSU09OQUxfRkFDVFVSQUNJT04gPSAnb3JvZHJpZ3VlekBzZWFsbWFya2V0Lm14JztcclxuXHJcbi8vIC0tLSBFTkRQT0lOVDogUE9TVCAvZW52aWFjb25zdGFuY2lhIC0tLVxyXG4vLyAndXBsb2FkLnNpbmdsZSgncGRmRmlsZScpJyBwcm9jZXNhIGVsIGFyY2hpdm8gZGVsIGZyb250ZW5kXHJcbnJvdXRlci5wb3N0KCcvZW52aWFjb25zdGFuY2lhJywgdXBsb2FkLnNpbmdsZSgncGRmRmlsZScpLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gQS4gT2J0ZW5lciBkYXRvcyAoTXVsdGVyIHByb2Nlc2EgZWwgYm9keSB5IGVsIGZpbGUpXHJcbiAgICAgICAgY29uc3QgeyBmb2xpbyB9ID0gcmVxLmJvZHk7XHJcbiAgICAgICAgY29uc3QgeyBtb250byB9ID0gcmVxLmJvZHk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZmlsZSA9IHJlcS5maWxlOyAvLyBBcmNoaXZvIGVzdMOhIGVuIHJlcS5maWxlXHJcblxyXG4gICAgICAgIGlmICghZm9saW8gfHwgIWZpbGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdGYWx0YW4gZWwgbsO6bWVybyBkZSBmb2xpbyBvIGVsIGFyY2hpdm8gUERGLicgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBCLiBQcmVwYXJhciBlbCBhdHRhY2htZW50XHJcbiAgICAgICAgY29uc3QgYXR0YWNobWVudCA9IHtcclxuICAgICAgICAgICAgZmlsZW5hbWU6IGBTb2xpY2l0dWRfRmFjdHVyYV8ke2ZvbGlvfS5wZGZgLCAvLyBOb21icmUgcXVlIHZlcsOhIGVsIHJlY2VwdG9yXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGZpbGUuYnVmZmVyLCAgICAgICAgICAgICAgICAgICAgICAgLy8gRWwgYnVmZmVyIGRlIG1lbW9yaWEgZGVsIGFyY2hpdm9cclxuICAgICAgICAgICAgY29udGVudFR5cGU6IGZpbGUubWltZXR5cGVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDLiBPcGNpb25lcyBkZWwgY29ycmVvXHJcbiAgICAgICAgY29uc3QgbWFpbE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGZyb206ICdcIlNpc3RlbWEgQXV0b23DoXRpY29cIiA8YXV0by1jb25maXJtQHNlYWxtYXJrZXQubXg+JyxcclxuICAgICAgICAgICAgdG86IENPUlJFT19QRVJTT05BTF9GQUNUVVJBQ0lPTixcclxuICAgICAgICAgICAgc3ViamVjdDogYPCfk6cgU29saWNpdHVkIGRlIEZhY3R1cmFjacOzbiAtIEZvbGlvOiAke2ZvbGlvfWAsXHJcbiAgICAgICAgICAgIGh0bWw6IGBcclxuICAgICAgICAgICAgICAgIDxwPkVzdGltYWRvIHBlcnNvbmFsIGRlIEZhY3R1cmFjacOzbiw8L3A+XHJcbiAgICAgICAgICAgICAgICA8cD5TZSBoYSByZWNpYmlkbyB1bmEgbnVldmEgc29saWNpdHVkIHBhcmEgZmFjdHVyYXIgZWwgcGVkaWRvIGNvbiBlbCAqKkZvbGlvICR7Zm9saW99KiouIEVsIG1vbnRvIGRlIGVzdGUgcGVkaWRvIGVzIGRlICQke21vbnRvfTwvcD5cclxuICAgICAgICAgICAgICAgIDxwPkVsIGRvY3VtZW50byBhZGp1bnRvIGRlYmUgc2VyIHByb2Nlc2Fkby4gRmF2b3IgZGUgZ2VuZXJhciBsYSBmYWN0dXJhIHkgZW52aWFybGEgYWwgY2xpZW50ZS48L3A+XHJcbiAgICAgICAgICAgIGAsXHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnRzOiBbYXR0YWNobWVudF0sXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gRC4gRW52w61vXHJcbiAgICAgICAgY29uc3QgaW5mbyA9IGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKG1haWxPcHRpb25zKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ29ycmVvIGRlIHNvbGljaXR1ZCBlbnZpYWRvIGEgZmFjdHVyYWNpw7NuLiBJRDogJXMnLCBpbmZvLm1lc3NhZ2VJZCk7XHJcblxyXG4gICAgICAgIC8vIEUuIFJlc3B1ZXN0YSBleGl0b3NhIGFsIGZyb250ZW5kXHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBcclxuICAgICAgICAgICAgbWVuc2FqZTogJ1NvbGljaXR1ZCBlbnZpYWRhIGFsIHBlcnNvbmFsIGRlIGZhY3R1cmFjacOzbiBjb24gw6l4aXRvLicsIFxyXG4gICAgICAgICAgICBmb2xpbzogZm9saW9cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIHByb2Nlc2FyIGxhIHNvbGljaXR1ZCBvIGVudmlhciBlbCBjb3JyZW86JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXHJcbiAgICAgICAgICAgIGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3IgYWwgcHJvY2VzYXIgbGEgc29saWNpdHVkLicsXHJcbiAgICAgICAgICAgIGRldGFsbGU6IGVycm9yLm1lc3NhZ2UgXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLE1BQU1DLE1BQU0sR0FBR0gsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUNoQyxNQUFNSSxVQUFVLEdBQUdKLE9BQU8sQ0FBQyxZQUFZLENBQUM7O0FBRXhDO0FBQ0E7QUFDQSxNQUFNSyxPQUFPLEdBQUdGLE1BQU0sQ0FBQ0csYUFBYSxDQUFDLENBQUM7QUFDdEMsTUFBTUMsTUFBTSxHQUFHSixNQUFNLENBQUM7RUFBRUUsT0FBTyxFQUFFQTtBQUFRLENBQUMsQ0FBQzs7QUFFM0M7QUFDQSxNQUFNRyxXQUFXLEdBQUdKLFVBQVUsQ0FBQ0ssZUFBZSxDQUFDO0VBQzNDQyxJQUFJLEVBQUUsb0JBQW9CO0VBQzFCQyxJQUFJLEVBQUUsR0FBRztFQUNUQyxNQUFNLEVBQUUsSUFBSTtFQUFFO0VBQ2RDLElBQUksRUFBRTtJQUNGQyxJQUFJLEVBQUUsNEJBQTRCO0lBQUU7SUFDcENDLElBQUksRUFBRSxZQUFZLENBQUM7RUFDdkI7QUFDSixDQUFDLENBQUM7O0FBRUY7QUFDQSxNQUFNQywyQkFBMkIsR0FBRywwQkFBMEI7O0FBRTlEO0FBQ0E7QUFDQWYsTUFBTSxDQUFDZ0IsSUFBSSxDQUFDLGtCQUFrQixFQUFFVixNQUFNLENBQUNXLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMxRSxJQUFJO0lBQ0E7SUFDQSxNQUFNO01BQUVDO0lBQU0sQ0FBQyxHQUFHRixHQUFHLENBQUNHLElBQUk7SUFDMUIsTUFBTTtNQUFFQztJQUFNLENBQUMsR0FBR0osR0FBRyxDQUFDRyxJQUFJO0lBRTFCLE1BQU1FLElBQUksR0FBR0wsR0FBRyxDQUFDSyxJQUFJLENBQUMsQ0FBQzs7SUFFdkIsSUFBSSxDQUFDSCxLQUFLLElBQUksQ0FBQ0csSUFBSSxFQUFFO01BQ2pCLE9BQU9KLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUMsS0FBSyxFQUFFO01BQThDLENBQUMsQ0FBQztJQUN6Rjs7SUFFQTtJQUNBLE1BQU1DLFVBQVUsR0FBRztNQUNmQyxRQUFRLEVBQUUscUJBQXFCUixLQUFLLE1BQU07TUFBRTtNQUM1Q1MsT0FBTyxFQUFFTixJQUFJLENBQUNPLE1BQU07TUFBd0I7TUFDNUNDLFdBQVcsRUFBRVIsSUFBSSxDQUFDUztJQUN0QixDQUFDOztJQUVEO0lBQ0EsTUFBTUMsV0FBVyxHQUFHO01BQ2hCQyxJQUFJLEVBQUUsbURBQW1EO01BQ3pEQyxFQUFFLEVBQUVwQiwyQkFBMkI7TUFDL0JxQixPQUFPLEVBQUUsd0NBQXdDaEIsS0FBSyxFQUFFO01BQ3hEaUIsSUFBSSxFQUFFO0FBQ2xCO0FBQ0EsK0ZBQStGakIsS0FBSyxzQ0FBc0NFLEtBQUs7QUFDL0k7QUFDQSxhQUFhO01BQ0RnQixXQUFXLEVBQUUsQ0FBQ1gsVUFBVTtJQUM1QixDQUFDOztJQUVEO0lBQ0EsTUFBTVksSUFBSSxHQUFHLE1BQU1oQyxXQUFXLENBQUNpQyxRQUFRLENBQUNQLFdBQVcsQ0FBQztJQUNwRFEsT0FBTyxDQUFDQyxHQUFHLENBQUMsbURBQW1ELEVBQUVILElBQUksQ0FBQ0ksU0FBUyxDQUFDOztJQUVoRjtJQUNBeEIsR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUNqQm1CLE9BQU8sRUFBRSx5REFBeUQ7TUFDbEV4QixLQUFLLEVBQUVBO0lBQ1gsQ0FBQyxDQUFDO0VBRU4sQ0FBQyxDQUFDLE9BQU9NLEtBQUssRUFBRTtJQUNaZSxPQUFPLENBQUNmLEtBQUssQ0FBQyxvREFBb0QsRUFBRUEsS0FBSyxDQUFDO0lBQzFFUCxHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQ2pCQyxLQUFLLEVBQUUsc0RBQXNEO01BQzdEbUIsT0FBTyxFQUFFbkIsS0FBSyxDQUFDb0I7SUFDbkIsQ0FBQyxDQUFDO0VBQ047QUFDSixDQUFDLENBQUM7QUFFRkMsTUFBTSxDQUFDQyxPQUFPLEdBQUdoRCxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["express","require","router","Router","multer","nodemailer","storage","memoryStorage","upload","transporter","createTransport","host","port","secure","auth","user","pass","CORREO_PERSONAL_FACTURACION","post","single","req","res","folio","body","monto","file","status","json","error","attachment","filename","content","buffer","contentType","mimetype","mailOptions","from","to","subject","html","attachments","info","sendMail","console","log","messageId","mensaje","detalle","message","module","exports"],"sourceRoot":"C:\\Users\\orodr\\workspace\\APIs\\api-ecommerce\\routes\\","sources":["facturacion.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst multer = require('multer');\r\nconst nodemailer = require('nodemailer');\r\n\r\n// --- 1. CONFIGURACIÓN DE MULTER ---\r\n// Multer para almacenar el archivo temporalmente en memoria (buffer).\r\nconst storage = multer.memoryStorage();\r\nconst upload = multer({ storage: storage });\r\n\r\n// --- 2. CONFIGURACIÓN DE NODEMAILER ---\r\nconst transporter = nodemailer.createTransport({\r\n    host: \"mail.sealmarket.mx\",\r\n    port: 465,\r\n    secure: true, // Usar 'true' si el puerto es 465\r\n    auth: {\r\n        user: \"auto-confirm@sealmarket.mx\", // Tu correo de envío\r\n        pass: \"Trof#4102O\" // Tu contraseña o App Password\r\n    }\r\n});\r\n\r\n// Correo fijo del personal de facturación\r\nconst CORREO_PERSONAL_FACTURACION = 'orodriguez@sealmarket.mx';\r\n\r\n// --- ENDPOINT: POST /enviaconstancia ---\r\n// 'upload.single('pdfFile')' procesa el archivo del frontend\r\nrouter.post('/enviaconstancia', upload.single('pdfFile'), async (req, res) => {\r\n    try {\r\n        // A. Obtener datos (Multer procesa el body y el file)\r\n        const { folio } = req.body;\r\n        const { monto } = req.body;\r\n        \r\n        const file = req.file; // Archivo está en req.file\r\n\r\n        if (!folio || !file) {\r\n            return res.status(400).json({ error: 'Faltan el número de folio o el archivo PDF.' });\r\n        }\r\n\r\n        // B. Preparar el attachment\r\n        const attachment = {\r\n            filename: `Solicitud_Factura_${folio}.pdf`, // Nombre que verá el receptor\r\n            content: file.buffer,                       // El buffer de memoria del archivo\r\n            contentType: file.mimetype\r\n        };\r\n\r\n        // C. Opciones del correo\r\n        const mailOptions = {\r\n            from: '\"Sistema Automático\" <auto-confirm@sealmarket.mx>',\r\n            to: CORREO_PERSONAL_FACTURACION,\r\n            subject: `📧 Solicitud de Facturación - Folio: ${folio}`,\r\n            html: `\r\n                <p>Estimado personal de Facturación,</p>\r\n                <p>Se ha recibido una nueva solicitud para facturar el pedido con el **Folio ${folio}**. El monto de este pedido es de $${monto}</p>\r\n                <p>El documento adjunto debe ser procesado. Favor de generar la factura y enviarla al cliente.</p>\r\n            `,\r\n            attachments: [attachment],\r\n        };\r\n\r\n        // D. Envío\r\n        const info = await transporter.sendMail(mailOptions);\r\n        console.log('Correo de solicitud enviado a facturación. ID: %s', info.messageId);\r\n\r\n        // E. Respuesta exitosa al frontend\r\n        res.status(200).json({ \r\n            mensaje: 'Solicitud enviada al personal de facturación con éxito.', \r\n            folio: folio\r\n        });\r\n\r\n    } catch (error) {\r\n        console.error('Error al procesar la solicitud o enviar el correo:', error);\r\n        res.status(500).json({ \r\n            error: 'Error interno del servidor al procesar la solicitud.',\r\n            detalle: error.message \r\n        });\r\n    }\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,MAAM,GAAGH,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAMI,UAAU,GAAGJ,OAAO,CAAC,YAAY,CAAC;;AAExC;AACA;AACA,MAAMK,OAAO,GAAGF,MAAM,CAACG,aAAa,CAAC,CAAC;AACtC,MAAMC,MAAM,GAAGJ,MAAM,CAAC;EAAEE,OAAO,EAAEA;AAAQ,CAAC,CAAC;;AAE3C;AACA,MAAMG,WAAW,GAAGJ,UAAU,CAACK,eAAe,CAAC;EAC3CC,IAAI,EAAE,oBAAoB;EAC1BC,IAAI,EAAE,GAAG;EACTC,MAAM,EAAE,IAAI;EAAE;EACdC,IAAI,EAAE;IACFC,IAAI,EAAE,4BAA4B;IAAE;IACpCC,IAAI,EAAE,YAAY,CAAC;EACvB;AACJ,CAAC,CAAC;;AAEF;AACA,MAAMC,2BAA2B,GAAG,0BAA0B;;AAE9D;AACA;AACAf,MAAM,CAACgB,IAAI,CAAC,kBAAkB,EAAEV,MAAM,CAACW,MAAM,CAAC,SAAS,CAAC,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAC1E,IAAI;IACA;IACA,MAAM;MAAEC;IAAM,CAAC,GAAGF,GAAG,CAACG,IAAI;IAC1B,MAAM;MAAEC;IAAM,CAAC,GAAGJ,GAAG,CAACG,IAAI;IAE1B,MAAME,IAAI,GAAGL,GAAG,CAACK,IAAI,CAAC,CAAC;;IAEvB,IAAI,CAACH,KAAK,IAAI,CAACG,IAAI,EAAE;MACjB,OAAOJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,KAAK,EAAE;MAA8C,CAAC,CAAC;IACzF;;IAEA;IACA,MAAMC,UAAU,GAAG;MACfC,QAAQ,EAAE,qBAAqBR,KAAK,MAAM;MAAE;MAC5CS,OAAO,EAAEN,IAAI,CAACO,MAAM;MAAwB;MAC5CC,WAAW,EAAER,IAAI,CAACS;IACtB,CAAC;;IAED;IACA,MAAMC,WAAW,GAAG;MAChBC,IAAI,EAAE,mDAAmD;MACzDC,EAAE,EAAEpB,2BAA2B;MAC/BqB,OAAO,EAAE,wCAAwChB,KAAK,EAAE;MACxDiB,IAAI,EAAE;AAClB;AACA,+FAA+FjB,KAAK,sCAAsCE,KAAK;AAC/I;AACA,aAAa;MACDgB,WAAW,EAAE,CAACX,UAAU;IAC5B,CAAC;;IAED;IACA,MAAMY,IAAI,GAAG,MAAMhC,WAAW,CAACiC,QAAQ,CAACP,WAAW,CAAC;IACpDQ,OAAO,CAACC,GAAG,CAAC,mDAAmD,EAAEH,IAAI,CAACI,SAAS,CAAC;;IAEhF;IACAxB,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MACjBmB,OAAO,EAAE,yDAAyD;MAClExB,KAAK,EAAEA;IACX,CAAC,CAAC;EAEN,CAAC,CAAC,OAAOM,KAAK,EAAE;IACZe,OAAO,CAACf,KAAK,CAAC,oDAAoD,EAAEA,KAAK,CAAC;IAC1EP,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MACjBC,KAAK,EAAE,sDAAsD;MAC7DmB,OAAO,EAAEnB,KAAK,CAACoB;IACnB,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGhD,MAAM","ignoreList":[]}},"mtime":1761626825798}}